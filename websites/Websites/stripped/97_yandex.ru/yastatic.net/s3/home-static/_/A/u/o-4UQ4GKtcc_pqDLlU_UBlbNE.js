if(window.Ya&&Ya.Rum&&Ya.Rum.time){Ya.Rum.time("2095");}var BEMHTML;window.home=window.home||{},home.bundles=home.bundles||{},home.bundles.staticURL=home.bundles.staticURL||{},home.bundles.staticURL.keyboard={js:"https://yastatic.net/s3/home-static/_/L/v/kC9sfao9ZpHlXeCpsuPlvkQNU.js",css:"https://yastatic.net/s3/home-static/_/f/d/2EtJnDiNnpjtMSXnFXZJbhC1o.css"},function(){var t,e,n,i,o={1641:function(t){t.exports=function(t){if(!t)return"";var e,n,i="";for(e in t)t.hasOwnProperty(e)&&(n=t[e],/^_temp/.test(e)&&"string"==typeof n?i+=" "+n:(n||0===n)&&(!0===n?i+=" "+e.toLowerCase():(n=n.toString(),/"/.test(n)&&(n=n.replace(/"/g,"&quot;")),i+=" "+e.toLowerCase()+'="'+n+'"')));return i}},1855:function(t){function e(t){return"boolean"!=typeof t&&null!==t&&t!==undefined?Array.isArray(t)?t.join(""):t:""}t.exports=function(t){return t.map(e).join("")},t.exports.oneElem=e},8731:function(){BEM.DOM.decl("auth",{logout:function(){if(this.params.logout){var t="frame"+parseInt(1e4*Math.random(),10),e=$('<form style="display:none" target="'+t+'" method="post" action="'+this.params.logout+'"></form>'),n=$('<iframe style="display:none" name="'+t+'"></iframe>');$("body").append(e,n),e.submit()}}})},182:function(){!function(){"use strict";BEM.DOM.decl("checkbox",{onSetMod:{js:function(){this.__base(),this.params.stat&&this.on("change",(function(){home.stat.logPath("click",this.params.stat)}))}}},{live:function(){return this.__base.apply(this,arguments),this.liveBindTo("click",(function(t){$(t.target).hasClass("checkbox")&&this.toggle()})),!1}})}()},7298:function(){BEM.DOM.decl("content-tabs",{onClick:function(t,e){var n=e.closest(".content-tabs__head-item");this.hasMod(n,"active","true")||(this.switchTo(n),t.preventDefault())},toggleTab:function(t,e,n){var i=t.data("stat"),o=t.find(".content-tabs__link");this.toggleMod(t,"active","true","false",e),o.attr("aria-selected",e?"true":"false"),o.attr("tabindex",e?"0":"-1"),this.saveTab(t),i&&e&&!1!==n&&home.stat.logPath("click",i)},togglePanel:function(t,e){this.toggleMod(t,"active","true","false",e),t.attr("aria-hidden",e?"false":"true")},switchTo:function(t,e){e=e||{};var n=t.attr("id"),i=!1!==e.focus;this.toggleTab(this.elem("head-item","active","true"),!1),this.toggleTab(t,!0,e.stat),this.togglePanel(this.elem("items","active","true"),!1),this.togglePanel(this.domElem.find("#"+n+"c"),!0),i&&t.find(".content-tabs__link").focus(),this.trigger("switch",n),!1!==e.stat&&home.stat.logDOMShow(this.domElem)},getFrame:function(){var t=this.elem("frame");return t&&t.length||(t=$('<iframe style="display:none" class="content-tabs__frame" name="content-tabs__frame"></frame>'),this.domElem.append(t),this.dropElemCache("frame")),t},saveTab:function(t){var e=t.data("save-url");e&&this.getFrame().attr("src",e)},selectRelative:function(t){var e=this.elem("head-item"),n=this.elem("head-item","active","true"),i=$.inArray(n[0],e)+t;return i>=e.length?i=0:i<0&&(i=e.length-1),this.switchTo(e.eq(i)),!1},selectFirstTab:function(t){var e=this.elem("head-item");return this.switchTo(e.eq(0),{stat:t}),!1},selectLastTab:function(){var t=this.elem("head-item");return this.switchTo(t.eq(t.length-1)),!1}},{_selectedTabs:{},live:function(){$("body").on("click",".content-tabs__link",(function(t){var e=$(t.target);e.closest(".content-tabs").bem("content-tabs").onClick(t,e)})),this.liveBindKey("link","left",(function(){return this.selectRelative(-1)})),this.liveBindKey("link","right",(function(){return this.selectRelative(1)})),this.liveBindKey("link","home",(function(){return this.selectFirstTab()})),this.liveBindKey("link","end",(function(){return this.selectLastTab()}))}})},5341:function(){BEM.DOM.decl({block:"dist-overlay",modName:"install",modVal:"download"},{_download:function(){var t,e;home.stat.logPath("show","dist_overlay.ok");var n=null==(t=this.params)?void 0:t.install;n&&!this._downloadInstance&&(this._downloadInstance=BEM.create("i-install-download",n)),null==(e=this._downloadInstance)||e.download()}})},9137:function(){BEM.DOM.decl({block:"dist-popup",modName:"hide",modVal:"on-scroll"},{_onShow:function(){var t=this;this.__base.apply(this,arguments),this._onScroll=function(){var e;window.pageYOffset>250&&(null==(e=t.popup)||e.hide(),t.channel("i-scroll-event").un("scroll",t._onScroll))},this.channel("i-scroll-event").on("scroll",this._onScroll)},_onNoClick:function(){return this.channel("i-scroll-event").un("scroll",this._onScroll),this.__base.apply(this,arguments)},destruct:function(){return this.channel("i-scroll-event").un("scroll",this._onScroll),this.__base.apply(this,arguments)}})},6517:function(){BEM.DOM.decl({block:"dist-popup",modName:"install",modVal:"download"},{_onYesClick:function(){return this.__base.apply(this,arguments),this._sendCounter(this.params.counters.yes),this._downloadInstance||(this._downloadInstance=BEM.create("i-install-download",this.params)),this._downloadInstance.download(),this._hide(),!1}})},2530:function(){BEM.DOM.decl({block:"dist-popup",modName:"position",modVal:"bottom-left"},{_getPopupPosition:function(){var t;return{top:window.innerHeight-(null!=(t=this.domElem.height())?t:0)-25,left:18}}},{})},5378:function(){BEM.decl("i-install-download",{download:function(){return BEM.blocks.paas.show(this.params.paas),this._download(),this},_countDownload:function(){this.params.counters.click&&((new Image).src=this.params.counters.click)},_download:function(){var t=document.createElement("iframe");$(t).addClass("i-install-download__frame-hidden").attr("aria-hidden","true").attr("name","install").attr("src",this.params.url),BEM.DOM.scope&&$(t).appendTo(BEM.DOM.scope),this._countDownload()}})},7929:function(){BEM.decl("i-metrika",{},{add:function(t){var e=(t=t||{}).id;if(!e)throw new Error("i-metrika: Counter id wasn't passed");var n=$.Deferred();try{window["yaCounter"+e]?n.resolve(window["yaCounter"+e]):(window["yaCounter"+e]=new window.Ya.Metrika(t),$(document).one("yacounter"+e+"inited",(function(){n.resolve(window["yaCounter"+e])})))}catch(i){n.reject()}return n.promise()}})},6421:function(){BEM.DOM.declMix("mix-tabber-slide2",{_changeTab:function(t,e){var n=this._mapKeyToIndex(this._selectedKey),i=this._mapKeyToIndex(t);this._showSide=n<i?"right":"left",this._hideSide=n<i?"left":"right",this._hasAnimation=!(e&&!1===e.animate),this.domElem.toggleClass("mix-tabber-slide2_panel-animation_yes",this._hasAnimation),this.__base.apply(this,arguments)},_toggleMountPanel:function(t,e,n){if(this._panelMap=this._panelMap||{},this._panelMap[t]=n,n){e.parent().length||this.elem("panels").append(e),e.removeClass("mix-tabber-slide2__panel_hide-side_left mix-tabber-slide2__panel_hide-side_right").addClass("mix-tabber-slide2__panel_hide-side_"+this._showSide).addClass("mix-tabber-slide2__panel_hidden_yes").removeClass("mix-tabber-slide2__panel_no-place_yes");var i=function(){this._panelMap[t]===n&&e.removeClass("mix-tabber-slide2__panel_hide-side_left mix-tabber-slide2__panel_hide-side_right").removeClass("mix-tabber-slide2__panel_hidden_yes").addClass("mix-tabber-slide2__panel_animated_yes").onceAnimationEnd("transition",this.__self.SLIDE_DURATION,(function(){e.removeClass("mix-tabber-slide2__panel_animated_yes")}))}.bind(this);this._hasAnimation?setTimeout(i,100):i()}else e.removeClass("mix-tabber-slide2__panel_hide-side_left mix-tabber-slide2__panel_hide-side_right").addClass("mix-tabber-slide2__panel_hide-side_"+this._hideSide).addClass("mix-tabber-slide2__panel_hidden_yes").addClass("mix-tabber-slide2__panel_no-place_yes").addClass("mix-tabber-slide2__panel_animated_yes").onceAnimationEnd("transition",this.__self.SLIDE_DURATION,(function(){e.removeClass("mix-tabber-slide2__panel_animated_yes")}))},_createPanel:function(){var t=this.__base.apply(this,arguments);return t.addClass("mix-tabber-slide2__panel"),t}},{SLIDE_DURATION:250})},1478:function(){BEM.DOM.decl("popup",{_getPosOf:function(t){var e,n=t.offset();return n?(this._getPosOfTmpElem||(this._getPosOfTmpElem=$('<div class="popup__getposoffix" style="position:absolute;left:0;top:0">').appendTo("body")),e=this._getPosOfTmpElem.offset(),n.left-=e.left,n.top-=e.top,n):{left:0,top:0}}})},1895:function(){BEM.decl("suggest2-view",{_getItemByType:function(t,e,n,i){var o,s;return"email"===n?(o=[],(s=i.js).email=t[1],o.push({elem:"email",content:BEM.blocks["i-common__string"].escapeHTML(t[1])}),$.extend({block:"suggest2-item",mods:i.mods,js:s,content:o},i.props)):this.__base.apply(this,arguments)}})},1793:function(){BEM.DOM.decl("suggest2",{_doRequest:function(){(this._ignoredFirstRequest||"request"===this.params.onFocus||this._input.val())&&this.__base.apply(this,arguments),this._ignoredFirstRequest=!0}})},3623:function(){$(document).ready((function(){if(window.tabParams){var t=$("#text"),e=$("a.link__tab, .link__tab2");if(t.length||(t=tabParams.elemSearch),!e.length&&tabParams.elemTabs&&(e=tabParams.elemTabs),t.length&&e.length){var n="",i=!1;setInterval((function(){var s=encodeURIComponent($.trim(t.val()));i&&s===n||(i=!0,n=s,e.map((function(){var t,e,n,i,r=$(this).attr("id").split("-")[1],a="";if(tabParams.url[r]){if(t=tabParams.url[r],tabParams.searchUrl[r]&&(n=tabParams.searchUrl[r]),s&&n||!tabParams.noSearchDefParamsMap||!tabParams.noSearchDefParamsMap[r]?s&&tabParams.searchDefParamsMap&&tabParams.searchDefParamsMap[r]&&(a=$.param(tabParams.searchDefParamsMap[r])):a=$.param(tabParams.noSearchDefParamsMap[r]),i=[$.param(tabParams.commonParams),a].filter((function(t){return t.length})).join("&"),n&&s||(e=o(t,i)),n&&s){var c=function(t){return tabParams.searchParamName&&tabParams.searchParamName[t]?tabParams.searchParamName[t]:""}(r);e=o(n,i),e=o(e,c+"="+s)}$(this).attr("href",e)}})))}),200)}}function o(t,e){return t+(e.length?(-1!==t.indexOf("?")?"&":"?")+e:"")}}))},5243:function(){MBEM.decl({block:"ad-mark",modName:"size",modVal:"small"},{__constructor:function(){this.__base.apply(this,arguments),this._adInfo=this.elem("info")[0],this.bindTo("mark","click",this._showAdInfo),this.bindTo("info-close-icon","click",this._hideAdInfo)},_showAdInfo:function(){this.params.statName&&home.stat.logPath("click",this.params.statName),MBEM.cls.add(this._adInfo,"ad-mark__info_visible")},_hideAdInfo:function(){MBEM.cls.remove(this._adInfo,"ad-mark__info_visible")}})},1286:function(){MBEM.decl("ad-mark",{})},5748:function(){BEM.DOM.decl("b-disaster",{onSetMod:{js:{inited:function(){$(this._initEvents.bind(this))}}},_initEvents:function(){this._disasterPopup=$(".b-disaster-popup"),this._disasterPopupContent=$(".b-disaster-popup__content"),this._originHeight=0,this._margins=0,this._gap=70,this._disasterPopup.length&&(this.bindTo("click",this._onClick),this.bindKeyTo(this.domElem,"space enter",this._onClick)),this.bindToWin("resize",this._checkHeight)},_checkHeight:function(){var t=this._disasterPopup.height(),e=this._disasterPopupContent.height(),n=$(window).height();this._originHeight||(this._originHeight=t,this._margins=t-e),this._originHeight+this._gap>n?this._disasterPopupContent.css({height:Math.max(n-this._gap-this._margins,200),overflowY:"auto",marginRight:7}):this._disasterPopupContent.css({height:"auto",overflowY:"visible",marginRight:0})},_onClick:function(){if(this._disasterPopup.length){var t=this._disasterPopup.bem("popup");return t.isShown()?t.hide():(t.show(t.hasMod("type","modal")?undefined:this.domElem),home.stat.logDOMShow(t.domElem)),t.on("hide",(function(){home.stat.logPath("show","head.disaster.popup.closed")})),!1}this._checkHeight()}})},3880:function(){BEM.DOM.decl("b-errormsg",{onSetMod:{js:{inited:function(){this.bindTo("close","pointerclick",(function(){home.stat.logPath("click","errormsg.close"),this.setMod("hidden","yes")}))}}}})},8435:function(){var t;t=function(){var t=home.getData("delayed-reporter"),e=function(t){"undefined"!=typeof t.timeout?setTimeout((function(){n(t)}),1e3*t.timeout):n(t)},n=function(t){t.url?(new Image).src=t.url:t.stat&&t.stat.type&&t.stat.name&&home.stat.logPath(t.stat.type,t.stat.name)},i=function(t){t&&(t="string"==typeof t?{url:t}:t,document.visibilityState&&"visible"!==document.visibilityState?document.addEventListener("visibilitychange",(function n(){"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",n),e(t))})):e(t))};if(t)for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];Array.isArray(s)||(s=[s]),s.forEach(i)}},window.$?$(t):"addEventListener"in document&&document.addEventListener("DOMContentLoaded",t,!1)},215:function(){BEM.decl("dropdown",{onSetMod:{js:function(){this.__base.apply(this,arguments),this._switcher=this._switcher||this.elem("switcher")}},_onSwitcherClick:function(t){this._toggle(),t.preventDefault()}})},3560:function(){home.bundles.initBlocks=function(){var t={};$(".i-bundle-bem").each((function(){var e=$(this),n=e.data("bem"),i=e.data("depBundle"),o=[],s=!1;if(i){i=i.split(",");for(var r=0;r<i.length;++r)if(!home.bundles.loaded[i[r]])return}else for(var a in n){n.hasOwnProperty(a)&&t[a]&&o.push(t[a]);for(var c=0;c<o.length;c++){for(var l=0;l<o[c].length;l++)s=s||home.bundles.loaded[o[c][l]];if(!s)return}}for(var u in n)if(n.hasOwnProperty(u)&&!(u in BEM.blocks))return;e.removeClass("i-bundle-bem").addClass("i-bem"),BEM.DOM.init(e)}))},$((function(){BEM.afterCurrentEvent((function(){home.bundles.initBlocks()}))}))},528:function(){!function(){"use strict";var t={},e={};function n(t){var e=home.getData("bundles.data.host");return e?t.replace("//yastatic.net",e):t}home.bundles=home.bundles||{},home.bundles.loaded={},home.bundles.load=function(i,o){if(t[i])return t[i];var s=home.getData("bundles.data");if(home.getData("bundles.placed",[]).indexOf(i)>-1)return t[i]=new Promise((function(t){e[i]=t})),t[i];o=o||{};var r=home.bundles.staticURL&&home.bundles.staticURL[i]||s&&s.staticURL&&s.staticURL[i];return t[i]=Promise.race([new Promise((function(t,e){setTimeout(e,o.timeout||1e4)})),Promise.all([!1===o.css?null:new Promise((function(t){var e=s.root+"/"+s.page+"__"+i+"/_"+s.page+"__"+i+(s.cssSuffix||"")+".css";r&&r["css"+(s.cssSuffix||"")]&&(e=n(r["css"+(s.cssSuffix||"")])),home.loadCss(e,{callback:t,noFlash:!0})})),new Promise((function(t,o){var a=document.createElement("script");e[i]=t,a.onerror=function(){o(new Error("Failed to load js from bundle "+i))};var c=s.root+"/"+s.page+"__"+i+"/_"+s.page+"__"+i+"."+s.locale+(s.jsSuffix||"")+".js";r&&r["js"+(s.jsSuffix||"")]&&(c=n(r["js"+(s.jsSuffix||"")])),a.src=c,document.getElementsByTagName("head")[0].appendChild(a)}))])])["catch"]((function(e){throw t[i]=null,e}))},home.bundles.notify=function(n){t[n]?e[n]&&e[n]():t[n]=Promise.resolve(),t[n].then((function(){home.bundles.loaded[n]=!0,home.bundles.initBlocks()}))}}()},792:function(){home.cls={full:function(t){return t},part:function(t){return t}}},7922:function(){!function(){var t,e=!1,n=[];function i(){document[t]&&o()}function o(){n.forEach((function(t){t.fn.call(t.ctx,!0),t.awaitsCall=!1})),n=[]}home.delayedTask=function(s,r,a){var c,l;!e&&"addEventListener"in window&&(e=!0,window.addEventListener("beforeunload",o,!1),window.addEventListener("unload",o,!1),"undefined"!=typeof document.hidden?(c="hidden",l="visibilitychange"):"undefined"!=typeof document.webkitHidden&&(c="webkitHidden",l="webkitvisibilitychange"),t=c,window.addEventListener(l,i,!1));var u={fn:s,ctx:a,awaitsCall:!1},h=home.debounce((function(){u.awaitsCall&&(u.awaitsCall=!1,n=n.filter((function(t){return t!==u})),s.call(a,!1))}),r,!1,a);return function(){u.awaitsCall||(u.awaitsCall=!0,n.push(u)),h()}}}()},5157:function(){var t;t={logError:function(t,e){if("object"!=typeof t&&(t={message:t}),e)if("object"==typeof e){if(e.logged)return;e.logged=!0}else e=new Error(e);this._rumLogError(t,e)},logAjaxError:function(t,e,n,i){this._rumLogAjaxError(t,e,n,i)},setProject:function(t){this._checkRumErrorCounter()&&Ya.Rum.updateErrors({project:t})},restoreDefaultProject:function(){if(this._checkRumErrorCounter()){for(var t,e=Ya.Rum.getVarsList(),n=0;n<e.length&&(t=e[n].split("="))&&"-project"!==t[0];)n++;"-project"===t[0]&&t[1]&&this.setProject(t[1])}},_rumLogError:function(t,e){this._checkRumErrorCounter()&&Ya.Rum.logError(this._prepareRumOptions(t,e),e)},_rumLogAjaxError:function(t,e,n,i){this._checkRumErrorCounter()&&(t.message||(t.message=t.method?t.method+" ajax":"AjaxError"),Ya.Rum.logAjaxError(this._prepareRumOptions(t),e,n,i))},_prepareRumOptions:function(t,e){var n={};return e=e||{},t.message&&(n.message=t.message),t.block&&(n.block=t.block),t.method&&(n.method=t.method),t.level&&(n.level=t.level),(t.sourceType||e.sourceType)&&(n.type=t.sourceType||e.sourceType),t.source&&(n.source=t.source),t.sourceMethod&&(n.sourceMethod=t.sourceMethod),t.coordinates_gp&&(n.coordinates_gp=t.coordinates_gp),(t.meta||e.meta)&&(n.additional=t.meta||e.meta),(t.url||e.url)&&(n.additional=n.additional||{},n.additional.url=t.url||e.url),n},_checkRumErrorCounter:function(){return!!window.Ya&&window.Ya.Rum&&window.Ya.Rum.logError}},home.error=function(e,n){t.logError.bind(t)(e,n)},home.deepExtend(home.error,t)},5628:function(){home.l10n=function(t){for(var e=t.split("."),n=home.lang,i=0;i<e.length;++i){if("__proto__"===e[i])return"";if(!n||!n[e[i]])return"";n=n[e[i]]}return n}},4196:function(t,e,n){
/*! loadCSS: load a CSS file asynchronously. [c]2016 @scottjehl, Filament Group, Inc. Licensed MIT */
var i;i="undefined"!=typeof n.g?n.g:window,home.loadCss=function(t,e){var n=e||{},o=function(t,e,n,o){var s,r=i.document,a=r.createElement("link");if(e)s=e;else{var c=(r.body||r.getElementsByTagName("head")[0]).childNodes;s=c[c.length-1]}var l=r.styleSheets;a.rel="stylesheet",a.href=t,a.media=o?n||"all":"only x",function d(t){if(r.body)return t();setTimeout((function(){d(t)}))}((function(){s.parentNode.insertBefore(a,e?s:s.nextSibling)}));var u=function f(t){for(var e=a.href,n=l.length;n--;)if(l[n].href===e)return t();setTimeout((function(){f(t)}))};function h(){a.addEventListener&&a.removeEventListener("load",h),o||(a.media=n||"all")}return a.addEventListener&&a.addEventListener("load",h),a.onloadcssdefined=u,u(h),a}(t,n.before,n.media,n.noFlash);n.callback&&
/*! onloadCSS: adds onload support for asynchronous stylesheets loaded with loadCSS. [c]2016 @zachleat, Filament Group, Inc. Licensed MIT */
function(t,e){var n;function i(){!n&&e&&(n=!0,e.call(t))}t.addEventListener&&t.addEventListener("load",i),t.attachEvent&&t.attachEvent("onload",i),"isApplicationInstalled"in navigator&&"onloadcssdefined"in t&&t.onloadcssdefined(i)}(o,n.callback)}},4238:function(){"undefined"!=typeof home&&home.loadManager&&home.loadManager.trigger("js")},808:function(){home.loadScript=function(t,e,n,i){var o=document.createElement("script");i&&(o.nonce=i),o.charset="utf-8",o.onload=e,o.onerror=n,o.src=t,o.crossOrigin="anonymous",document.getElementsByTagName("head")[0].appendChild(o)}},3081:function(){!function(){"use strict";var t,e=!1,n=[];home.pseudoReady=function(i){e?setTimeout(i,0):(n.push(i),t||(t=setTimeout((function o(){if(document.body&&home["export"]){e=!0;for(var t=0;t<n.length;++t)setTimeout(n[t],0)}else setTimeout(o,100)}),100)))}}()},3879:function(){!function(){"use strict";var t=function(){$("[data-statlog-autoshow]").each((function(){var t=$(this),e=t.data("statlog");t.is(":visible")&&home.stat.logPath("show",e)}))},e=function(e){e.enabled&&(t(),$(window).on("resize",$.debounce(t,150)))};$((function(){var t=home.getData("statlog.config",{});e(t)}));var n=home.stat._setConfig;home.stat._setConfig=function(t){n(t),e(t)}}()},5440:function(){window.home=window.home||{},home.throttle=function(t,e,n){var i,o,s,r=null,a=0;n||(n={});var c=function(){a=!1===n.leading?0:(new Date).getTime(),r=null,s=t.apply(i,o),r||(i=o=null)};return function(){var l=(new Date).getTime();a||!1!==n.leading||(a=l);var u=e-(l-a);return i=this,o=arguments,u<=0||u>e?(r&&(clearTimeout(r),r=null),a=l,s=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(c,u)),s}}},8637:function(){window.home=window.home||{}},6391:function(){$((function(){"use strict";var t=home.getData("i-bannerid.csl");BEM.decl("i-bannerid",{},{save:function(e){if(!t)throw new Error("i-bannerid: Cookie set link wasn't passed");if(!e)throw new Error("i-bannerid: Bannerid wasn't passed");var n=$(".i-bannerid"),i=home.stringf(t,e);n.length||(n=$('<iframe class="i-bannerid" name="i-bannerid" style="display:none"/>'),$(document.body).append(n)),n.attr("src")!==i&&n.attr("src",i)}})}))},9691:function(){!function(){"use strict";function t(){home.originalUrl=window.location.href;var t=home&&home.getData&&home.getData("i-change-url.data");if(t){var e,n=t.url;try{e=history.state}catch(i){}n&&ya.history&&ya.history.navigate({data:e||null,url:n,replace:!0})}}var e=+new Date;+new Date-e>5e3?t():setTimeout(t,100)}()},9170:function(){BEM.decl("i-embeddedauth",{addCallback:function(t){var e="cb"+Math.random();return this.callbacks||(this.callbacks={}),this.callbacks[e]=t,e},addQueryParam:function(t,e){var n=t.split("?"),i=n[1]?n[1].split("&"):[];return i.push(e),n[1]=i.join("&"),n.join("?")},bindCallback:function(){var t=this;window.mordaAuth={onResponse:function(e){if(e){for(var n=e.split("?")[1].split("&"),i={},o=0,s=n.length;o<s;o++){var r=n[o].split("=");i[r.shift()]=decodeURIComponent(r.join("="))}t.processResponse(i)}else t.processResponse()}}},submit:function(){this.getForm().trigger("submit")},setData:function(t,e){if(t=$.extend({},this.params.params||{},t),this.idkey&&(t.idkey=this.idkey),e){var n=this.addCallback(e);t.retpath=this.addQueryParam(t.retpath,"from="+n)}return this.getForm().html(this.stringifyParams(t)),this},setDomain:function(){var t=document.domain.match(/([^.]+(?:\.com?)?\.)?[^.]+$/)[0];try{document.domain=t}catch(e){}},stringifyParams:function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=this.getInputHtml(n,t[n]));return e},getInputHtml:function(t,e){return'<input name="'+t+'" value="'+e+'"/>'},getForm:function(){if(this.form)return this.form;this.setDomain(),this.bindCallback();var t="embeddedauthframe"+parseInt(1e4*Math.random(),10);return this.form=$('<form style="display:none" target="'+t+'" method="'+(this.params.method||"post")+'" action="'+this.params.action+'"></form>'),this.frame=$('<iframe style="display:none" name="'+t+'"></iframe>'),$("body").append(this.form,this.frame),this.form},processResponse:function(t){var e=function(){};if(t)switch(t.from&&this.callbacks[t.from]&&(e=this.callbacks[t.from],this.callbacks[t.from]=!1),this.idkey=t.idkey,t.status){case"login-empty":case"password-empty":case"account-not-found":case"password-invalid":case"action-not-required":case"ok":case"uid-empty":case"sessionid-invalid":case"session-no-uid":case"yu-empty":case"yu-invalid":case"captcha-invalid":case"captcha-required":return e(t),void this.trigger("data-received",t);case"internal-exception":return this.idkey="",this._interr?(e(t),void this.trigger("data-received",t)):(this._interr=!0,t.from&&(this.callbacks[t.from]=e),void this.submit());default:t.url?window.location=t.url:(e(t),this.trigger("data-received",t))}else this.trigger("no-data")}})},2930:function(){var t;t=$.ajax,$.ajax=function(e,n){var i=t(e,n);return i.asPromise=function(){return new Promise((function(t,n){i.then(t,(function(t,i,o){var s;if(!e||"object"==typeof e&&!e.url)(s=new Error("Url is not defined")).sourceType="logic";else{(s=new Error("Cannot load ajax request")).sourceType="abort"===i?"logic":"parsererror"===i?"backend":"network",s.errorName=i,s.errorText=o,t.responseJSON&&(s.json=t.responseJSON);var r=home.parseUrl("object"==typeof e?e.url:e);s.url=r.host+r.path,s.meta={},"error"!==i&&(s.meta[i]=1),t.status&&(s.meta.status=t.status)}s.name="blockerror",n(s)}))}))},i}},8212:function(){
/**
 * leftClick event plugin
 *
 * Copyright (c) 2010 Filatov Dmitry (alpha@zforms.ru)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * @version 1.0.0
 */
!function(t){var e=t.event.special.leftclick={setup:function(){t(this).bind("click",e.handler)},teardown:function(){t(this).unbind("click",e.handler)},handler:function(e){e.button||(e.type="leftclick",t.event.dispatch.apply(this,arguments),e.type="click")}}}(jQuery)},8885:function(){$.fn.onceAnimationEnd=function(t,e,n){var i,o,s,r=this;function a(){clearTimeout(s),n=null,r.off(i)}"object"==typeof t&&(o=t.property,t=t.type),i="animation"===t?"webkitAnimationEnd animationend":"webkitTransitionEnd transitionend",this.on(i,(function(t){!r.is(t.target)||o&&o!==t.originalEvent.propertyName||n&&(n(r),a())})),e>0&&(s=setTimeout((function(){n&&(n(r),a())}),e+50))}},6372:function(){BEM.KEYS={LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,SPACE:32,ESC:27,TAB:9,HOME:36,END:35},function(){var t={};for(var e in BEM.KEYS)BEM.KEYS.hasOwnProperty(e)&&(t[BEM.KEYS[e]]=e);var n={CTRL:"ctrlKey",ALT:"altKey",SHIFT:"shiftKey",META:"metaKey"},i=function(e){var i=t[e.which]||"";for(var o in n)n.hasOwnProperty(o)&&e[n[o]]&&(i=o+"+"+i);return i},o=function(t){var e={};return t.split(" ").forEach((function(t){t.split("+").forEach((function(e){var i=e.toUpperCase();if(!(i in n)&&!(i in BEM.KEYS))throw"i-keys.js: Unknown key "+t})),e[t.toUpperCase()]=!0})),e};BEM.DOM.liveBindKey=function(t,e,n){var s;return $.isFunction(e)&&(n=e,e=t,t=undefined),s=o(e),this.liveBindTo(t,"keydown",(function(t){i(t)in s&&!1===n.call(this,t)&&t.preventDefault()}))},BEM.DOM.prototype.bindKeyTo=function(t,e,n){var s;return $.isFunction(e)&&(n=e,e=t,t=undefined),s=o(e),n.keydownHandler=r,t===document?this.bindToDoc("keydown",r):t===window?this.bindToWin("keydown",r):this.bindTo(t,"keydown",r);function r(t){i(t)in s&&!1===n.call(this,t)&&t.preventDefault()}},BEM.DOM.prototype.unbindKeyFrom=function(t,e,n){if($.isFunction(e)&&(n=e,e=t,t=undefined),!n||!n.keydownHandler)return this;var i=n.keydownHandler;return n.keydownHandler=null,t===document?this.unbindFromDoc("keydown",i):t===window?this.unbindFromWin("keydown",i):this.unbindFrom(t,"keydown",i)}}()},7049:function(){var t,e,n;e={isAuthenticated:!1,isFeedbackReceived:!1,isRequestSent:!1},n=function(){},BEM.decl("i-mda-auth",{},{authenticate:function(i){if(""===(t=Lego.params["mda-auth-url"]||home.getData("i-mda-auth.url")||""))return!1;var o=Lego.params["mda-auth-delay"]||10;n=i||function(){},setTimeout((function(){var n=document.createElement("iframe");n.style.visibility="hidden",n.style.position="absolute",n.setAttribute("src",t),n.name="i-mda-auth"+(Math.random()+"").substr(3,7),n.style.top=n.style.left=n.style.width=n.style.height=0,document.getElementsByTagName("body")[0].appendChild(n),e.isRequestSent=!0}),o)},isRequestSent:function(){return e.isRequestSent},isFeedbackReceived:function(){return e.isFeedbackReceived},isAuthenticated:function(){return e.isAuthenticated},getUrl:function(){return t},registerFeedback:function(t){var i="success"===t;e.isFeedbackReceived=!0,e.isAuthenticated=i,n(i)}})},2155:function(){!function(){"use strict";var t=$.Deferred();$((function(){t.resolve()})),BEM.decl("i-message-locker",{},{blockOrder:[],acquireLock:function(t,e){var n,i=$.Deferred(),o=this;return this._initOrder(),!(t in this._blockOrderMap)||this._locked?i.reject():(n=this._blockOrderMap[t],!this._showPretender||this._showPretender.index>n?(this._showPretender?this._showPretender.deferreds.forEach((function(t){t.reject()})):this._initDelay.done((function(){setTimeout((function(){var t=o._showPretender.deferreds;o._locked=o._showPretender.name,o._closeFunc=e,o._showPretender=null,t.forEach((function(t){t.resolve()})),BEM.channel("i-message-locker").trigger("lock",o._locked)}),0)})),this._showPretender={name:t,deferreds:[i],index:n}):this._showPretender&&this._showPretender.name===t?this._showPretender.deferreds.push(i):i.reject(),i)},releaseLock:function(t){this._locked&&this._locked===t&&(this._locked="",this._closeFunc=null,BEM.channel("i-message-locker").trigger("unlock",t))},forceClose:function(){this._closeFunc&&this._closeFunc()},_blockOrderMap:undefined,_showPretender:undefined,_locked:"",_initDelay:t,_initOrder:function(){if(!this._blockOrderMap){this._blockOrderMap={};for(var t=0;t<this.blockOrder.length;++t)this._blockOrderMap[this.blockOrder[t]]=t}}})}()},4778:function(){MBEM.initAll=function(t,e){void 0===e&&(e="i-bem"),MBEM.cls.contains(t,e)&&MBEM.initNode(t),MBEM.arrayFrom(t.querySelectorAll("."+e)).forEach((function(t){MBEM.initNode(t)}))}},8020:function(){MBEM.ready((function(){var t=document.querySelector("html");t&&MBEM.initAll(t,"i-mini-bem")}))},5454:function(){MBEM.ready=function(t){var e=!1,n=function(){e||(e=!0,t())};"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?setTimeout(n,0):(document.addEventListener("DOMContentLoaded",n,!1),document.addEventListener("load",n,!1))}},2786:function(){MBEM.decl("i-mini-visibilitychange",{__constructor:function(){var t=this;this._hiddenProp="hidden",this._hiddenProp in document?document.addEventListener("visibilitychange",(function(){t._change(document.hidden)})):(this._hiddenProp="mozHidden")in document?document.addEventListener("mozvisibilitychange",this._normalize):(this._hiddenProp="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",this._normalize):(this._hiddenProp="msHidden")in document?document.addEventListener("msvisibilitychange",this._normalize):"onfocusin"in document?document.onfocusin=document.onfocusout=this._normalize:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=this._normalize},_normalize:function(t){var e,n=t.type,i={focus:!1,focusin:!1,pageshow:!1,blur:!0,focusout:!0,pagehide:!0};e=function(t){return t in i}(n)?i[n]:document[this._hiddenProp],document.hidden=e,this._change(e)},_change:function(t){MBEM.channel("sys").trigger("visibilitychange",{hidden:t}),MBEM.channel("sys").trigger(t?"hidden":"visible")}},{waitForVisible:function(t){document.hidden?MBEM.channel("sys").on("visible",(function e(){MBEM.channel("sys").un("visible",e),t()})):t()}}),MBEM.createBlock({block:"i-mini-visibilitychange"})},7588:function(){window.ya=window.ya||{},ya.history=window.history&&history.pushState?{navigate:function(t){(t=t||{}).url&&(t.title||(t.title=""),t.data||(t.data=""),t.replace?history.replaceState(t.data,t.title,t.url):history.pushState(t.data,t.title,t.url))},onchange:function(t){$(window).on("popstate",(function(e){t.call(this,e.originalEvent)}))}}:null},8568:function(){Date.now||(Date.now=function(){return(new Date).getTime()})},8477:function(){!function(){if(!Object.assign){var t=function(t,e){"use strict";if(null===t||t===undefined)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(null!==o&&o!==undefined)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])}return n};try{Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}catch(e){Object.assign=t}}}()},9888:function(){!function(t){var e=setTimeout;function n(){}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],l(t,this)}function o(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(o){return void r(e.promise,o)}s(e.promise,i)}else(1===t._state?s:r)(e.promise,t._value)}))):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void a(t);if("function"==typeof n)return void l(n.bind(e),t)}t._state=1,t._value=e,a(t)}catch(o){r(t,o)}}function r(t,e){t._state=2,t._value=e,a(t)}function a(t){2===t._state&&0===t._deferreds.length&&i._immediateFn((function(){t._handled||i._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)o(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function l(t,e){var n=!1;try{t((function(t){n||(n=!0,s(e,t))}),(function(t){n||(n=!0,r(e,t))}))}catch(i){if(n)return;n=!0,r(e,i)}}i.prototype["catch"]=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var i=new this.constructor(n);return o(this,new c(t,e,i)),i},i.all=function(t){var e=Array.prototype.slice.call(t);return new i((function(t,n){if(0===e.length)return t([]);var i=e.length;function o(s,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var a=r.then;if("function"==typeof a)return void a.call(r,(function(t){o(s,t)}),n)}e[s]=r,0==--i&&t(e)}catch(c){n(c)}}for(var s=0;s<e.length;s++)o(s,e[s])}))},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i((function(e){e(t)}))},i.reject=function(t){return new i((function(e,n){n(t)}))},i.race=function(t){return new i((function(e,n){for(var i=0,o=t.length;i<o;i++)t[i].then(e,n)}))},i._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){e(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},t.Promise||(t.Promise=i)}(window)},3260:function(){!function(){"use strict";BEM.decl("i-scroll-event",{},{init:function(){var t=BEM.channel("i-scroll-event"),e=home.throttle((function(){var e=$(i).scrollTop();t.trigger("scroll",e)}),100),n=!!BEM.blocks["i-ua"].passiveEvents&&{passive:!0},i=this.getScrollElem(),o=function(t){var o="scroll"===t?i:window;"addEventListener"in window?o.addEventListener(t,e,n):o.attachEvent("on"+t,e)};o("scroll"),o("resize"),o("orientationchange")},getScrollElem:function(){return window}}),setTimeout((function(){BEM.blocks["i-scroll-event"].init()}),0)}()},8582:function(){!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(n){}BEM.DOM.decl("i-ua",{},{passiveEvents:t})}()},1437:function(t,e,n){var i,o,s,r={},a=!1,c=0,l=!0,u=[],h=!0;BEM.decl("i-xiva",{},{listen:function(t,e,n,i){var o=r[t],s=!o,a=i&&i.force;o||(r[t]=o={handlers:[]}),o.ignoreFilterByTime=i&&i.ignoreFilterByTime,o.ignoreBlurEvent=i&&i.ignoreBlurEvent,o.ts=e,o.handlers.push(n),this._init(a),s&&this._updateSubscription()},stopListen:function(t,e){var n=r[t];n&&(n.handlers=n.handlers.filter((function(t){return t!==e})),n.handlers.length||(delete r[t],this._updateSubscription()))},send:function(t){var e;this._hasXivaSupport()&&t&&t.ch&&(this._connected||this._init(!0),e=JSON.stringify(t),this._sendQueue.push(e),this._sendDelayed())},_sendQueue:[],_sendDelayed:function(){var t;if(this._connected)for(;this._sendQueue.length;)t=this._sendQueue.pop(),i&&t&&i.send(t)},connect:function(){l=!0,this._connect()},disconnect:function(t){l=t,i&&i.close&&i.close(1e3,"unload")},_deliverReceived:function(){var t,e;for(t=0,e=u.length;t<e;++t)(0,u[t].handler)(u[t].data,!0);u=[]},_toggleFocus:function(t){(h=t)&&this._deliverReceived()},_initFocusEvents:function(){var t=this;$.browser&&$.browser.msie?$(document).bind("focusout",(function(){t._toggleFocus(!1)})).bind("focusin",(function(){t._toggleFocus(!0)})):$(window).focus((function(){t._toggleFocus(!0)})).blur((function(){document.activeElement&&"IFRAME"===document.activeElement.tagName||t._toggleFocus(!1)}))},_bindOnUnload:function(){var t=this;$(window).on("beforeunload",(function(){t.disconnect(!1)}))},_init:function(t){var e=this;a&&!t||this._connected||(a=!0,this._initFocusEvents(),this._bindOnUnload(),this._connect=this._connect.bind(this),clearTimeout(this._connectTimeout),t?this._connect():this._connectTimeout=setTimeout((function(){e._connect()}),6e4))},_hasXivaSupport:function(){return Boolean(window.WebSocket)},_connect:function(){var t=this,e=home.getData("i-xiva.url");this._hasXivaSupport()&&e&&(i||n.e(293).then(n.t.bind(n,3347,23)).then((function(){i||((i=new SockJS("//"+e+"/xiva",null,{protocols_whitelist:["websocket"]})).onopen=function(){t._connected=!0,t._updateSubscription(),t._checkConnection(),t._sendDelayed()},i.onmessage=t._onMessage.bind(t),i.onclose=function(e){t._connected=!1,i=null,t._reconnect(1e3===e.code)})}),(function(e){t._chunkErrorLogged||(t._chunkErrorLogged=!0,home.error.logError({block:"i-xiva",url:e.request},e)),t._reconnect(!0)})))},_reconnect:function(t){if(this._stopConnectionTimer(),l){c++;var e=0;t||(e+=c<=1?120*Math.random()*1e3:300*Math.random()*1e3),e+=c<=2?1e4:c<=6?3e4:6e4,setTimeout(this._connect,e)}},_stopConnectionTimer:function(){o&&(clearTimeout(o),o=null)},_checkConnection:function(){var t=this;this._stopConnectionTimer(),o=setTimeout((function(){t._connected&&(c=0)}),5e3)},_updateSubscription:function(){var t=this;s&&clearTimeout(s),s=setTimeout((function(){t._subscribeSend()}),100)},_subscribeSend:function(){var t;if(this._connected){for(var e in t={subscribe:{}},r)r.hasOwnProperty(e)&&(t.subscribe[e]=r[e].ts);i&&i.send(JSON.stringify(t))}},_onMessage:function(t){var e,n,i,o,s=$.trim(t.data);try{i=(e=JSON.parse(s)).ch+"_"+e.key,e.mts&&(this._timeDelta=Number(new Date)-e.mts);var a=r[i];if(a){n=parseInt(e.ts);var c=a.ts;if(c&&c<n||a.ignoreFilterByTime){a.ts=n,o=a.handlers;for(var l=0,d=o.length;l<d;++l)h||a.ignoreBlurEvent?o[l](e):u.push({handler:o[l],data:e})}}}catch(f){}},getTimeDelta:function(){return this._timeDelta}})},82:function(){var t,e;t=/^[a-zа-яёґєіїўәғқңөұүһҗçğşıüö]$/i,e=/^[0-9]$/,BEM.DOM.decl({name:"input",modName:"autofocus",modVal:"capture"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this.bindToDoc("keydown",this._autoFocusBind)},autofocus:{yes:function(){this.bindToDoc("keydown",this._autoFocusBind)},"":function(){this.unbindFromDoc("keydown")}},listen:{yes:function(){this.bindToDoc("keydown",this._autoFocusBind)},no:function(){this.unbindFromDoc("keydown")}}},_autoFocusBind:function(n){var i;if(!$(".popup_visibility_visible").filter(":not(.b-topbar__popup, .suggest2)").length&&(!(i=$(".v_sform_bg")).length||"none"===i.css("display"))&&!$(".left-banner-opened").length&&this.domElem.is(":visible")){var o,s;try{o=document.activeElement.tagName.toLowerCase(),s=document.activeElement.getAttribute("contenteditable")}catch(l){}if(function(n){if(n.originalEvent&&!("altKey"in n.originalEvent))return!1;var i,o,s=n.charCode||n.keyCode||n.which||0,r=n.ctrlKey||n.altKey||n.metaKey;return n.originalEvent&&n.originalEvent.key?(o=t.test(n.originalEvent.key),i=e.test(n.originalEvent.key)):(o=[s>=65&&s<=90,s>=1025&&s<=1071,0===s,231===s,186===s,188===s,190===s,String.fromCharCode(s).toLowerCase()!==String.fromCharCode(s).toUpperCase()].some(Boolean),i=s>=48&&s<=57||s>=96&&s<=105),!r&&(i||o)}(n)&&"input"!==o&&"textarea"!==o&&!s){this.trigger("beforeFocus");var r=this.elem("control")[0],a=this.val();if(a.length>0&&" "!==a.slice(-1)&&(a+=" ",this.val(a)),r.createTextRange){var c=r.createTextRange();c.collapse(!1),c.select()}else r.selectionStart&&(r.focus(),r.setSelectionRange(a.length,a.length));this.setMod("focused","yes")}}}})},8539:function(){BEM.DOM.decl({block:"input",modName:"forgot",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.on("change",this._updateForgot)._updateForgot()}}},_updateForgot:function(){this.toggleMod(this.elem("forgot"),"visible","no","yes",!!this._val)}})},1299:function(){BEM.DOM.decl({block:"input",modName:"keyboard",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),$(window).bind("keyboardOpened.lego",this.changeThis((function(){this.setMod("focused","yes")._focused=!0})))}},onElemSetMod:{clear:{visibility:function(t,e,n){this.__base.apply(this,arguments),this.hasMod("clear","yes")&&this.toggleMod("keyboard-visibility","hidden","visible"===n)}}}})},574:function(){BEM.DOM.decl("input",{_onIOSTouchStart:function(){}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("clear","pointerclick",(function(t){t.preventDefault()})),this.liveBindTo("control","keyup",(function(){this._updateVal()}))}})},2649:function(){BEM.DOM.decl("keyboard-loader",{onSetMod:{js:function(){var t=this;Lego.block["keyboard-loader"].call(this.domElem,this.params),$(window).on("keyboardOpened.lego",(function(){home.stat.logPath("click",t.params.statOpen),t.getVkbd().removeAttr("disabled")})).on("keyboardClosed.lego",(function(e){"lego"===e.namespace&&home.stat.logPath("click",t.params.statClose),t.getVkbd().attr("disabled","disabled")}))}},getVkbd:function(){return this._vkbd?this._vkbd:this._vkbd=$('<input type="hidden" name="vkbd" value="1"/>').appendTo(this.domElem)}}),function(t,e){e||(e=window.Lego={}),e.block||(e.block={}),e.block["keyboard-loader"]=function(n){var i=t(document.body),o=t(window),s=this,r=t(".b-topbar__popup.popup_behavior_snap"),a=r.length?r.bem("popup"):null;function c(n){t("body").removeClass("b-page_keyboard");var s=n?"addClass":"toggleClass",r=i.find(".keyboard-popup");if(r.length){if(i.find(".keyboard-popup__gap")[s]("keyboard-popup__gap_hidden_yes"),i.find(".keyboard-popup")[s]("keyboard-popup_hidden_yes").hasClass("keyboard-popup_hidden_yes")){o.trigger("keyboardClosed"),t(document).trigger("popupsClose.lego");var a=e.block.keyboard._lastFocusedIn;a!==undefined&&a.focus()}else o.trigger("keyboardOpened.lego");r.data("isHidden",!1)}}s.click((function(s){s.preventDefault(),a&&a._unbindFromResize();var r=(this.className.match(/keyboard-loader_lang_(\w+)/)||["",""])[1];i.find(".keyboard")[0]?(c(),a&&a._bindToResize()):home.bundles.load("keyboard").then((function(){e.block["keyboard-popup"]({lang:r,"for":n["for"]}),i.append('<div class="keyboard i-bem" data-bem=\'{&quot;keyboard&quot;: { &quot;lang&quot;:&quot;'+r+"&quot;}}'></div>"),BEM.DOM.init(t(".keyboard")),o.trigger("keyboardOpened.lego",{afterLoad:!0}),t(".keyboard").on("click",".keyboard__key",(function(){var e,n=t("*:focus").offset();n&&(e=n.top,t(".keyboard-popup").offset().top<e+30&&window.scrollTo(0,e-20))}))}))["catch"]((function(t){home.error.logError({block:"keyboard-loader",message:"_downloadResources: fail"},t)}))})),o.bind("keyboardOpen.lego",(function(){s.click()})).bind("keyboardClose.lego",c),n["for"]&&o.bind("keyboardOpened.lego",(function(e,i){!(i&&i.afterLoad&&n.autoLoad)&&t(n["for"]).focus()})),o.bind("keyboardLangChanged.lego keyboardSetLang.lego",(function(t,e){var n=s.find(".keyboard-loader__flag");n[0]&&("tt"===e&&(e="ru"),n.attr("src",n.attr("src").replace(/[a-z]+\.png$/,e+".png")))})),n.storeState=!1!==n.storeState,n.storeState&&o.bind("keyboardOpened.lego",(function(){d("keyboard_state","open");var e=u("keyboard_lang");e&&t(window).trigger("keyboardSetLang.lego",e)})).bind("keyboardClosed.lego",(function(){t("body").removeClass("b-page_keyboard"),d("keyboard_state","close")})).bind("keyboardLangChanged.lego",(function(t,e){d("keyboard_lang",e)}));var l="#kb"===window.location.hash;function u(t){return h()[t]}function h(){var e={};return t.each(window.name.split("&"),(function(){if(this.toString()){var t=this.split("=");e[t[0]]=t[1]}})),e}function d(e,n){var i=h(),o=[];i[e]=n,t.each(i,(function(t,e){o.push(t+"="+e)})),window.name=o.join("&")}(n.autoLoad||n.storeState&&"open"===u("keyboard_state")||l)&&s.click(),o.bind("keyboardOpened.lego",(function(){t("input:focus").focus(),t("body").addClass("b-page_keyboard")}))}}(jQuery,window.Lego)},4536:function(){BEM.DOM.declMix("mix-tabber-labels-keyboard",{_selectTabByKeyboard:function(t,e){var n,i=this.elem("tab"),o=this._mapKeyToIndex(this._selectedKey);"relative"===t?o+=e:"absolute"===t&&(o=e),o<0?o=i.length-1:o>=i.length&&(o=0),n=i.eq(o),this._selectTab(String(n.data("key")),{focus:!0}),home.stat.logPath("click",n.attr(home.stat.attr))}},{live:function(){this.__base.apply(this,arguments),this.liveBindKey("tab","left right",(function(t){return this._selectTabByKeyboard("relative",t.which===BEM.KEYS.LEFT?-1:1),!1})),this.liveBindKey("tab","home end",(function(t){return this._selectTabByKeyboard("absolute",t.which===BEM.KEYS.HOME?0:-1),!1}))}})},3416:function(){BEM.DOM.declMix("mix-tabber-labels-preloader",{},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("tab","mouseover mouseout",(function(t){var e=t.data.domElem.data("key");String(e)!==String(this._selectedKey)&&(clearTimeout(this._tabPreloadTimer),"mouseover"!==t.type||this._panels[e]||(this._tabPreloadTimer=setTimeout(function(){this._loadDataWrapped(e)["catch"]((function(){}))}.bind(this),200)))}))}})},2949:function(){BEM.DOM.declMix("mix-tabber-labels",{_getKeys:function(){var t=this.elem("tab");return t.length?t.toArray().map((function(t){return String($(t).data("key"))})):this.__base.apply(this,arguments)},_getDefaultKey:function(){var t=this.elem("tab","selected","yes");return t.length?String(t.data("key")):this.__base.apply(this,arguments)},_changeTab:function(t,e){this.__base.apply(this,arguments);var n=this.elem("tab","selected","yes"),i=this.elem("tab").filter('[data-key="'+t+'"]');this._toggleLabelSelection(n,!1,e),this._toggleLabelSelection(i,!0,e),e.focus&&i.focus()},_toggleLabelSelection:function(t,e,n){t.attr({tabindex:e?0:-1,"aria-selected":e?"true":"false","aria-controls":e?this._uniqId+"_panel_"+this._selectedKey:null}),this.toggleMod(t,"selected","yes","no",e),t.toggleClass("mix-tabber__tab_selected_yes mix-tabber__tab_selected_no")},_getPanelAttrs:function(t){return{"aria-labelledby":this._uniqId+"_tab_"+t}},_onTabClick:function(t){var e=t.data.domElem,n=String(e.data("key")),i=this._selectedKey===n;return this._selectTab(n,{from:"user"}),i?home.stat.redirect(e[0],e.data("stat-link")):home.stat.logPath("click",e.data("stat-select")),i}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("tab","click",(function(t){return this._onTabClick(t)}))}})},9435:function(){BEM.DOM.declMix("mix-tabber-loader-keyboard",{},{live:function(){this.__base.apply(this,arguments),this.liveBindKey("retry-button","space enter",(function(){this._onRetryClick()}))}})},7951:function(){BEM.DOM.declMix("mix-tabber-wheel",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var t=!!BEM.blocks["i-ua"].passiveEvents&&{passive:!0};this.elem("panels")[0].addEventListener("wheel",this._onWheel.bind(this),t)}}},_processWheelOrient:function(t,e,n,i){var o;(!this._wheelPrevTime||e-this._wheelPrevTime>this.__self.WHEEL_FADE_TIME)&&(this._wheelOrient=undefined),this._wheelOrient===undefined?this._wheelOrient=n>i?"horizontal":"vertical":(n/i>this.__self.WHEEL_ORIENT_COEFFICIENT?o="horizontal":i/n>this.__self.WHEEL_ORIENT_COEFFICIENT&&(o="vertical"),o&&(this._wheelOrient=o)),"horizontal"===this._wheelOrient&&!1!==t.cancelable&&t.preventDefault()},_calcWheelDeltas:function(t){var e=t.deltaX,n=t.deltaY;return t.deltaMode!==t.DOM_DELTA_LINE&&t.deltaMode!==t.DOM_DELTA_PAGE||(e*=18,n*=18),{x:e,y:n}},_onWheel:function(t){if("deltaX"in t&&!this.__self._hasHorizontalScroll()){var e=this._calcWheelDeltas(t),n=e.x,i=e.y,o=Math.abs(n),s=Math.abs(i),r=Date.now();if(this._preventWheelTime&&r<this._preventWheelTime)return this._wheelPrevTime=r,void("horizontal"===this._wheelOrient&&!1!==t.cancelable&&t.preventDefault());this._processWheelOrient(t,r,o,s),this._wheelCounterX=this._wheelCounterX||0,this._wheelCounterY=this._wheelCounterY||0,this._wheelPrevTime=this._wheelPrevTime||r;var a=1-Math.min(1,(r-this._wheelPrevTime)/this.__self.WHEEL_FADE_TIME);if(this._wheelCounterX*=a,this._wheelCounterY*=a,this._wheelCounterX+=n,this._wheelCounterY+=i,Math.abs(this._wheelCounterX)>40&&Math.abs(this._wheelCounterX/this._wheelCounterY)>this.__self.WHEEL_ORIENT_COEFFICIENT){var c=this._wheelCounterX>0;this._wheelCounterX=0,this._wheelCounterY=0,this._preventWheelTime=r+this.__self.WHEEL_DEDUP_TIME;var l=this._keys.indexOf(this._selectedKey);(l+=c?1:-1)>=this._keys.length?l=0:l<0&&(l=this._keys.length-1),this._selectTab(this._keys[l])}this._wheelPrevTime=r}}},{WHEEL_FADE_TIME:1e3,WHEEL_ORIENT_COEFFICIENT:2.5,WHEEL_DEDUP_TIME:750,_hasHorizontalScroll:function(){return document.documentElement.scrollWidth>document.documentElement.offsetWidth},live:function(){return this.__base.apply(this,arguments),!1}})},2389:function(){BEM.DOM.decl("mobile-balloon",{},{live:function(){return this.liveBindTo("no","pointerclick",(function(){(new Image).src=this.params.closeurl,this.domElem.hide()})),!0}})},4620:function(){BEM.DOM.decl("modal",{onSetMod:{js:function(){this.__base.apply(this,arguments),this.hasMod(this.elem("close"),"delay","yes")&&setTimeout(function(){this.delMod(this.elem("close"),"delay","yes")}.bind(this),1500)}}},{})},6419:function(){BEM.DOM.decl("modal",{},{live:function(){var t=this.__base.apply(this,arguments);function e(){this.delMod("visible")}return this.liveBindTo("close","pointerclick",e),this.liveBindKey("close","space enter",e),t}})},4896:function(){BEM.DOM.decl({block:"modal",modName:"paranja-close",modVal:"no"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this.elem("cell").on("pointerclick",(function(t){$(t.target).is(".modal__cell")&&(t.preventDefault(),t.stopPropagation())}))}}},{})},6596:function(){!function(){"use strict";BEM.DOM.decl({name:"popup",modName:"focus",modVal:"capture"},{_onShown:function(){this.__base.apply(this,arguments),this.domElem.attr("tabindex","0").focus()},_onHidden:function(){this.__base.apply(this,arguments),this.domElem.removeAttr("tabindex")}})}()},1720:function(){BEM.DOM.decl({block:"popup",modName:"no-return-focus",modVal:"yes"},{_returnFocus:function(){}})},8035:function(){BEM.DOM.decl({block:"popup2",modName:"focusable",modVal:"cycle"},{_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocusable.trigger("focus"))},_onLastFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._firstFocusable.trigger("focus"))}})},459:function(){BEM.DOM.decl({block:"popup2",modName:"target"},{_calcOffsets:function(){var t=this.__base.apply(this,arguments);return this.params.mainOffset!==this.getDefaultParams().mainOffset&&(t.main=this.params.mainOffset),t}})},5524:function(){BEM.DOM.decl("popup2",{onSetMod:{visible:{yes:function(){this.__base.apply(this,arguments),this._bindFocusEvents()},"":function(){this.__base.apply(this,arguments),this._unbindFocusEvents(),this._returnFocus()}}},setParams:function(t){for(var e in t)t.hasOwnProperty(e)&&(this.params[e]=t[e])},_bindFocusEvents:function(){this._lastFocused=$($.dom.getActiveElement()[0]||this._scope);var t=this._getFocusable(this.domElem);this._firstFocusable=t.first(),this._lastFocusable=t.last(),this._skipReturnFocus=!1,0!==this._firstFocusable.length?this.bindTo(this._lastFocused,"keydown",this._onLastFocusedKeyDown).bindTo(this._firstFocusable,"keydown",this._onFirstFocusableKeyDown).bindTo(this._lastFocusable,"keydown",this._onLastFocusableKeyDown):this._skipReturnFocus=!0},_unbindFocusEvents:function(){this.unbindFrom(this._firstFocusable,"keydown"),this.unbindFrom(this._lastFocusable,"keydown"),this.unbindFrom(this._lastFocused,"keydown")},_getFocusable:function(t){var e=$.identify(),n="a[href], link, ";return $.data(t,"popup-getFocusable-id",e),BEM.blocks["i-ua"].opera<13&&(n=""),t.find(n+'*[tabindex], button, input:not([type="hidden"]), textarea, select, menuitem').filter((function(){var t=!0;return!(parseInt($(this).prop("tabindex"),10)<0)&&($(this).parentsUntil('*[data-popup-getFocusable-id="'+e+'"]').each((function(){if("none"===$(this).css("display"))return t=!1})),t)}))},_returnFocus:function(){try{var t=document.activeElement;if(!$(t).closest(this.domElem).length)return}catch(e){}(this._parent||{})._skipReturnFocus||this._skipReturnFocus||this._lastFocused.focus()},_onLastFocusedKeyDown:function(t){this._lastFocused.is(this._scope)&&!this._lastFocused.is(t.target)||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this[t.shiftKey?"_lastFocusable":"_firstFocusable"].focus())},_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())},_onLastFocusableKeyDown:function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())}},{})},7439:function(){home.pseudoReady((function(){var t=home&&home.getData&&home.getData("referers.data");if(t){var e=location.hash?location.hash.replace(/^#/,""):"",n=e&&e.match(/^[1-578]$/);n&&t.referer&&home.error.logError({block:"referers-check",sourceType:"clckerror",message:"clck error",url:t.referer,meta:{hash:n}})}}))},117:function(){setTimeout((function(){window.performance&&performance.navigation&&1===performance.navigation.type&&home.stat.logPath("tech","refresh")}),0)},5757:function(){var t;MBEM.channel("sys").on("visibilitychange",(function(e,n){n.hidden?t=Date.now():t&&(home.stat.logPath("tech","return",{customParams:{timems:Date.now()-t}}),t=null)}))},7282:function(){BEM.DOM.decl("suggest2-counter",{attachReqID:function(){this._reqID=this._reqID||this.__self._generateReqID();var t=this.params.form.findElem("hidden-input").filter("[name=suggest_reqid]");t.length?t.val(this._reqID):this.params.form.appendHiddenInputs([{name:"suggest_reqid",value:this._reqID}])},_onSuggestSelect:function(t,e){this.__base.apply(this,arguments),e.item.params.safeclickUrl&&this._addMetrikaCookie(e.item)},_addMetrikaCookie:function(t){var e=this.params.suggest._model.lastSendedRequest.val,n=this.params.suggest._model.lastSendedRequest.reqId,i=[e,t.elem("link").attr("href"),this._getNavSource(),n].map(encodeURIComponent).join(":"),o=Date.now();document.cookie="sc_"+o+"="+i+";path=/watch;domain=."+(location.hostname.match(/yandex\..+$/)||[])[0]+";expires="+new Date(o+6e5).toUTCString()+";secure"+(this.params.sameSiteSupport?";SameSite=None":"")},_getNavSource:function(){return"/"},clear:function(){return this.__base.apply(this,arguments),this._path.submit="button_by_mouse",this},_onInputFocus:function(){this._startInputTime||this._startClickTime||(this._startClickTime=Date.now()),this._startInputTime=this._startInputTime||this._startClickTime},_onInputBlur:function(){}})},7621:function(){!function(){"use strict";BEM.DOM.decl("suggest2-detect",{},{isSupportInlineSVG:function(){return this._isSupportInlineSVG2===undefined&&(this._isSupportInlineSVG2=$("html").hasClass("i-ua_inlinesvg_yes")),this._isSupportInlineSVG2}})}()},4948:function(){!function(){"use strict";BEM.DOM.decl({block:"suggest2-form",modName:"stats",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._bindCounters()}}},_prepareCounterStats:function(t){var e=[];try{e.push(t.since_last_change),e.push(t.since_first_change),e.push(t.user_input.length),e.push(t.ratio.actionsCount),e.push(t.path.index),e.push("button_by_mouse"===t.path.submit?"1":"0"),e.push("edit"===t.path.state?"1":"0")}catch(n){return""}return e.join(",")},_bindCounters:function(){var t,e=this,n=e.findBlockInside("suggest2").getCounter();n&&n.on("submit",(function(n,i){var o;t&&t.remove(),(o=e._prepareCounterStats(i))&&(t=$("<input>",{type:"hidden",name:"csg",value:o}),e.domElem.append(t))}))}})}()},634:function(){BEM.decl("suggest2-input",{disableBrowserAutocomplete:function(){}})},7106:function(){BEM.DOM.decl("suggest2-item",{onLeave:function(){if(this.domElem)return this.__base.apply(this,arguments)}})},5997:function(){BEM.decl("suggest2-popup",{hide:function(t){var e=this;return e.isShown()&&!e.hideTimeout&&(e.hideTimeout=setTimeout((function(){e.instantHide(t)}),500)),e},instantHide:function(t){this._doHide(),this.trigger("hide",t||{}),this.hideTimeout=null}})},4487:function(){BEM.decl("suggest2-provider",{getDefaultParams:function(){var t=this.__base.apply(this,arguments);return t.cache=!0,t},get:function(t,e,n,i){this.__base.apply(this,arguments);var o=i;"function"==typeof n&&(o=n);var s=this.params.abortQueries,r="jsonp"===this.params.dataType;o=o.bind(this,t,e),this._lastQuery&&this._lastQuery.fail((function(t,e){!s&&r&&o({error:e||"error"})}))}})},9542:function(){BEM.DOM.decl({block:"suggest2",modName:"ahead",modVal:"yes"},{init:function(){var t=this.__base.apply(this,arguments),e=this;return e._model.on("response",(function(t,n){var i=n.data,o=i.items&&i.items[0],s=e._input.val(),r="object"==typeof o?o[1]:o,a="string"==typeof r&&0===r.indexOf(s.toLowerCase())&&r.slice(n.val.length);i.val=n.val,e.params.aheadFromServer?e._input.get().setAhead(n.val+(i.meta&&i.meta["continue"]||"")):a&&s.length>=e.params.showOverChars?e._input.get().setAhead(n.val+(e.params.showFullPhrase?a[1]:a[1].split(" ")[0])):e._input.get().unsetAhead()})),t},getDefaultParams:function(){return $.extend(this.__base(),{aheadFromServer:!1,showOverChars:3,showFullPhrase:!1})}})},4811:function(){BEM.DOM.decl({block:"suggest2",modName:"theme",modVal:"flat"},{getPopupWidth:function(){var t=this._input.width();return $("html").hasClass("document_alt-arrow_yes")||this._input.get().hasMod("theme","normal")?t-2:t}})},6008:function(){BEM.decl("suggest2",{init:function(){this.__base.apply(this,arguments),this._logOnError()},_logOnError:function(){BEM.channel("suggest2").on("response",(function(t,e){var n=e.data.error;n&&"parsererror"===n&&!this._loggedError&&(this._loggedError=!0,home.error.logError({block:"suggest2",message:"Parser error",method:"_logOnError",sourceType:"network",source:"suggest2"}))}),this)}})},1190:function(){BEM.DOM.decl("xiva-notif",{onSetMod:{js:function(){window.WebSocket&&this.params.url&&(this.isConnected=!1,this.isPageClosed=!1,this.last={},this.connectAttempts=0,this.connectAttemptsTimer=null,this.reconnectTimer=null,this._connect(),this.bindToWin("beforeunload",this._disconnect))}},_update:function(t){this._isFreshMessage(t)&&("insert"!==t.operation&&"update labels"!==t.operation||this.channel("mail").trigger("update",{uid:t.uid,value:t.newCount}))},_isFreshMessage:function(t){var e=t.uid;return!!e&&(e in this.last||(this.last[e]=0),this.last[e]<=t.lcn?(this.last[e]=t.lcn,!0):void 0)},_connect:function(){this.last={},this.connectAttempts=0,this.ws=new WebSocket(this.params.url),this.ws.onopen=this._onSocketOpen.bind(this),this.ws.onmessage=this._onSocketMessage.bind(this),this.ws.onclose=this._onSocketClose.bind(this)},_onSocketOpen:function(){this.isConnected=!0,clearTimeout(this.connectAttemptsTimer),this.connectAttemptsTimer=setTimeout(function(){this.isConnected&&(this.connectAttempts=0)}.bind(this),5e3)},_onSocketMessage:function(t){try{var e=JSON.parse(t.data);e.raw_data&&this._update(JSON.parse(e.raw_data))}catch(n){}},_onSocketClose:function(t){if(clearTimeout(this.connectAttemptsTimer),!this.isPageClosed){this.connectAttempts+=1;var e=6e4;this.isConnected=!1,this.connectAttempts<=5?e=3e3:this.connectAttempts<=15&&(e=1e4),4e3===t.code&&(e=3e5),4401!==t.code&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(this._connect.bind(this),e))}},_disconnect:function(){this.isPageClosed=!0,this.ws&&this.ws.close&&this.ws.close(1e3,"unload")}})},2110:function(){$(document).ready((function(){var t=home&&home.getData&&home.getData("yandcache.data");t&&window.setTimeout((function(){var e=document.createElement("script");e.src=t.url,document.getElementsByTagName("head")[0].appendChild(e)}),t.timeout)}))},2339:function(){window.getcss=function(t){setTimeout((function(){var e=document.createElement("link");e.setAttribute("type","text/css"),e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),document.getElementsByTagName("head").item(0).appendChild(e)}),0)}},2825:function(){!function(){var t="__uniqMBEM"+Math.random().toString().substr(2,5),e=MBEM.blocks={};MBEM.prototype=Object.create(MBEM.Observable.prototype),MBEM.prototype.getDefaultParams=function(){return{}};var n=MBEM._propListeners="__uniqMBEMListeners"+Math.random().toString().substr(2,5);MBEM.prototype.bindTo=function(t,e,i){return"function"==typeof e&&(i=e,e=t,t=this.domElem),"string"==typeof t?t=this.elem(t):Array.isArray(t)||(t=[t]),e.split(" ").forEach((function(e){t.forEach((function(t){var o=i.bind(this);o.origHandler=i,t[n]||(t[n]={}),t[n][e]||(t[n][e]=[]),t[n][e].push(o),t.addEventListener(e,o)}),this)}),this),this},MBEM.prototype.elem=function(t,e,n){var i=[],o=t.split(" ").map((function(t){var o=this.__self.className(t,e,n);return MBEM.cls.contains(this.domElem,o)&&i.push(this.domElem),"."+o}),this).join(",");return i.concat(MBEM.arrayFrom(this.domElem.querySelectorAll(o)))};var i=function(){};MBEM.override=function(t,e){return"function"==typeof e&&e.toString().indexOf("__base")>-1?(t=t||i,function(){var n=this.__base;this.__base=t;var i=e.apply(this,arguments);return this.__base=n,i}):e},MBEM.staticProto={},MBEM.staticProto.className=function(t,e,n){var i=this._name;return t&&(i+="__"+t),e!==undefined&&!1!==n&&(i+="_"+e+(!0!==n&&n!==undefined?"_"+n:"")),i},MBEM.decl=function(t,n,i){n=n||{};var o,s,r,a,c,l=!1;for(var u in"object"==typeof t&&t.baseBlock?(l=!0,c=t.baseBlock,t=t.block):c=t,c in e?(s=e[c].prototype,o=r=e[c]):(l=!0,s=MBEM.prototype,r=MBEM.staticProto),l&&(s=Object.create(s),(o=function(t){this.__internalConstructor(t),this.__constructor(t),this.__afterConstructor(t)}).prototype=s,o.prototype.constructor=o,o.prototype.__self=o,o._name=t,e[t]=o),n)n.hasOwnProperty(u)&&(s[u]=MBEM.override(s[u],n[u]));for(a in r)i&&i.hasOwnProperty(a)||o[a]||(o[a]=r[a]);if(i)for(a in i)i.hasOwnProperty(a)&&(o[a]=MBEM.override(r[a],i[a]));return o},MBEM.getBlock=function(e,n){return e[t]&&e[t][n]},MBEM.consoleError=function(){if(window.console&&window.console.error)try{window.console.error.apply(window.console,arguments)}catch(t){}},MBEM.prototype.__internalConstructor=function(e){e=e||{},this.domElem=e.node,this.params=MBEM.extend(this.getDefaultParams(),e.params||{}),e.node&&((e.node[t]||(e.node[t]={}))[this.__self._name]=this)},MBEM.prototype.__constructor=function(){},MBEM.prototype.__afterConstructor=function(){},MBEM.initBlockFromNode=function(t,e,n){var i;return(i=MBEM.getBlock(t,e))?i:(n||(n=MBEM.getNodeParams(t)[e]),MBEM._createBlockFromNode({node:t,block:e,params:n}))},MBEM.createBlock=function(t){if(e[t.block])return new e[t.block](t);MBEM.consoleError("Block is not declared",t.block)},MBEM._createBlockFromNode=MBEM.createBlock,MBEM.getNodeParams=function(t){var e;try{e=JSON.parse(t.getAttribute("data-bem"))||{}}catch(n){return void MBEM.consoleError("Incorrect params",t)}return e}}()},5220:function(){MBEM.initNode=function(t){var e=MBEM.getNodeParams(t);if(e)for(var n in e)e.hasOwnProperty(n)&&MBEM.initBlockFromNode(t,n,e[n])}},2835:function(){var t,e;t=MBEM.blocks,e=MBEM.decl,MBEM.decl=function(n,i,o){if(i=i||{},"object"==typeof n&&n.modName){var s;for(var r in s=n.block in t?t[n.block].prototype:MBEM.prototype,i)i.hasOwnProperty(r)&&"function"==typeof i[r]&&function(){var t=n,e=s[r],o=i[r];i[r]=function(){return this._simpleCheckMod(t.modName,t.modVal)?o.apply(this,arguments):e&&this.__base?e.apply(this,arguments):void 0}}();n=n.block}return e(n,i,o)},MBEM.prototype.__internalConstructor=MBEM.override(MBEM.prototype.__internalConstructor,(function(t){this._modCache=t&&t.mods||this._extractInitMods(t),this.__base.apply(this,arguments)})),MBEM.prototype._extractInitMods=function(t){var e={};if(!t||!t.node)return e;for(var n,i,o=MBEM.cls.list(t.node.getAttribute("class")||""),s=this.__self._name+"_",r=0;r<o.length;++r)0===o[r].indexOf(s)&&((i=(n=o[r].substring(s.length)).indexOf("_"))>-1?e[n.substring(0,i)]=n.substring(i+1):e[n]=!0);return e},MBEM.prototype._simpleCheckMod=function(t,e){return e===undefined?Boolean(this._modCache[t]):this._modCache[t]===e}},9864:function(){var t;t=MBEM.decl,MBEM.decl=function(e,n,i){return"onSetMod"in(n=n||{})&&function(t,e){var n,i,o;if("function"==typeof t)e[MBEM._buildModFnName("","*","*")]=t;else for(n in t)if(t.hasOwnProperty(n)){if("function"==typeof(o=t[n])){e[MBEM._buildModFnName("",n,"*")]=o;continue}for(i in o)o.hasOwnProperty(i)&&(e[MBEM._buildModFnName("",n,i)]=o[i])}}(n.onSetMod,n),t(e,n,i)},MBEM.prototype.__afterConstructor=MBEM.override(MBEM.prototype.__afterConstructor,(function(){this.__base.apply(this,arguments),this.setMod("js","inited")})),MBEM.prototype._extractElemName=function(t){if(!t)return"";var e=(t.getAttribute("class")||"").match(new RegExp("(?:\\s|^)"+this.__self._name+"__([a-zA-Z0-9-]+)(?:\\s|$)"));return e&&e[1]?e[1]:""},MBEM.prototype.getMod=function(t,e){e||(e=t,t=this.domElem);var n=!t;return t=t||this.domElem,Array.isArray(t)&&(t=t[0]),n?e in this._modCache?this._modCache[e]:this._modCache[e]=this._extractModVal(t,e):this._extractModVal(t,e)},MBEM.prototype._extractModVal=function(t,e){if(!t)return"";for(var n,i=MBEM.cls.list(t.getAttribute("class")||""),o=this._extractElemName(t),s=this.__self.className(o,e),r="",a=0;a<i.length;++a)if(0===i[a].indexOf(s))return"_"===(n=i[a].substring(s.length)).charAt(0)?r=n.substr(1):""===n&&(r=!0),r;return""},MBEM.prototype.hasMod=function(t,e,n){var i=arguments.length,o=!1;1===i?(n="",e=t,t=undefined,o=!0):2===i&&("string"==typeof t?(n=e,e=t,t=undefined):(n="",o=!0));var s=this.getMod(t,e)===n;return o?!s:s},MBEM._buildModFnName=function(t,e,n){return(t?"__elem_"+t:"")+"__mod"+(e?"_"+e:"")+(n?"_"+n:"")},MBEM.prototype.setMod=function(t,e,n){void 0===n&&("string"==typeof t?(n=void 0===e||e,e=t,t=undefined):n=!0),t||(t=this.domElem),Array.isArray(t)&&(t=t[0]);var i=this.getMod(t,e);if(i===n)return this;var o=this._extractElemName(t),s=e+(o?"_"+o:"");if(this._processingMods||(this._processingMods={}),this._processingMods[s])return this;this._processingMods[s]=!0;var r=!0,a=[e,n,i];if(t===this.domElem&&[["*","*"],[e,"*"],[e,n]].forEach((function(t){var e=this[MBEM._buildModFnName(o,t[0],t[1])];e&&(r=!1!==e.apply(this,a)&&r)}),this),r&&(this._modCache[e]=n,this.domElem)){var c=MBEM.cls.list(t.getAttribute("class")||""),l=this.__self.className(o,e);c.forEach((function(e){0===e.indexOf(l)&&MBEM.cls.remove(t,e)})),""!==n&&MBEM.cls.add(t,this.__self.className(o,e,n))}return delete this._processingMods[s],this},MBEM.prototype.delMod=function(t,e){return e||(e=t,t=undefined),this.setMod(t,e,"")},MBEM.prototype.toggleMod=function(t,e,n,i,o){"string"==typeof t&&(o=i,i=n,n=e,e=t,t=undefined),void 0===i?i="":"boolean"==typeof i&&(o=i,i="");var s=this.getMod(t,e);return s!==n&&s!==i||this.setMod(t,e,"boolean"==typeof o?o?n:i:this.hasMod(t,e,n)?i:n),this}},8754:function(){var t;t={},MBEM.channel=function(e){if(e!==undefined&&t[e])return t[e];var n=new MBEM.Observable;return e!==undefined&&(t[e]=n),n}},9092:function(){window.MBEM=window.MBEM||{}},307:function(){!function(){var t=function(t){this.type=t,this.propagationStopped=!1};t.prototype.stopPropagation=function(){this.propagationStopped=!0};var e=function(){};e.prototype.on=function(t,e,n){if("object"==typeof t){for(var i in t)t.hasOwnProperty(i)&&this.on(i,t[i],e);return this}var o=this._handlerStorage||(this._handlerStorage={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},e.prototype.un=function(t,e){if("object"==typeof t){for(var n in t)t.hasOwnProperty(n)&&this.un(n,t[n]);return this}for(var i=this._handlerStorage||(this._handlerStorage={}),o=i[t]||(i[t]=[]),s=0;s<o.length;++s)if(o[s].fn===e)return o.splice(s,1),this;return this},e.prototype.trigger=function(e,n){for(var i,o=new t(e),s=this._handlerStorage||(this._handlerStorage={}),r=s[e]||(s[e]=[]),a=0;a<r.length;++a){var c=r[a];if(!1===(i=c.fn.call(c.ctx||this,o,n))&&o.stopPropagation(),o.propagationStopped)break}return i},MBEM.Observable=e}()},4985:function(){MBEM.arrayFrom=function(t){return Array.prototype.slice.call(t)}},3285:function(){MBEM.closest=function(t,e){for(;t&&t!==document;){if(MBEM.cls.contains(t,e))return t;t=t.parentNode}}},9677:function(){var t;t=/\s+/,MBEM.cls={list:function(e){return e.split(t).filter(Boolean)},contains:function(t,e){return MBEM.cls.list(t.getAttribute("class")||"").indexOf(e)>-1},add:function(t,e){var n=MBEM.cls.list(t.getAttribute("class")||"");return-1===n.indexOf(e)&&n.push(e),t.setAttribute("class",n.join(" ")),this},remove:function(t,e){var n=MBEM.cls.list(t.getAttribute("class")||""),i=n.indexOf(e);return i>-1&&n.splice(i,1),t.setAttribute("class",n.join(" ")),this},toggle:function(t,e,n){return n===undefined&&(n=!MBEM.cls.contains(t,e)),MBEM.cls[n?"add":"remove"](t,e)}}},131:function(){MBEM.extend=function(t,e){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];i instanceof Element||i instanceof Array||i instanceof Date||"object"!=typeof i||null===i?t[n]=i:(t[n]=t[n]||{},MBEM.extend(t[n],i))}return t}},7365:function(){Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,n=MBEM.arrayFrom(arguments).slice(1);return function(){var i=MBEM.arrayFrom(arguments);return e.apply(t,n.concat(i))}})},8505:function(){BEM.DOM.decl("modal",{attachToScope:function(t){return this._popup.attachToScope(t)}})},4450:function(){BEM.DOM.decl("popup2",{attachToScope:function(t){return t&&(this._scope=t),this._scope.append(this.domElem),this._isAttachedToScope=!0,this}})},6947:function(){BEM.DOM.decl("auth",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._socialDropdown=null,this._socialBroker=null,this._initSocialProviders()}}},_initSocialProviders:function(){var t=BEM.blocks["i-global"],e=t.param("social-providers"),n=this;if(e)n._createSocial(e);else{var i=t.param("social-host");if(!i)return;n._getSocialProviders(i,(function(t){n._createSocial(t)}))}},_getSocialProviders:function(t,e){$.getJSON(this.__self._getProvidersURL(t),(function(t){e(t.providers)}))},_createSocial:function(t){if(!t.length)return this.elem("social").remove(),void this.dropElemCache("social");BEM.DOM.update(this.elem("social"),BEMHTML.apply(this.__self._buildSocial(t,this._uniqId))),this._socialDropdown=this.findBlockInside("social","dropdown")},_onSocialClick:function(t){var e=this;t.preventDefault(),this._socialDropdown&&this._socialDropdown.hide(),this._socialBroker&&this._socialBroker.destruct(),this._socialBroker=BEM.create("social-broker"),this._socialBroker.start(function(){var t=e.getRetpath(),n=this.__self._getTopWindow().location;t&&n.href!==t?n.href=t:n.reload()}.bind(this),$.noop,{provider:this.elemParams(t.data.domElem).provider})}},{live:function(){return this.liveBindTo("social-link","pointerclick",(function(t){this._onSocialClick(t)})).liveBindTo("social-link","keyup",(function(t){t.keyCode!==BEM.blocks.keycodes.SPACE||t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||this._onSocialClick(t)})),this.__base(),!1},_getProvidersURL:function(t){return t+"/providers2.jsonp?callback=?"},_buildSocial:function(t,e){var n,i,o,s=[];return t=t.filter((function(t){return t.enabled})),i=this._buildSocialPrimary(t),s=s.concat(i),o=this._buildSocialSecondary(t),(n=this._buildSocialMore(i,o,e,t))&&s.push(n),s},_buildSocialPrimary:function(t){return t.filter((function(t){return t.primary})).map((function(t){return{block:"link",mods:{theme:"normal"},mix:{block:"auth",elem:"social-link",js:{provider:t.code}},title:t.display_name,icon:{block:"auth",elem:"social-icon",elemMods:{code:t.code}}}}))},_buildSocialSecondary:function(t){return t.map((function(t){return{block:"link",mods:{theme:"normal"},mix:{block:"auth",elem:"social-link",js:{provider:t.code}},title:t.display_name,icon:{block:"auth",elem:"social-icon",elemMods:{code:t.code}},text:{mix:{block:"auth",elem:"social-text"},content:BEM.blocks["i-common__string"].escapeHTML(t.display_name)}}}))},_buildSocialMore:function(t,e,n,i){if(t.length>=i.length)return!1;var o=BEM.I18N("auth","more");return{block:"dropdown",js:!0,content:[{block:"button",mods:{pseudo:"yes",theme:"pseudo",size:"s"},mix:[{block:"dropdown",elem:"switcher"}],attrs:{title:o,"aria-label":o},content:"· · ·"},{elem:"popup",content:{block:"auth",elem:"social-popup",mix:[{block:"auth",js:{uniqId:n}}],content:e}}]}},_getTopWindow:function(){return window.top}})},4372:function(){BEM.DOM.decl("auth",{onSetMod:{js:{inited:function(){this._username=this.findBlockInside("username","input"),this._password=this.findBlockInside("password","input"),this._button=this.findBlockInside("button","button2"),this._register=this.findBlockInside("register","button2"),this._remember=this.findBlockInside("remember","button2"),this._error=null,this._errorOwner=null,this._username.on("change",this._onInputChange,this),this._password.on("change",this._onInputChange,this),this.bindTo("submit",this._onBeforeSubmit),this.redraw()}}},_checkInput:function(t){var e=this,n=this.__self._getValidators(e,e._username.val(),e._password.val(),{checkEmpty:t}).every((function(t){var n=t();return!Array.isArray(n)||(e.showError(n[0],BEM.I18N("auth",n[1])),n[0].elem("control").attr("aria-invalid",!0),!1)}));return n&&(this.hideError(),this._username.elem("control").removeAttr("aria-invalid"),this._password.elem("control").removeAttr("aria-invalid")),n},_onInputChange:function(t){this._checkInput(!1)},enableButton:function(){return this._button.delMod("disabled"),this},disableButton:function(){return this._button.setMod("disabled","yes"),this},_onBeforeSubmit:function(t){if(this._username.val(this._username.val().trim()),!this._checkInput(!0))return!1;this._onSubmit(t),this.trigger("submit",t)},_onSubmit:function(t){this.disableButton(),this.elem("timestamp").val((new Date).getTime())},_getError:function(){if(this._error)return this._error;var t=$(BEMHTML.apply(this.__self._buildError()));return BEM.DOM.append(this.domElem,t),this._error=this.findBlockOn(t,"popup"),this._errorMsg=this.findElem(t,"error"),this._error.on("hide",(function(){this._errorOwner=null}),this),this._error},showError:function(t,e){var n=this._getError();return this._curErrorMsg!==e&&(this._errorMsg.text(e),this._curErrorMsg=e),this._errorOwner!==t&&(this._errorOwner=t,n.hide().show(t)),this},hideError:function(){return this._error&&this._error.hide(),this},getUsernameBlock:function(){return this._username},getPasswordBlock:function(){return this._password},getHaunterBlock:function(){return this._haunter||(this._haunter=this.findBlockInside("haunter","checkbox")),this._haunter},submit:function(){return this.domElem.submit(),this},redraw:function(){return this._onInputChange(),this._register&&this._register.setUrl(this.getRegisterURL()),this._remember&&this._remember.setUrl(this.getRememberURL()),this},setRetpath:function(t){return this.elem("retpath").val(t),this},getRetpath:function(){return this.elem("retpath").val()},getRegisterURL:function(){return this._getPassportURL("registration")},getRememberURL:function(){return this._getPassportURL("restoration")},_getPassportURL:function(t){return this.params.passport+"/"+t+"?"+$.param({from:this.elem("from").val(),origin:this.elem("origin").val(),retpath:this.getRetpath()})},destruct:function(){this._error&&this._error.destruct(),this.__base.apply(this,arguments)},getDefaultParams:function(){return{passport:BEM.blocks["i-global"].param("passport-host")}}},{_isUsernameValid:function(t,e){return this._isUsernameEmailValid(t)||this._isUsernameLoginValid(t)||this._isUsernamePhoneValid(t,e)},_isUsernameEmailValid:function(t){return/^\s*[^@\s]+@[^@\s]+\s*$/.test(t)},_isUsernameLoginValid:function(t){return/^\s*[-а-яА-ЯёЁA-Za-z0-9.]+\s*$/.test(t)},_isUsernamePhoneValid:function(t,e){return e?(t=(t=(t=(t=(t=(t=t.trim()).replace(/-\)/,"+)")).replace(/(\d)-/g,"$1")).replace(/\((\d+)\)/,"$1")).replace(/(^|\d+)\(/,"$1")).replace(/^\+/,""),/^\d*$/.test(t)):/^\+?[-0-9]*(?:\([-0-9]+\))?[-0-9]+$/.test(t)},_isPasswordValid:function(t){return!/[^\-a-zA-Z0-9`!@#$%^&*()_=+\[\]{};:"\|\\,.<>\/?]/.test(t)},_buildError:function(){return{block:"popup",mods:{autoclosable:"no"},js:{directions:["right","left"]},attrs:{role:"alert","aria-live":"assertive","aria-atomic":!0},content:[{elem:"tail"},{elem:"content",mix:[{block:"auth",elem:"error"}]}]}},_getValidators:function(t,e,n,i){var o=i.checkEmpty,s=this;return[function(){return!o||0!==e.length||[t._username,"fill-input"]},function(){return!o||0!==n.length||[t._password,"fill-input"]},function(){return!/[а-яА-ЯёЁ]/.test(n)||[t._password,"wrong-keyboard-layout"]},function(){return!!s._isUsernameValid(e,!o)||[t._username,"wrong-characters"]},function(){return!!s._isPasswordValid(n)||[t._password,"wrong-characters"]},function(){return!n||n!==e||[t._password,"wrong-password"]}]}})},7009:function(){BEM.DOM.decl({block:"b-menu-vert",baseBlock:"i-menu"})},9831:function(){BEM.DOM.decl({name:"button",modName:"pseudo",modVal:"yes"},{_onClick:function(t){this.__base.apply(this,arguments),this._href&&t.preventDefault()}})},9959:function(){BEM.DOM.decl("button",{onSetMod:{js:{inited:function(){var t=this.isDisabled(),e=this.domElem;(this._href=e.attr("href"))&&t&&e.removeAttr("href")}},disabled:function(t,e){var n=this.domElem;e&&this.delMod("hovered"),this._href&&(e?n.removeAttr("href"):n.attr("href",this._href)),this.afterCurrentEvent((function(){n&&n.prop("disabled",e)}))},pressed:function(t,e){if(this.hasMod("disabled"))return!1;this.trigger(e?"press":"release")}},isDisabled:function(){return this.hasMod("disabled","yes")},url:function(t){return void 0===t?this._href:(this._href=t,this.isDisabled()||this.domElem.attr("href",t),this)},getUrl:function(){return this.url()},setUrl:function(t){return this.url(t)},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")},_onClick:function(t){this.isDisabled()?t.preventDefault():this.afterCurrentEvent((function(){this.domElem&&this.trigger("click")}))}},{live:function(){this.liveBindTo("pointerclick",(function(t){this._onClick(t)})).liveBindTo("pointerpress",(function(t){this.isDisabled()||this._onPointerpress(t)}))}})},155:function(){BEM.DOM.decl({block:"button2",baseBlock:"control"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments)}},pressed:{yes:function(){if(this.hasMod("disabled"))return!1;this.trigger("press")},"":function(){this.trigger("release")}},checked:{yes:function(){this.trigger("check").domElem.attr("aria-pressed","true")},"":function(){this.trigger("uncheck").domElem.attr("aria-pressed","false")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("pressed")}},focused:{"":function(){this.__base.apply(this,arguments),this.delMod("pressed")}},progress:{yes:function(){this.setMod("disabled","yes")},"":function(){this.delMod("disabled")}}},getText:function(){return this.elem("text").text()},setText:function(t){return this.elem("text").text(t),this},_onClick:function(t){(!this._preventClick||t.detail>0)&&this.trigger("click",this._buildClickEventData(t)),this._preventClick=!1},_processClick:function(t){this.trigger("click",this._buildClickEventData(t))},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(){this.delMod("pressed").unbindFromDoc("pointerrelease")},_onKeydown:function(t){var e=t.keyCode,n=BEM.blocks.keycodes;n.is(e,this.params.pressKeys)&&(this.setMod("pressed","yes"),n.is(e,this.params.prvntKeys)&&t.preventDefault())},_onKeyup:function(t){var e=t.keyCode,n=BEM.blocks.keycodes;n.is(e,this.params.prvntKeys)&&t.preventDefault(),n.is(e,this.params.pressKeys)&&(this.delMod("pressed"),n.is(e,this.params.clickKeys)&&(this._preventClick=!0,this._processClick(t)))},_buildClickEventData:function(t){return{domEvent:t,isModKey:t.ctrlKey||t.altKey||t.metaKey||t.shiftKey}},getDefaultParams:function(){return $.extend(this.__base(),{pressKeys:["SPACE","ENTER"],prvntKeys:[],clickKeys:[]})}},{live:function(){return this.liveBindTo("pointerpress",(function(t){this.hasMod("disabled")||this._onPointerpress(t)})).liveBindTo("pointerclick",(function(t){this.hasMod("disabled")||this._onClick(t)})).liveBindTo("keydown",(function(t){this._onKeydown(t)})).liveBindTo("keyup",(function(t){this._onKeyup(t)})),this.__base()}})},7169:function(){BEM.DOM.decl({block:"checkbox",baseBlock:"control"},{onSetMod:{js:{inited:function(){var t=this.elem("control");this.toggleMod("checked","yes",t.prop("checked")),this.toggleMod("focused","yes",t.isFocused())}},hovered:{yes:function(){return!this.hasMod("disabled")}},pressed:{yes:function(){return!this.hasMod("disabled")}},checked:function(t,e){this.elem("control").prop("checked",e),this.trigger("change",{checked:Boolean(e)})},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("hovered").delMod("pressed")}}},isDisabled:function(){return this.hasMod("disabled","yes")},isChecked:function(){return Boolean(this.elem("control").prop("checked"))},toggle:function(){this.toggleMod("checked","yes")},val:function(t){var e=this.elem("control");return void 0===t?e.val():(e.val(t),this)},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},_onChange:function(t){this.toggleMod("checked","yes",t.target.checked)},_onPointerenter:function(t){this.setMod("hovered","yes")},_onPointerleave:function(t){this.delMod("hovered")},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")},_onClick:function(t){var e=this.elem("label"),n=t.target;this.domElem[0]===n&&this._onChange(t),n!==e[0]&&this.trigger("click",{domEvent:t}),this.setMod("focused","yes")},_onKeydown:function(t){t.keyCode===BEM.blocks.keycodes.SPACE&&this.setMod("pressed","yes")},_onKeyup:function(t){t.keyCode===BEM.blocks.keycodes.SPACE&&this.delMod("pressed")}},{live:function(){return this.liveBindTo("pointerover pointerout",(function(t){this.isDisabled()||this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))})).liveBindTo("pointerpress",(function(t){this.hasMod("disabled")||this._onPointerpress(t)})).liveBindTo("pointerclick",(function(t){this.hasMod("disabled")||this._onClick(t)})).liveBindTo("control","keydown",(function(t){this.hasMod("disabled")||this._onKeydown(t)})).liveBindTo("control","keyup",(function(t){this.hasMod("disabled")||this._onKeyup(t)})).liveBindTo("control","change",(function(t){this._onChange(t)})),this.__base()}})},4157:function(){BEM.DOM.decl("control",{onSetMod:{focused:{yes:function(){if(this.hasMod("disabled"))return!1;this._focused||(this._focus(),this.trigger("focus"))},"":function(){this._focused&&(this._blur(),this.trigger("blur"))}},disabled:{"*":function(t,e){var n=this._getControl();n.prop("disabled",Boolean(e)).attr("aria-disabled",Boolean(e)),n.attr("tabindex",e?null:this.params._tabindex)},yes:function(){this.delMod("focused")}}},_focus:function(){this._getControl().focus()},_blur:function(){this._getControl().blur()},_getControl:function(){var t=this.elem("control");return t.length>0?t:this.domElem},_onFocusin:function(){this._focused=!0,this.trigger("focus").setMod("focused","yes").bindTo("focusout",this._onFocusout)},_onFocusout:function(){this._focused=!1,this.trigger("blur").delMod("focused").unbindFrom("focusout")},getDefaultParams:function(){return{_tabindex:this._getControl().attr("tabindex")}}},{live:function(){this.liveBindTo("focusin",(function(t){this._onFocusin(t)})),parseInt(BEM.blocks["i-ua"].ios,10)>=8&&this.liveBindTo("control","focusin",(function(t){t.preventDefault()}))}})},1632:function(){BEM.DOM.decl({block:"dropdown-menu",baseBlock:"dropdown"})},8174:function(){BEM.DOM.decl("dropdown",{onSetMod:{js:{inited:function(){var t=this,e=t.params,n=t.findBlockOn(t.elem(e.popupElem),"popup");t._popup=n,n.on("show",t._onPopupShow,t).on("hide",t._onPopupHide,t),e.popupMethods.forEach((function(e){t[e]=n[e].bind(n)})),t.elem("switcher").attr({"aria-haspopup":!0,"aria-expanded":!1})}},action:function(t,e){var n="open"===e;this.elem("switcher").attr("aria-expanded",n),this._getButton()&&this._getButton().toggleMod("arrow","up","down",n)}},getPopup:function(){return this._popup},_getButton:function(){return this._button||(this._button=this.findBlockInside("switcher","button")),this._button},_toggle:function(){["button","link"].some((function(t){var e=this.findBlockOn("switcher",t);return e&&e.hasMod("disabled")}),this)&&!this._popup.isShown()||this._popup.toggle(this.elem("switcher"))},_onSwitcherClick:function(){this._toggle()},_onSwitcherKeyUp:function(t){if(!(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey)){var e=this.elem("switcher")[0].tagName.toLowerCase(),n=BEM.blocks.keycodes;"button"!==e&&("a"!==e&&t.keyCode===n.ENTER||t.keyCode===n.SPACE)&&(t.preventDefault(),this._toggle())}},_onPopupShow:function(){this.setMod("action","open").trigger("show")},_onPopupHide:function(){this.setMod("action","closed").trigger("hide")},destruct:function(){this._popup.un("show",this._onPopupShow,this).un("hide",this._onPopupHide,this),this._popup.domElem&&BEM.DOM.destruct(this._popup.domElem),this.__base.apply(this,arguments)},getDefaultParams:function(){return{popupElem:"popup",popupMethods:["toggle","show","hide","setContent"]}}},{live:function(){this.liveBindTo("switcher","pointerclick",(function(t){this._onSwitcherClick(t)})).liveBindTo("switcher","keyup",(function(t){this._onSwitcherKeyUp(t)}))}})},3943:function(){BEM.decl("framebuster",{onSetMod:{js:{inited:function(){var t=this._getWindow();if(t.top.location!==t.location){var e=this.matchDomain(t.document.referrer);e&&!this.isInWhitelist(e)&&(t.top.location=t.location)}}}},matchDomain:function(t){if(!t)return null;var e=t.match(/^https?:\/\/([^:\/\s]+)\/?.*/);return e&&e[1]},isInWhitelist:function(t){return!t||this.defaultWhitelist().concat(this.params.whitelist||[]).some((function(e){return"string"==typeof e?e===t||-1!==t.indexOf(e,t.length-e.length):!!e.test(t)}))},defaultWhitelist:function(){return[]},_getWindow:function(){return window}})},8372:function(){$((function(){BEM.afterCurrentEvent((function(){BEM.DOM.init()}))}))},943:function(){!function(t,e,n){var i=e(window),o=e(document),s={},r={},a={},c={},l={},u=t.blocks,h=t.INTERNAL,d=h.NAME_PATTERN,f=h.MOD_DELIM,p=h.ELEM_DELIM,m=RegExp("[^"+f+"]"+f+"("+d+")(?:"+f+"("+d+"))?$"),_=h.buildModPostfix,g=h.buildClass,v=Array.prototype.slice,b=Array.prototype.reverse;function y(t,i,o,a,c){"boolean"==typeof o&&(c=a,a=o,o=n);var l=i[0];if(l.dataset===n||"react"!==l.dataset.lego){var h=(o=w(o||k(l)[t],l,t)).uniqId;if(r[h])return r[h]._init();s[h]=s[h]?s[h].add(i):i;var d=l.parentNode;d&&11!==d.nodeType||e.unique(s[h]);var f=u[t]||C.decl(t,{},{live:!0});if(!(f._liveInitable=Boolean(f._processLive()))||a||!1===o.live){a&&i.addClass("i-bem");var p=new f(s[h],o,Boolean(a));return delete s[h],c&&c.apply(p,v.call(arguments,4)),p}}}function w(t,n,i,o){(t||(t={})).uniqId||(t.uniqId=(t.id?i+"-id-"+t.id:e.identify())+(o||e.identify()));var s=e.identify(n),r=a[s]||(a[s]={});return r[i]||(r[i]=t),t}function E(t,e,n){var i=t.find(e);return n?i:i.add(t.filter(e))}function k(t){var n=e.identify(t);return a[n]||(a[n]=M(t))}function M(t){var e=t.getAttribute("data-bem");return e?JSON.parse(e):{}}function x(t){delete a[e.identify(t)]}function B(t,e){1===t.domElem.length?t.destruct(!0):t.domElem=t.domElem.not(e)}e.fn.bem=function(t,e){return y(t,this,e,!0)};var C=t.DOM=t.decl("i-bem__dom",{__constructor:function(t,n,i){var o=this;o.domElem=t,o._eventNameCache={},o._elemCache={},o._blockInsideCache={},r[o._uniqId=n.uniqId||e.identify(o)]=o,o._needSpecialUnbind=!1,o.__base(null,n,i)},findBlocksInside:function(t,e){return this._findBlocks("find",t,e)},findBlockInside:function(t,e){var n=this._buildBlockCacheKey(t,e),i=this._findBlocks("find",t,e,!0);return this._blockInsideCache[n]=i,i},blockInside:function(t,e){var n=this._buildBlockCacheKey(t,e),i=this._blockInsideCache[n];return i||(i=this.findBlockInside(t,e)),i},dropBlockInsideCache:function(t,e){t||e?this._blockInsideCache[this._buildBlockCacheKey(t,e)]=null:this._blockInsideCache={}},_buildBlockCacheKey:function(t,e){e||(e=t,t="");var n="string"==typeof e?e:g(e.block,e.modName,e.modVal);return("string"==typeof t?t:t.__bemElemName)+":"+n},findBlocksOutside:function(t,e){return this._findBlocks("parents",t,e)},findBlockOutside:function(t,e){return this._findBlocks("closest",t,e)[0]||null},findBlocksOn:function(t,e){return this._findBlocks("",t,e)},findBlockOn:function(t,e){return this._findBlocks("",t,e,!0)},_findBlocks:function(t,i,o,s){if(!this.domElem)return s?null:[];o||(o=i,i=n);var r=i?"string"==typeof i?this.findElem(i):i:this.domElem,a="string"==typeof o,c=a?o:o.block||o.blockName,l="."+(a?c:g(c,o.modName,o.modVal))+(s?":first":""),u=r.filter(l);if(t&&(u=u.add(r[t](l))),s)return u[0]?y(c,u.eq(0),!0):null;var h=[],d={};return e.each(u,(function(t,n){var i=y(c,e(n),!0);d[i._uniqId]||(d[i._uniqId]=!0,h.push(i))})),h},bindToDomElem:function(t,i,o,s){e.isFunction(o)&&(s=o,o=n);var r=this,a=function(t){return(t.data||(t.data={})).domElem=e(this),s.apply(r,arguments)};return s?t.bind(r._buildEventName(i),o,(a.guid=s.guid=s.guid||e.guid++,a)):e.each(i,(function(e,n){r.bindToDomElem(t,e,o,n)})),r},bindToDoc:function(t,e,n){return this._needSpecialUnbind=!0,this.bindToDomElem(o,t,e,n)},bindToWin:function(t,o,s){return e.isFunction(o)&&(s=o,o=n),this._needSpecialUnbind=!0,this.bindToDomElem(i,t,o,s)},bindTo:function(t,n,i,o){var s=arguments.length;switch(s){case 3:e.isFunction(i)&&(o=i,"object"==typeof n&&(i=n,n=t,t=this.domElem));break;case 2:e.isFunction(n)?(o=n,n=t,t=this.domElem):"string"==typeof t||t instanceof e||(i=n,n=t,t=this.domElem);break;case 1:n=t,t=this.domElem}return"string"==typeof t&&(t=this.elem(t)),this.bindToDomElem(t,n,i,o)},unbindFromDomElem:function(t,e,n){return t.unbind(this._buildEventName(e),n),this},unbindFromDoc:function(t,e){return this.unbindFromDomElem(o,t,e)},unbindFromWin:function(t,e){return this.unbindFromDomElem(i,t,e)},unbindFrom:function(t,n,i){var o=arguments.length;return 1===o?(n=t,t=this.domElem):2===o&&e.isFunction(n)?(i=n,n=t,t=this.domElem):"string"==typeof t&&(t=this.elem(t)),this.unbindFromDomElem(t,n,i)},_buildEventName:function(t){var e=this;return t.indexOf(" ")>1?t.split(" ").map((function(t){return e._buildOneEventName(t)})).join(" "):e._buildOneEventName(t)},_buildOneEventName:function(t){var e=this._eventNameCache;if(t in e)return e[t];var n="."+this._uniqId;if(-1===t.indexOf("."))return e[t]=t+n,e[t];var i=".bem_"+this.__self._name;return e[t]=t.split(".").map((function(t,e){return 0===e?t+i:i+"_"+t})).join("")+n,e[t]},_trigger:function(t,e){this.__base.apply(this,arguments),this._ctxTrigger(t,e)},_ctxTrigger:function(t,n){var i=this,o=c[i.__self._buildCtxEventName(t.type)],s={};o&&i.domElem.each((function(){for(var r=this,a=o.counter;r&&a;){var c=e.identify(r,!0);if(c){if(s[c])break;var l=o.ctxs[c];l&&(e.each(l,(function(e,o){o.fn.call(o.ctx||i,t,n)})),a--),s[c]=!0}r=r.parentNode}}))},getMods:function(t){var e=t&&"string"!=typeof t,i=this._modCache,o=[].slice.call(arguments,e?1:0),s=this._extractMods(o,e?t:n);return e||(o.length?o.forEach((function(t){i[t]=s[t]})):i=s),s},setMod:function(t,n,i){if(t&&void 0!==i&&t.length>1){var o=this;return t.each((function(){var s=e(this);s.__bemElemName=t.__bemElemName,o.setMod(s,n,i)})),o}return this.__base(t,n,i)},_extractModVal:function(t,e,n){var i,o=(e||this.domElem)[0];return o&&(i=o.getAttribute("class").match(this.__self._buildModValRE(t,n||e))),i?i[2]||!0:""},_extractMods:function(t,e){var n={},i=!t.length,o=0;return((e||this.domElem).eq(0).attr("class").match(this.__self._buildModValRE("("+(i?d:t.join("|"))+")",e,"g"))||[]).forEach((function(t){var e=t.match(m);n[e[1]]=e[2]||!0,++o})),o<t.length&&t.forEach((function(t){t in n||(n[t]="")})),n},_afterSetMod:function(t,n,i,o,s){if(this._isDestructing)return this.__base.apply(this,arguments);var r=this.__self,a=r._buildModClassPrefix(t,s),c=r._buildModValRE(t,s,"g"),l=""===n||!1===n;(o||this.domElem).each((function(){var t=e(this),o=t.attr("class"),s=a;!0!==n&&(s+=f+n),(!0===i?c.test(o):(" "+o).indexOf(" "+a+f)>-1)?t.attr("class",o.replace(c,l?"":"$1"+s)):l||t.addClass(s)})),s&&this.dropElemCache(s,t,i).dropElemCache(s,t,n),this.__base.apply(this,arguments)},findElem:function(t,e,n,i){arguments.length%2?(i=n,n=e,e=t,t=this.domElem):"string"==typeof t&&(t=this.findElem(t)),e=e.split(" ");var o=this.__self.getName(),s=_(n,i),r=[],a=e.map((function(t){return r.push("."+g(o,t,n,i)),t+s})),c=1===a.length,l=E(t,r.join(","));return t===this.domElem&&r.forEach((function(t,n){(this._elemCache[a[n]]=c?l:l.filter(t)).__bemElemName=e[n]}),this),l},_elem:function(t,e,n){return this._elemCache[t+_(e,n)]||this.findElem(t,e,n)},elem:function(t,n,i){if(2===arguments.length&&(i=!0),n&&"string"!=typeof n)return n.__bemElemName=t,n;if(t.indexOf(" ")<0)return this._elem(t,n,i);var o=e([]);return t.split(" ").forEach((function(t){o=o.add(this._elem(t,n,i))}),this),o},dropElemCache:function(t,e,n){if(t){var i=_(e,n);t.indexOf(" ")<0?delete this._elemCache[t+i]:t.split(" ").forEach((function(t){delete this._elemCache[t+i]}),this)}else this._elemCache={};return this},elemParams:function(t){var e;return"string"==typeof t?(e=t,t=this.elem(t)):e=this.__self._extractElemNameFrom(t),M(t[0])[g(this.__self.getName(),e)]||{}},elemify:function(t,n){return(t=e(t)).__bemElemName=n,t},containsDomElem:function(t){var e=!1;return this.domElem.each((function(){return!(e=t.parents().andSelf().index(this)>-1)})),e},buildSelector:function(t,e,n){return this.__self.buildSelector(t,e,n)},destruct:function(t){var n=this,i=n.__self;n._isDestructing||(n._isDestructing=!0,n._needSpecialUnbind&&i.doc.add(i.win).unbind("."+n._uniqId),n.dropElemCache().domElem.each((function(t,n){var i=k(n);e.each(i,(function(t,e){var i=r[e.uniqId];i?i._isDestructing||B(i,n):delete s[e.uniqId]})),x(n)})),t||n.domElem.remove(),n.__base(),delete r[n.un()._uniqId],delete n.domElem,delete n._elemCache)}},{scope:null,doc:o,win:i,html:e(document.documentElement),_processLive:function(t){var e=this._liveInitable;if("live"in this&&void 0===e^t){e=!1!==this.live();var n=this.getName(),i=this.live;this.live=function(){return this.getName()===n?e:i.apply(this,arguments)}}return e},init:function(t,n,i){!t||e.isFunction(t)?(i=n,n=t,t=o):"string"==typeof t&&(t=e(t));var s=e.identify();return E(t,".i-bem").each((function(){!function(t,n){var i=t[0];e.each(k(i),(function(o,s){w(s,i,o,n);var a=r[s.uniqId];a?a.domElem.index(i)<0&&(a.domElem=a.domElem.add(t),e.extend(a._params,s)):y(o,t,s)}))}(e(this),s)})),n&&this.afterCurrentEvent((function(){n.call(i||this,t)})),this._runAfterCurrentEventFns(),t},destruct:function(t,i,o){"boolean"!=typeof t&&(o=i,i=t,t=n),i&&(b.call(E(i,".i-bem",o)).each((function(t,n){var i=k(this);e.each(i,(function(t,e){if(e.uniqId){var i=r[e.uniqId];i?B(i,n):delete s[e.uniqId]}})),x(this)})),t||(o?i.empty():i.remove()))},update:function(t,e,n,i){return this.destruct(t,!0),this.init(t.html(e),n,i)},replace:function(t,n){return this.destruct(!0,t),this.init(e(n).replaceAll(t))},append:function(t,n){return this.init(e(n).appendTo(t))},prepend:function(t,n){return this.init(e(n).prependTo(t))},before:function(t,n){return this.init(e(n).insertBefore(t))},after:function(t,n){return this.init(e(n).insertAfter(t))},_buildCtxEventName:function(t){return this._name+":"+t},_liveClassBind:function(t,n,i,s){var r=this;if(n.indexOf(" ")>-1)n.split(" ").forEach((function(e){r._liveClassBind(t,e,i,s)}));else{var a=l[n],c=e.identify(i);a||(a=l[n]={},o.bind(n,r._liveClassTrigger.bind(r))),c in(a=a[t]||(a[t]={uniqIds:{},fns:[]})).uniqIds||(a.fns.push({uniqId:c,fn:r._buildLiveEventFn(i,s)}),a.uniqIds[c]=a.fns.length-1)}return this},_liveClassUnbind:function(t,n,i){var o=l[n];if(o)if(i){if(o=o[t]){var s=e.identify(i);if(s in o.uniqIds){var r=o.uniqIds[s],a=o.fns.length-1;for(o.fns.splice(r,1);r<a;)o.uniqIds[o.fns[r++].uniqId]=r-1;delete o.uniqIds[s]}}}else delete o[t];return this},_liveClassTrigger:function(t){var n=l[t.type];if(n){var i=t.target,o=Object.keys(n);do{for(var s,r=" "+i.className+" ",a=0;s=o[a++];)if(-1!==r.indexOf(" "+s+" ")){for(var c=!1,u=n[s].fns,h=0;h<u.length;h++)!1===u[h].fn.apply(e(i),arguments)&&(c=!0);if(c&&t.preventDefault(),c||t.isPropagationStopped())return;o.splice(--a,1)}}while(o.length&&(i=i.parentNode))}},_buildLiveEventFn:function(t,n){var i=this;return function(o){var s=[i._name,((o.data||(o.data={})).domElem=e(this)).closest(i.buildSelector()),!0],r=y.apply(null,n?s.concat([t,o]):s);if(r&&!n&&t)return t.apply(r,arguments)}},liveInitOnEvent:function(t,e,n){return this.liveBindTo(t,e,n,!0)},liveBindTo:function(t,i,o,s){i&&!e.isFunction(i)||(o=i,i=t,t=n),t&&"string"!=typeof t||(t={elem:t}),t.elemName&&(t.elem=t.elemName);var r=this;return t.elem&&t.elem.indexOf(" ")>0?(t.elem.split(" ").forEach((function(e){r._liveClassBind(g(r._name,e,t.modName,t.modVal),i,o,s)})),r):r._liveClassBind(g(r._name,t.elem,t.modName,t.modVal),i,o,s)},liveUnbindFrom:function(t,i,o){i&&!e.isFunction(i)||(o=i,i=t,t=n);var s=this;return t&&t.indexOf(" ")>1?(t.split(" ").forEach((function(t){s._liveClassUnbind(g(s._name,t),i,o)})),s):s._liveClassUnbind(g(s._name,t),i,o)},_liveInitOnBlockEvent:function(t,e,n,i){var o=this._name;return u[e].on(t,(function(t){if(t.block.domElem){var e=arguments,s=t.block[i](o);n&&s.forEach((function(t){n.apply(t,e)}))}})),this},liveInitOnBlockEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOn")},liveInitOnBlockInsideEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOutside")},on:function(t,e,n,i,o){return t.jquery?this._liveCtxBind(t,e,n,i,o):this.__base(t,e,n,i,o)},un:function(t,e,n,i){return t.jquery?this._liveCtxUnbind(t,e,n,i):this.__base(t,e,n)},liveCtxBind:function(t,e,n,i,o){return this._liveCtxBind(t,e,n,i,o)},_liveCtxBind:function(t,i,o,s,r){var a=this;if("object"==typeof i&&(e.isFunction(o)||e.isFunction(s))&&(i=this._buildModEventName(i)),"string"==typeof i)if(e.isFunction(o)&&(r=s,s=o,o=n),i.indexOf(" ")>-1)i.split(" ").forEach((function(e){a._liveCtxBind(t,e,o,s,r)}));else{var l=a._buildCtxEventName(i),u=c[l]||(c[l]={counter:0,ctxs:{}});t.each((function(){var t=e.identify(this),n=u.ctxs[t];n||(n=u.ctxs[t]={},++u.counter),n[e.identify(s)+(r?e.identify(r):"")]={fn:s,data:o,ctx:r}}))}else e.each(i,(function(e,n){a._liveCtxBind(t,e,n,o)}));return a},liveCtxUnbind:function(t,e,n,i){return this._liveCtxUnbind(t,e,n,i)},_liveCtxUnbind:function(t,n,i,o){"object"==typeof n&&e.isFunction(i)&&(n=this._buildModEventName(n));var s=c[n=this._buildCtxEventName(n)];return s&&(t.each((function(){var t,n=e.identify(this,!0);n&&(t=s.ctxs[n])&&(i&&delete t[e.identify(i)+(o?e.identify(o):"")],i&&!e.isEmptyObject(t)||(s.counter--,delete s.ctxs[n]))})),s.counter||delete c[n]),this},_extractElemNameFrom:function(t){if(t.__bemElemName)return t.__bemElemName;var e=t.eq(0).attr("class").match(this._buildElemNameRE());return e?e[1]:n},extractParams:M,_buildModClassPrefix:function(t,e){return this._name+(e?p+("string"==typeof e?e:this._extractElemNameFrom(e)):"")+f+t},_buildModValRE:function(t,e,n){return new RegExp("(\\s|^)"+this._buildModClassPrefix(t,e)+"(?:"+f+"("+d+"))?(?=\\s|$)",n)},_buildElemNameRE:function(){return new RegExp(this._name+p+"("+d+")(?:\\s|$)")},buildSelector:function(t,e,n){return"."+g(this._name,t,e,n)},getBlockByUniqId:function(t){return r[t]},getWindowSize:function(){return{width:i.width(),height:i.height()}}});e((function(){t.DOM.scope=e("body")}))}(BEM,jQuery)},2433:function(){!function(t,e,n){var i;function o(t){var e=typeof t;return"string"===e||"number"===e||"boolean"===e}function s(t,e,n){null!=e&&!1!==e&&(n.push("_",t),!0!==e&&n.push("_",e))}function r(t,e,n,i){i.push(t),s(e,n,i)}function a(t,e,n,o,a){r(t,i,i,a),a.push("__",e),s(n,o,a)}t.INTERNAL={NAME_PATTERN:"[a-zA-Z0-9-]+",MOD_DELIM:"_",ELEM_DELIM:"__",buildModPostfix:function(t,e,n){var i=n||[];return s(t,e,i),n?i:i.join("")},buildClass:function(t,e,n,s,c){if(o(n)?o(s)||(c=s,s=n,n=e,e=i):void 0!==n?(c=n,n=i):e&&"string"!=typeof e&&(c=e,e=i),!e&&void 0===n&&!c)return t;var l=c||[];return e?a(t,e,n,s,l):r(t,n,s,l),c?l:l.join("")},buildClasses:function(t,i,o,s){i&&"string"!=typeof i&&(s=o,o=i,i=n);var c=s||[];return i?a(t,i,n,n,c):r(t,n,n,c),o&&e.each(o,(function(e,n){n&&(c.push(" "),i?a(t,i,e,n,c):r(t,e,n,c))})),s?c:c.join("")}}}(BEM,jQuery)},4014:function(){!function(t,e){var n=[],i=t.inherit,o=t.isFunction,s=Function.prototype.call.bind(Object.prototype.hasOwnProperty),r={},a={};function c(t,e,n){return(t?"__elem_"+t:"")+"__mod"+(e?"_"+e:"")+(n?"_"+n:"")}function l(t,e,n){var i,r,a;if(o(t))e[c(n,"*","*")]=t;else for(i in t)if(s(t,i))if(a=t[i],o(a))e[c(n,i,"*")]=a;else for(r in a)s(a,r)&&(e[c(n,i,r)]=a[r])}function u(t){var e;if(t.onSetMod&&(l(t.onSetMod,t),delete t.onSetMod),t.onElemSetMod){for(e in t.onElemSetMod)s(t.onElemSetMod,e)&&l(t.onElemSetMod[e],t,e);delete t.onElemSetMod}}window.BEM=i(t.observable,{__constructor:function(t,e,n){var i=this;i._modCache=t||{},i._processingMods={},i._params=e,i.params=null,!1!==n?i._init():i.afterCurrentEvent((function(){i._init()}))},_init:function(){return this._initing||this.hasMod("js","inited")||(this._initing=!0,this.params||(this.params=t.extend(this.getDefaultParams(),this._params),delete this._params),this.setMod("js","inited"),delete this._initing,this.hasMod("js","inited")&&this.trigger("init")),this},changeThis:function(t,e){return t.bind(e||this)},afterCurrentEvent:function(t,e){this.__self.afterCurrentEvent(t.bind(e||this))},on:function(e,n,i,o){return"object"==typeof e&&(t.isFunction(n)||t.isFunction(i))&&(e=this.__self._buildModEventName(e)),this.__base.apply(this,arguments)},un:function(e,n,i){return"object"==typeof e&&t.isFunction(n)&&(e=this.__self._buildModEventName(e)),this.__base.apply(this,arguments)},trigger:function(e,n){var i=!0;return"object"!=typeof e||e instanceof t.Event||(i="js"===e.modName||this.hasMod("js"),e=this.__self._buildModEventName(e)),i&&(this.__base(e=this.buildEvent(e),n),this._trigger(e,n)),this},_trigger:function(t,e){this.__self.trigger(t,e)},buildEvent:function(e){return"string"==typeof e&&(e=t.Event(e)),e.block=this,e},hasMod:function(t,n,i){var o=arguments.length,s=!1;1==o?(i="",n=t,t=e,s=!0):2==o&&("string"==typeof t?(i=n,n=t,t=e):(i="",s=!0));var r=this.getMod(t,n)===i;return s?!r:r},getMod:function(t,e){var n=typeof t;if("string"===n||"undefined"===n){e=t||e;var i=this._modCache;return e in i?i[e]:i[e]=this._extractModVal(e)}return this._getElemMod(e,t)},_getElemMod:function(t,e,n){return this._extractModVal(t,e,n)},getMods:function(t){var e=t&&"string"!=typeof t,n=this._modCache,i=[].slice.call(arguments,e?1:0);return i.length?i.reduce((function(t,e){return e in n&&(t[e]=n[e]),t}),{}):n},setMod:function(n,i,o){void 0===o&&("string"==typeof n?(o=void 0===i||i,i=n,n=e):o=!0);var s=this;if(!n||n[0]){!1===o||null===o?o="":!0!==o&&(o=o.toString());var r=(n&&n[0]?t.identify(n[0]):"")+"_"+i;if(this._processingMods[r])return s;var a,c=n?s._getElemMod(i,n,a=s.__self._extractElemNameFrom(n)):s.getMod(i);if(c===o)return s;this._processingMods[r]=!0;var l=!0,u=[i,o,c];n&&u.unshift(n),[["*","*"],[i,"*"],[i,o]].forEach((function(t){l=!1!==s._callModFn(a,t[0],t[1],u)&&l})),!n&&l&&(s._modCache[i]=o),l&&s._afterSetMod(i,o,c,n,a),delete this._processingMods[r]}return s},_afterSetMod:function(t,e,n,i,o){var s={modName:t,modVal:e,oldModVal:n};i&&(s.elem=i),this.trigger({modName:t,modVal:"*",elem:o},s).trigger({modName:t,modVal:e,elem:o},s)},toggleMod:function(t,n,i,o,s){"string"==typeof t&&(s=o,o=i,i=n,n=t,t=e),void 0===o?o="":"boolean"==typeof o&&(s=o,o="");var r=this.getMod(t,n);return(r==i||r==o)&&this.setMod(t,n,"boolean"==typeof s?s?i:o:this.hasMod(t,n,i)?o:i),this},delMod:function(t,n){return n||(n=t,t=e),this.setMod(t,n,"")},_callModFn:function(t,n,i,o){var s=c(t,n,i);return this[s]?this[s].apply(this,o):e},_extractModVal:function(t,e){return""},channel:function(t,e){return this.__self.channel(t,e)},getDefaultParams:function(){return{}},del:function(t){var e=[].slice.call(arguments);return"string"==typeof t&&e.unshift(this),this.__self.del.apply(this.__self,e),this},destruct:function(){var t={modName:"js",modVal:"",oldModVal:"inited"};this.trigger({modName:t.modName,modVal:t.modVal},t)}},t.extend(window.BEM,{_name:"i-bem",blocks:r,decl:function(n,s,a){"string"==typeof n?n={block:n}:n.name&&(n.block=n.name),u(s||(s={}));var c,l,h=r[n.baseBlock||n.block]||this;if(n.modName){var d=(c=n.modName,(l=n.modVal)?Array.isArray(l)?function(t){for(var e=0,n=l.length;e<n;)if(t.hasMod(c,l[e++]))return!0;return!1}:function(t){return t.hasMod(c,l)}:function(t){return t.hasMod(c)});t.each(s,(function(t,n){o(n)&&(s[t]=function(){var i;if(d(this))i=n;else{var o=h.prototype[t];o&&o!==s[t]&&(i=this.__base)}return i?i.apply(this,arguments):e})}))}if(a&&"boolean"==typeof a.live){var f=a.live;a.live=function(){return f}}var p,m=h;return n.baseMix&&(m=[m],n.baseMix.forEach((function(t){m.push(r[t])}))),n.block==h._name?(p=i.self(m,s,a))._processLive(!0):((p=r[n.block]=i(m,s,a))._name=n.block,delete p._liveInitable),p},declMix:function(t,e,n){return u(e||(e={})),r[t]=i(e,n)},_processLive:function(t){return!1},create:function(t,e){return"string"==typeof t&&(t={block:t}),new r[t.block](t.mods,e)},getName:function(){return this._name},on:function(e,n,i,o){return"object"==typeof e&&(t.isFunction(n)||t.isFunction(i))&&(e=this._buildModEventName(e)),this.__base.apply(this,arguments)},un:function(e,n,i){return"object"==typeof e&&t.isFunction(n)&&(e=this._buildModEventName(e)),this.__base.apply(this,arguments)},_buildModEventName:function(t){var e="_"+t.modName+"_"+(!1===t.modVal?"":t.modVal);return t.elem&&(e="__"+t.elem+e),e},_extractElemNameFrom:function(t){},afterCurrentEvent:function(t,e){1==n.push({fn:t,ctx:e})&&setTimeout(this._runAfterCurrentEventFns,0)},_runAfterCurrentEventFns:function(){var t=n.length;t&&n.splice(0,t).forEach((function(t){t.fn.call(t.ctx||this)}),this)},changeThis:function(t,e){return t.bind(e||this)},del:function(t){var e="string"==typeof t,n=e?0:1,i=arguments.length;for(e&&(t=this);n<i;)delete t[arguments[n++]];return this},channel:function(n,i){if("boolean"==typeof n&&(i=n,n=e),n||(n="default"),!i)return a[n]||(a[n]=new t.observable);a[n]&&(a[n].un(),delete a[n])}}))}(jQuery)},8370:function(){!function(t){t||(t=window.Lego={}),t.isSessionValid=function(){return Boolean(t.getCookie("yandex_login"))}}(window.Lego)},7965:function(){!function(t){t||(t=window.Lego={}),t.getCookie=function(t){var e=document.cookie;if(e.length<1)return!1;var n=e.indexOf(t+"=");if(-1===n)return!1;n+=t.length+1;var i=e.indexOf(";",n);return decodeURIComponent(-1===i?e.substring(n):e.substring(n,i))}}(window.Lego)},5027:function(){!function(t,e){e||(e=window.Lego={}),e.init||(e.init=function(n){return(n=e.params=t.extend({id:"",login:e.isSessionValid()&&e.getCookie("yandex_login")||"",yandexuid:e.getCookie("yandexuid"),locale:"ru",retpath:window.location.toString(),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","passport-msg":n.id,"social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100},n,e.params))["show-counters"]=Math.round(100*Math.random())<=n["show-counters-percent"],BEM.blocks["i-global"]._params||t.extend(BEM.blocks["i-global"]._params={},n),n}),e.block||(e.block={}),e.blockInit||(e.blockInit=function(n,i){n=n||document,i=i||".g-js",t(n).find(i).each((function(){var n=t(this),i=n.data("bem")||(this.onclick?this.onclick():{}),o=i.name||"",s=e.block[o];s&&!n.data(o)&&(s.call(n,i),n.data(o,!0).addClass(o+"_js_inited"))}))}),e.blockInitBinded||(e.blockInitBinded=Boolean(t(document).ready((function(){e.blockInit()}))))}(jQuery,window.Lego)},8127:function(){var t;BEM.decl("i-common__string",{},{cleverSubstring:function(t,e,n){return t.length>e+n?t.substring(0,e-1)+"…":t},escapeHTML:(t={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},function(e){return String(e).replace(/&(?!\w+;)|[<>"']/g,(function(e){return t[e]||e}))}),escapeRegExp:function(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}})},7679:function(){!function(t,e){var n="function"==typeof window.navigator.sendBeacon;t||(t=window.Lego={}),!t.params&&(t.params={}),t.c=function(t,e,i){var o,s=function(t){return t.replace(/^(?:https?:)?\/\//,"")}((i=i||{}).host||BEM.blocks["i-global"].param("click-host")||"clck.yandex.ru"),r=function(t,e,n,i){return(e=e.replace("'","%27")).indexOf("/dtype=")>-1?e:location.protocol+"//"+s+"/"+n+"/dtype="+t+"/rnd="+((new Date).getTime()+Math.round(100*Math.random()))+(i?"/*"+(e.match(/^http/)?e:location.protocol+"//"+location.host+(e.match("^/")?e:"/"+e)):"/*data="+encodeURIComponent("url="+encodeURIComponent(e.match(/^http/)?e:location.protocol+"//"+location.host+(e.match("^/")?e:"/"+e))))},a=function(){return r(t,i.useLinkHref&&Object(e).href?e.href:location.href,"jclck")},c=function(){a();var t,e,i=!1;n&&(i=navigator.sendBeacon(a()," ")),i||(t=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0],(e=document.createElement("script")).setAttribute("src",a()),t.insertBefore(e,t.firstChild))};if(e)if(!0===i.noRedirect||e.className.indexOf("link_pseudo_yes")>-1||e.href&&0===e.href.indexOf("mailto:"))c();else if(e.href)o=e.href,e.href=r(t,o,"redir"),setTimeout((function(){e.href=o}),500);else if(e.form)e.type.match(/submit|button|image/)?(o=e.form.action,e.form.action=r(t,o,"redir",!0),setTimeout((function(){e.form.action=o}),500)):c();else{if(!e.action)throw"counter.js: not link and not form!";e.action=r(t,e.action,"redir",!0)}else c()},t.cp=function(e,n,i,o,s,r){"string"==typeof o||(r=s,s=o,o=undefined),t.c("stred/pid="+e+"/cid="+n+(i?"/path="+i+(o?"/vars="+o:""):""),s,r)}}(window.Lego)},623:function(){BEM.DOM.decl("i-global",{onSetMod:{js:{inited:function(){this.del(this.__self._params=$.extend({},this.params),"uniqId","name");var t=this.__self._params;t["passport-msg"]||(t["passport-msg"]=t.id),t["show-counters"]===undefined&&(t["show-counters"]=Math.round(100*Math.random())<=t["show-counters-percent"]),t.locale=t.lang,window.BEMHTML&&BEMHTML.apply({block:"i-global",params:t})}}},getDefaultParams:function(){return{id:"",login:Lego.isSessionValid()&&$.cookie("yandex_login")||"",yandexuid:$.cookie("yandexuid"),lang:"ru",tld:"ru",retpath:encodeURI($.decodeURI(location.href)),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100}}},{param:function(t,e){if(void 0===e)return(this._params||{})[t];this._params&&(this._params[t]=e)}})},5e3:function(){
/**
 * Cookie plugin
 *
 * Copyright (c) 2006 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */
jQuery.cookie=function(t,e,n){if(void 0===e){var i=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),s=0;s<o.length;s++){var r=jQuery.trim(o[s]);if(r.substring(0,t.length+1)==t+"="){i=decodeURIComponent(r.substring(t.length+1));break}}return i}n=n||{},null===e&&(e="",n.expires=-1);var a,c="";n.expires&&("number"==typeof n.expires||n.expires.toUTCString)&&("number"==typeof n.expires?(a=new Date).setTime(a.getTime()+24*n.expires*60*60*1e3):a=n.expires,c="; expires="+a.toUTCString());var l=n.path?"; path="+n.path:"",u=n.domain?"; domain="+n.domain:"",h=n.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),c,l,u,h].join("")}},3144:function(){
/**
 * Debounce and throttle function's decorator plugin 1.0.6
 *
 * Copyright (c) 2009 Filatov Dmitry (alpha@zforms.ru)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */
$.extend({debounce:function(t,e,n,i){var o,s=function(){var s=arguments;i=i||this,n&&!o&&t.apply(i,s),clearTimeout(o),o=setTimeout((function(){n||t.apply(i,s),o=null}),e)};return 3===arguments.length&&"boolean"!=typeof n&&(i=n,n=!1),s.stop=function(){clearTimeout(o),o=null},s},throttle:function(t,e,n){var i,o,s,r=function(){o=arguments,s=!0,n=n||this,i||function(){s?(t.apply(n,o),s=!1,i=setTimeout(arguments.callee,e)):i=null}()};return r.stop=function(){clearTimeout(i),i=null},r}})},9161:function(){
/**
 * Plugin for decoding URI-escaped strings in CP1251 encoding
 *
 * Copyright (c) 2011-2012 Roman Rozhdestvenskiy (sbmaxx@gmail.com)
 */
!function(t){var e={"%D0":"%D0%A0","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DA":"%D0%AA","%DB":"%D0%AB","%DC":"%D0%AC","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF","%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FA":"%D1%8A","%FB":"%D1%8B","%FC":"%D1%8C","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F"};function n(t,n){var i="";try{i=t(n)}catch(o){try{i=t(function(t){return t.replace(/%.{2}/g,(function(t){return e[t]||t}))}(n))}catch(s){i=n}}return i}t.extend({decodeURI:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return n(decodeURI,t)})),decodeURIComponent:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return n(decodeURIComponent,t)}))})}(jQuery)},9829:function(){!function(t){t.dom={getActiveElement:function(){try{return t(document.activeElement)}catch(e){return t()}}},t.fn.isFocused=function(){return this.is(t.dom.getActiveElement())}}(jQuery)},7731:function(){!function(t){var e=0,n="__"+Number(new Date),i=function(){return"uniq"+ ++e};t.identify=function(t,e){if(!t)return i();var o="uniqueID"in t?"uniqueID":n;return e||o in t?t[o]:t[o]=i()}}(jQuery)},2768:function(){
/**
 * @module inherit
 * @version 2.2.3
 * @author Filatov Dmitry <dfilatov@yandex-team.ru>
 * @description This module provides some syntax sugar for "class" declarations, constructors, mixins,
 *              "super" calls and static members.
 * License: https://github.com/dfilatov/inherit/blob/2.2.3/LICENSE.md
 */
!function(t){var e=function(){return"_"}.toString().indexOf("_")>-1,n=function(){},i=Object.create||function(t){var e=function(){};return e.prototype=t,new e},o=Object.keys,s=t.extend,r=Array.isArray,a=t.isFunction,c=!0,l={toString:""};for(var u in l)l.hasOwnProperty(u)&&(c=!1);var h=c?["toString","valueOf"]:null;function d(n,i,s){for(var r,l,u=function(t){var e=o(t);if(c)for(var n,i=0;n=h[i++];)t.hasOwnProperty(n)&&e.push(n);return e}(s),d=0,f=u.length;d<f;)"__self"!==(r=u[d++])&&(l=s[r],a(l)&&(!e||l.toString().indexOf(".__base")>-1)?i[r]=function(e,o){var s=function r(){var t=this.__base;this.__base=r.__base;var e=o.apply(this,arguments);return this.__base=t,e};return s.__base=n[e]||("__constructor"===e?i.__self.__parent:t.noop),s}(r,l):i[r]=l)}function f(e,n){for(var i,o=1;i=e[o++];)n?a(i)?t.inheritSelf(n,i.prototype,i):t.inheritSelf(n,i):n=a(i)?t.inherit(e[0],i.prototype,i):t.inherit(e[0],i);return n||e[0]}t.inherit=function(){var t=arguments,e=r(t[0]),o=e||a(t[0]),c=o?e?f(t[0]):t[0]:n,l=t[o?1:0]||{},u=t[o?2:1],h=l.__constructor||o&&c.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:o?function(){return c.apply(this,arguments)}:function(){};if(!o)return h.prototype=l,h.prototype.__self=h.prototype.constructor=h,s(h,u);s(h,c),h.__parent=c;var p=c.prototype,m=h.prototype=i(p);return m.__self=m.constructor=h,l&&d(p,m,l),u&&d(c,h,u),h},t.inheritSelf=function(){var t=arguments,e=r(t[0]),n=e?f(t[0],t[0][0]):t[0],i=t[1],o=t[2],s=n.prototype;return i&&d(s,s,i),o&&d(n,n,o),n},t.inherit.self=t.inheritSelf}(jQuery)},3011:function(){
/**
 * Observable plugin
 *
 * Copyright (c) 2010 Filatov Dmitry (alpha@zforms.ru)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * @version 1.0.0
 * @requires $.identify
 * @requires $.inherit
 */
!function(t){var e="__"+Number(new Date)+"storage",n=function(e,n){return t.identify(e)+(n?t.identify(n):"")},i={buildEventName:function(t){return t},on:function(i,o,s,r,a){if("string"==typeof i){t.isFunction(o)&&(r=s,s=o,o=undefined);for(var c,l=n(s,r),u=this[e]||(this[e]={}),h=i.split(" "),d=0;i=h[d++];)if(!(l in(c=u[i=this.buildEventName(i)]||(u[i]={ids:{},list:{}})).ids)){var f=c.list,p={fn:s,data:o,ctx:r,special:a};f.last?(f.last.next=p,p.prev=f.last):f.first=p,c.ids[l]=f.last=p}}else{var m=this;t.each(i,(function(t,e){m.on(t,e,o,a)}))}return this},onFirst:function(t,e,n,i){return this.on(t,e,n,i,{one:!0})},un:function(i,o,s){if("string"==typeof i||void 0===i){var r=this[e];if(r)if(i){for(var a,c=i.split(" "),l=0;i=c[l++];)if(a=r[i=this.buildEventName(i)])if(o){var u=n(o,s),h=a.ids;if(u in h){var d=a.list,f=h[u],p=f.prev,m=f.next;p?p.next=m:f===d.first&&(d.first=m),m?m.prev=p:f===d.last&&(d.last=p),delete h[u]}}else delete this[e][i]}else delete this[e]}else{var _=this;s=o,t.each(i,(function(t,e){_.un(t,e,s)}))}return this},trigger:function(n,i){var o=this[e],s="string"==typeof n,r=s?n:n.type,a=this.buildEventName(r);if(s||(n.type=a,n.target||(n.target=this)),o&&(o=o[a])){var c,l=o.list.first;for(l&&s&&((n=t.Event(a)).target=this);l;)n.data=l.data,void 0!==(c=l.fn.call(l.ctx||this,n,i))&&(n.result=c,!1===c&&(n.preventDefault(),n.stopPropagation())),l.special&&l.special.one&&this.un(r,l.fn,l.ctx),l=l.next}return this}};t.observable=t.inherit(i,i)}(jQuery)},9387:function(){!function(t){var e=t(window),n=o(),i=s();function o(){return window.innerHeight|0+e.outerHeight()}function s(){return window.innerWidth|0+e.outerWidth()}(t.event.special.resize||(t.event.special.resize={})).preDispatch=function(t){var e=o(),r=s();if(i===r&&n===e)return!1;n=e,i=r}}(jQuery)},8448:function(){
/*!
 * jQuery-ajaxTransport-XDomainRequest - v1.0.4 - 2015-03-05
 * https://github.com/MoonScript/jQuery-ajaxTransport-XDomainRequest
 * Copyright (c) 2015 Jason Moon (@JSONMOON)
 * Licensed MIT
 */
!function(t){if(!t.support.cors&&t.ajaxTransport&&window.XDomainRequest){var e=/^(https?:)?\/\//i,n=/^get|post$/i,i=new RegExp("^(//|"+location.protocol+")","i");t.ajaxTransport("* text html json",(function(o,s,r){if(o.crossDomain&&o.async&&n.test(o.type)&&e.test(o.url)&&i.test(o.url)){var a=null;return{send:function(e,n){var i="",r=(s.dataType||"").toLowerCase();a=new XDomainRequest,/^\d+$/.test(s.timeout)&&(a.timeout=s.timeout),a.ontimeout=function(){n(500,"timeout")},a.onload=function(){var e="Content-Length: "+a.responseText.length+"\r\nContent-Type: "+a.contentType,i={code:200,message:"success"},o={text:a.responseText};try{if("html"===r||/text\/html/i.test(a.contentType))o.html=a.responseText;else if("json"===r||"text"!==r&&/\/json/i.test(a.contentType))try{o.json=t.parseJSON(a.responseText)}catch(s){i.code=500,i.message="parseerror"}}catch(c){throw c}finally{n(i.code,i.message,o,e)}},a.onprogress=function(){},a.onerror=function(){n(500,"error",{text:a.responseText})},s.data&&(i="string"===t.type(s.data)?s.data:t.param(s.data)),a.open(o.type,o.url),a.send(i)},abort:function(){a&&a.abort()}}}}))}}(jQuery)},9339:function(){BEM.DOM.decl("i-menu",{onElemSetMod:{item:{state:{current:function(t,e,n,i){if("disabled"===i)return!1;var o=this.elem("item","state","current");this.delMod(o,"state").trigger("current",{prev:o,current:t})}}}},onItemSelectorClick:function(t){var e=this._getItemByEvent(t);this.setMod(e,"state","current")},_getItemByEvent:function(t){return t.data.domElem.closest(this.buildSelector("item"))}},{live:function(){this.liveBindTo("item-selector","pointerclick",(function(t){this.onItemSelectorClick(t)}))}})},500:function(){BEM.DOM.decl("i-ua",{},{placeholder:"placeholder"in document.createElement("input")})},4494:function(){!function(t,e){var n={};/msie|trident/i.test(e)?n.ie=parseInt(e.split(/msie|rv:/i)[1],10):-1!==e.indexOf("Opera")&&(n.opera=parseInt(e.split(/Version\//i)[1],10));var i,o={},s={};(i=e.match(/Windows\sPhone[^\d]*\s([\d.]+)/))?o.wp=i[1]:(i=e.match(/Android\s+([\d.]+)/))?o.android=i[1]:e.match(/\sHTC[\s_].*AppleWebKit/)?o.android="2.3":(i=e.match(/iPhone\sOS\s([\d_]+)/))?(o.ios=i[1].replace(/_/g,"."),s.iphone=!0):(i=e.match(/iPad.*OS\s([\d_]+)/))?(o.ios=i[1].replace(/_/g,"."),s.ipad=!0):(i=e.match(/Bada\/([\d.]+)/))?o.bada=i[1]:(i=e.match(/MSIE\s9/))?o.wp="7.5":o.other=!0,BEM.DOM.decl("i-ua",{onSetMod:{js:{inited:function(){var t=this.__self,e="other";["ios","android","bada","wp","opera"].some((function(n){return t[n]&&(e=n)})),this.setMod("platform",e)}}},setVersion:function(){var t=this.parseVersion();t&&(this.setMod(t.platform,t.major),this.setMod(t.platform+"-subversion",t.subversion))},parseVersion:function(){if(this.__self.ios||this.__self.android){var t=(this.__self.ios||this.__self.android).split("."),e=t.shift(),n=t.join("-");return{platform:this.getMod("platform"),major:e,subversion:n}}}},{ios:o.ios,iphone:s.iphone,ipad:s.ipad,android:o.android,bada:o.bada,wp:o.wp,other:o.other,ua:e,ie:n.ie,opera:n.opera})}(window,navigator.userAgent)},9715:function(){BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.on("change",this._updateClear)._updateClear()}}},_onClearClick:function(){return this.trigger("clear"),this.removeInsets&&this.removeInsets(),this.clearInput({source:"clear"})._focus()},clearInput:function(t){return this.val("",t),this},_updateClear:function(){return this.toggleMod(this.elem("clear"),"visibility","visible",Boolean(this._val))}},{live:function(){return this.liveBindTo("clear","pointerpress",(function(t){this.setMod(this.elem("clear"),"pressed","yes")})).liveBindTo("clear","pointerover",(function(t){this.setMod(this.elem("clear"),"hovered","yes")})).liveBindTo("clear","pointerout",(function(t){this.delMod(this.elem("clear"),"hovered")})).liveBindTo("clear","pointerclick",(function(){this.delMod(this.elem("clear"),"pressed"),this._onClearClick()})).liveBindTo("control","paste",(function(){this.setMod(this.elem("clear"),"visibility","visible")})),this.__base()}})},9609:function(){BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),(this._hasHint=Boolean(this.elem("hint")[0]))&&this.on("change",this._updateHint)._updateHint()}},focused:function(){if(!1===this.__base.apply(this,arguments))return!1;this._hasHint&&this._updateHint()}},_updateHint:function(){this.toggleMod(this.elem("hint"),"visibility","visible",!this.val())}})},7472:function(){BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this._val=this.elem("control").val()}},disabled:{"*":function(t,e){this.elem("control").prop("disabled",e)},yes:function(){this.delMod("focused")}},focused:function(t,e){if(this.hasMod("disabled"))return!1;e?this._focused||this._focus():this._focused&&this._blur(),this.afterCurrentEvent((function(){this.domElem&&this.trigger(e?"focus":"blur")}))}},isDisabled:function(){return this.hasMod("disabled","yes")},val:function(t,e){var n=void 0!==t,i=this.elem("control");return t=n?null===t?"":t.toString():i.val(),this._val!==t&&(this._val=t,i.val()!==t&&i.val(t),this.trigger("change",e)),n?this:t},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},getSelectionEnd:function(){var t=this.elem("control")[0],e=0;if("number"==typeof t.selectionEnd)e=t.selectionEnd;else{var n=document.selection.createRange();if(n&&n.parentElement()===t){var i=t.value.length,o=t.createTextRange();o.moveToBookmark(n.getBookmark());var s=t.createTextRange();s.collapse(!1),e=o.compareEndPoints("EndToEnd",s)>-1?i:-o.moveEnd("character",-i)}}return e},_onFocus:function(){if(parseInt(BEM.blocks["i-ua"].ios,10)>=8&&!this.hasMod("type","textarea")){var t=this.elem("control")[0];t.selectionStart===t.value.length&&(t.scrollLeft=t.scrollWidth)}return this._focused=!0,this.setMod("focused","yes")},_onBlur:function(){return this._returnFocus?(this.afterCurrentEvent((function(){this.domElem&&this._focus()})),this):this.hasMod(this.elem("clear"),"pressed")?this:(this._focused=!1,this.delMod("focused"))},_focus:function(){if(this.hasMod("disabled","yes"))return!1;this.elem("control").focus()},_blur:function(){this._returnFocus=!1,this.elem("control").blur()},_updateVal:function(){this.val(this.elem("control").val())},destruct:function(){this._blur(),this.__base.apply(this,arguments)}},{live:function(){this.liveBindTo("control","focusin focusout",(function(t){this["focusin"===t.type?"_onFocus":"_onBlur"](t)})),this.liveBindTo("control","input",(function(){this._updateVal()})),9===document.documentMode&&(this.liveBindTo("control","focusin",(function(){this.bindToDoc("selectionchange",this._updateVal)})),this.liveBindTo("control","focusout",(function(){this.unbindFromDoc("selectionchange")})))}})},1643:function(){BEM.decl("keycodes",{},{BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,is:function(t,e){return(Array.isArray(e)?e:Array.prototype.slice.call(arguments,1)).some((function(e){return this[e]===t}),this)}})},8784:function(){BEM.DOM.decl({block:"modal",modName:"autoclosable",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._preventHideByClick=!1}},visible:{yes:function(){this.__base.apply(this,arguments),this.bindTo("content","pointerdown pointerclick",this._setPreventHideByClick).bindTo("pointerclick",this._onPointerClick)._popup.on("beforeClose",this._onPopupClose,this)},"":function(){this.__base.apply(this,arguments),this.unbindFrom("content","pointerdown pointerclick").unbindFrom("pointerclick")._popup.un("beforeClose",this._onPopupClose,this)}}},_setPreventHideByClick:function(t){this._preventHideByClick=!0},_onPointerClick:function(t){this._preventHideByClick||this.delMod("visible"),this._preventHideByClick=!1},_onPopupClose:function(){this.delMod("visible")}})},2845:function(){BEM.DOM.decl("modal",{onSetMod:{js:{inited:function(){this._popup=this.findBlockOn("popup2")}},visible:function(t,e){var n=e?"Open":"Close",i=this.elem("content"),o=window.getComputedStyle?window.getComputedStyle(i[0]):i[0].currentStyle,s=parseFloat(o.animationDuration)>0?"animationend":parseFloat(o.webkitAnimationDuration)>0?"webkitAnimationEnd":"",r=function(){this.trigger("after"+n)};this.trigger("before"+n)._popup.setMod(t,e),s?i.one(s,r.bind(this)):this.afterCurrentEvent(r)}},destruct:function(){this.delMod("visible").__base.apply(this,arguments)},setContent:function(t){return BEM.DOM.update(this.elem("content"),t),this}},{live:!0})},1994:function(){!function(t,e){if(!e.event.special.pointerclick){var n,i=t.ontouchstart!==undefined||navigator.msMaxTouchPoints>0,o="touchAction"in document.documentElement.style,s=[],r=[],a=null,c=null,l=o?function(t){return function e(t){return!(!t||t===document.documentElement)&&("manipulation"===getComputedStyle(t)["touch-action"]||e(t.parentElement))}(t)}:function(){return!1};i?(n={click:function(t){var e=Object(t.originalEvent)._sourcePoint;if(!e)return d.apply(this,arguments);e.isDefaultPrevented()&&t.preventDefault()},"pointerdown pointermove pointerleave pointercancel pointerup":function(t){var e=t.type;if("mouse"!==t.pointerType&&("pointerdown"!==e&&"pointerup"!==e||!l(t.target)))if("pointerdown"===e)c=t;else if("pointermove"===e&&c&&(c.target!==t.target||h(c,t)))c=null;else if("pointerleave"===e||"pointercancel"===e)c=null;else if("pointerup"===e){if(u(t),!c)return;if(!(t.timeStamp-c.timeStamp>250))return a||(a=setTimeout((function(){a=c=null}))),d.apply(this,arguments);c=null}}},["mousedown","click"].forEach((function(e){t.addEventListener(e,(function(t){!function(t){var e=t.clientX,n=t.clientY,i="_compat"+t.type;if(!t._sourcePoint){for(var o=0;o<s.length;o++){var a=s[o],c=a.target===t.target;if(!a[i]&&(c||!(Math.abs(e-a.clientX)>25||Math.abs(n-a.clientY)>25))&&(c||document.elementFromPoint(a.clientX,a.clientY)!==a.target)){t._sourcePoint=a,a[i]=t;break}}r.push(t),setTimeout(Array.prototype.shift.bind(r),900)}}(t),function(t){var e=function(t){for(var e=0;e<r.length;e++)if(r[e]===t)return r[e]._sourcePoint}(t);return Boolean(e)&&e.target!==t.target}(t)&&(t.preventDefault(),t.stopPropagation())}),!0)}))):n={click:function(t){return d.apply(this,arguments)}},e.event.special.pointerclick={setup:function(){e(this).on(n)},teardown:function(){e(this).off(n)}}}function u(t){t.isPrimary&&(s.push(t),setTimeout(Array.prototype.shift.bind(s),900))}function h(t,e){return Math.abs(t.clientX-e.clientX)>10||Math.abs(t.clientY-e.clientY)>10}function d(t){var n,i=t.type;return t.button||(t.type="pointerclick",n=e.event.dispatch.apply(this,arguments),t.type=i),n}}(window,jQuery)},3436:function(){!function(t){t.event.special.pointerpress||t.each({pointerpress:"pointerdown",pointerrelease:"pointerup pointercancel"},(function(e,n){function i(n){var i,o=n.type;return"mouse"===n.pointerType&&1!==n.which||(n.type=e,i=t.event.dispatch.apply(this,arguments),n.type=o),i}t.event.special[e]={setup:function(){t(this).on(n,i)},teardown:function(){t(this).off(n,i)}}}))}(jQuery)},9700:function(){!function(t,e,n){var i={bubbles:!1,cancelable:!1,view:null,detail:null,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null,buttons:0,pointerId:0,width:0,height:0,pressure:0,tiltX:0,tiltY:0,pointerType:"",hwTimestamp:0,isPrimary:!1,target:null,currentTarget:null,which:0,pageX:0,pageY:0,timeStamp:0},o=Object.keys(i),s=o.map((function(t){return i[t]})),r=o.length,a=!1,c=[0,1,4,2];try{a=1===new MouseEvent("test",{buttons:1}).buttons}catch(v){}function l(t,e){var n={},i=t.originalEvent||{};e||(e={});for(var l,u=0;u<r;u++)n[l=o[u]]=e[l]||t[l]||i[l]||s[u];return n.x=n.clientX,n.y=n.clientY,n.pressure=n.pressure||(n.buttons?.5:0),n.buttons||a||(n.buttons=c[n.which]||0),n.originalEvent=t.originalEvent||null,e.preventDefault?n.preventDefault=function(){e.preventDefault(),t.preventDefault()}:(n.preventDefault=function(){t.preventDefault()},n._preventScroll=function(){}),n}var u=t.Map&&t.Map.prototype.forEach?new t.Map:{array:[],size:0,set:function(t,e){if(e===undefined)return this["delete"](t);this.has(t)||this.size++,this.array[t]=e},has:function(t){return this.array[t]!==undefined},"delete":function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach((function(n,i){t.call(e,n,i,this)}),this)}},h={eventMap:{},captureInfo:{},eventSourceList:[],registerSource:function(t,e){var n=e.events;n&&(n.forEach((function(t){e[t]&&(this.eventMap[t]=e[t].bind(e))}),this),this.eventSourceList.push(e))},register:function(t){for(var e,n=this.eventSourceList.length,i=0;i<n&&(e=this.eventSourceList[i]);i++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,i=0;i<n&&(e=this.eventSourceList[i]);i++)e.unregister.call(e,t)},contains:function(t,e){return!!t.contains&&t.contains(e)},getCommonAncestor:function(t,n){for(;t&&t!==e.documentElement;){if(t.contains&&t.contains(n))return t;t=t.parentNode}return null},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){var e=[],n=t.target,i=this.getCommonAncestor(n,t.relatedTarget);for(t.bubbles=!1;n&&n!==i;)e.push(n),n=n.parentNode;for(;e.length;)t.target=e.pop(),this.fireEvent("pointerenter",t)},leave:function(t){var e=[],n=t.target,i=this.getCommonAncestor(n,t.relatedTarget);for(t.bubbles=!1;n&&n!==i;)e.push(n),n=n.parentNode;for(;e.length;)t.target=e.shift(),this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.contains(t.target,t.relatedTarget)||this.leave(t)},enterOver:function(t){this.over(t),this.contains(t.target,t.relatedTarget)||this.enter(t)},listen:function(t,e){e.forEach((function(e){this.addEvent(t,e)}),this)},unlisten:function(t,e){e.forEach((function(e){this.removeEvent(t,e)}),this)},addEvent:function(t,e){n(t).on(e,this.boundHandler)},removeEvent:function(t,e){n(t).off(e,this.boundHandler)},eventHandler:function(t){var e=this.eventMap[t.type];e&&e(t,t.originalEvent)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var i=function(t,e){var i=n.Event(t),o=e.preventDefault,s=i.preventDefault.bind(i);return jQuery.extend(i,e),i.preventDefault=function(){o(),s()},i}(t,e);return i._target=i._target||e.target,i},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},getTarget:function(t){return this.captureInfo[t.pointerId]||t._target},setCapture:function(t,i){this.captureInfo[t]&&this.releaseCapture(t),this.captureInfo[t]=i,this.implicitRelease=this.releaseCapture.bind(this,t),n(e).on("pointerup pointercancel",this.implicitRelease),this.asyncDispatchEvent(n.Event("gotpointercapture",{bubbles:!0,cancelable:!1,pointerId:t,_target:i}))},releaseCapture:function(t){var i=this.captureInfo[t];i&&(this.captureInfo[t]=undefined,n(e).off("pointerup pointercancel",this.implicitRelease),this.asyncDispatchEvent(n.Event("lostpointercapture",{bubbles:!0,cancelable:!1,pointerId:t,_target:i})))},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return n.event.trigger(t,null,e,!t.bubbles)},asyncDispatchEvent:function(e){(t.requestAnimationFrame||setTimeout)(this.dispatchEvent.bind(this,e))}};h.boundHandler=h.eventHandler.bind(h);var d,f,p={POINTER_ID:1,POINTER_TYPE:"mouse",DEDUP_DIST:25,events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(t){h.listen(t,this.events)},unregister:function(t){h.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,i=t.clientX,o=t.clientY,s=0,r=n.length;s<r&&(e=n[s]);s++){var a=Math.abs(i-e.x),c=Math.abs(o-e.y);if(a<=this.DEDUP_DIST&&c<=this.DEDUP_DIST)return!0}},prepareEvent:function(t){return l(t,{pointerId:this.POINTER_ID,isPrimary:!0,pointerType:this.POINTER_TYPE})},mousedown:function(t){this.isEventSimulatedFromTouch(t)||(u.has(this.POINTER_ID)&&this.cancel(t),u.set(this.POINTER_ID,t),h.down(this.prepareEvent(t)))},mousemove:function(t){this.isEventSimulatedFromTouch(t)||h.move(this.prepareEvent(t))},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=u.get(this.POINTER_ID);e&&e.button===t.button&&(h.up(this.prepareEvent(t)),this.cleanupMouse())}},mouseover:function(t){this.isEventSimulatedFromTouch(t)||h.enterOver(this.prepareEvent(t))},mouseout:function(t){this.isEventSimulatedFromTouch(t)||h.leaveOut(this.prepareEvent(t))},cancel:function(t){h.cancel(this.prepareEvent(t)),this.cleanupMouse()},cleanupMouse:function(){u["delete"](this.POINTER_ID)}},m={POINTER_TYPE:"touch",DEDUP_TIMEOUT:2500,CLICK_COUNT_TIMEOUT:200,events:["touchstart","touchmove","touchend","touchcancel"],register:function(t){h.listen(t,this.events)},unregister:function(t){h.unlisten(t,this.events)},firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===u.size||1===u.size&&u.has(1))&&(this.firstTouch=t.identifier,this.firstTouchTarget=t.target,this.scrolling=!1,this.firstXY={X:t.clientX,Y:t.clientY},this.cancelResetClickCount())},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstTouchTarget=null,this.firstXY=null,this.shouldScrollCache=undefined,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var t=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(t,this.CLICK_COUNT_TIMEOUT)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(t){return"touchstart"===t||"touchmove"===t?1:0},findTarget:function(t){return e.elementFromPoint(t.clientX,t.clientY)},touchToPointer:function(t){var e=this,i=this.currentTouchEvent,o=t.identifier+2;return l(i,n.extend({},t,{pointerId:o,target:h.captureInfo[o]||this.findTarget(t),bubbles:!0,cancelable:!0,detail:this.clickCount,button:0,buttons:this.typeToButtons(i.type),width:t.webkitRadiusX||t.radiusX||0,height:t.webkitRadiusY||t.radiusY||0,pressure:t.webkitForce||t.force||.5,isPrimary:this.isPrimaryTouch(t),pointerType:this.POINTER_TYPE,preventDefault:function(){e.scrolling=!1,e.shouldScrollCache=!1,e.firstXY=null}}))},processTouches:function(t,e){var n=t.originalEvent.changedTouches;this.currentTouchEvent=t;for(var i,o=0;o<n.length;o++)i=n[o],e.call(this,this.touchToPointer(i))},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(t){var e,n=this.scrollTypes;return t===n.EMITTER?e="none":t===n.XSCROLLER?e="X":t===n.YSCROLLER?e="Y":n.SCROLLER.exec(t)&&(e="XY"),e},shouldScroll:function(t){if(this.shouldScrollCache!==undefined)return this.shouldScrollCache;if(!this.firstXY)return!0;var e,n,i=this.firstTouchTarget;do{if(null!==(e=i.getAttribute("touch-action")))break;i=i.parentNode}while(i!==document);var o=this.touchActionToScrollType(e);if("none"===o)n=!1;else if("XY"===o||o===undefined)n=!0;else{var s=t.originalEvent.changedTouches[0],r=o,a="Y"===o?"X":"Y";n=Math.abs(s["client"+r]-this.firstXY[r])>=Math.abs(s["client"+a]-this.firstXY[a])}return this.shouldScrollCache=n,this.firstXY=null,this.firstTouchTarget=null,this.shouldScrollCache},findTouch:function(t,e){for(var n,i=0,o=t.length;i<o&&(n=t[i]);i++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.originalEvent.touches;if(u.size>=e.length){var n=[];u.forEach((function(t,i){if(1!==i&&!this.findTouch(e,i-2)){var o=t.out;n.push(o)}}),this),n.forEach(this.cancelOut,this)}},touchstart:function(t){var e=t.originalEvent.changedTouches[0];this.vacuumTouches(t),this.setPrimaryTouch(e),this.dedupSynthMouse(e),this.scrolling||(this.clickCount++,this.processTouches(t,this.overDown))},overDown:function(t){u.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),h.over(t),h.enter(t),h.down(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):(t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=u.get(t.pointerId);if(e){var n=e.out,i=e.outTarget;h.move(t),n&&i!==t.target&&(n.relatedTarget=t.target,t.relatedTarget=i,n.target=i,t.target?(h.leaveOut(n),h.enterOver(t)):(t.target=i,t.relatedTarget=null,this.cancelOut(t))),e.out=t,e.outTarget=t.target}},touchend:function(t){this.dedupSynthMouse(t.originalEvent.changedTouches[0]),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(h.up(t),h.out(t),h.leave(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){h.cancel(t),h.out(t),h.leave(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){u["delete"](t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=p.lastTouches;if(this.isPrimaryTouch(t)){var n={x:t.clientX,y:t.clientY};e.push(n);var i=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,n);setTimeout(i,this.DEDUP_TIMEOUT)}}},_={POINTER_TYPES:["","unavailable","touch","pen","mouse"],HAS_BITMAP_TYPE:t.MSPointerEvent&&"number"==typeof t.MSPointerEvent.MSPOINTER_TYPE_MOUSE,events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){h.listen(t,this.events)},unregister:function(t){h.unlisten(t,this.events)},prepareEvent:function(t){var e=l(t);return this.HAS_BITMAP_TYPE&&(e.pointerType=this.POINTER_TYPES[e.pointerType]),e},cleanup:function(t){u["delete"](t)},MSPointerDown:function(t){u.set(t.originalEvent.pointerId,t),h.down(this.prepareEvent(t))},MSPointerMove:function(t){h.move(this.prepareEvent(t))},MSPointerUp:function(t){h.up(this.prepareEvent(t)),this.cleanup(t.originalEvent.pointerId)},MSPointerOut:function(t){h.leaveOut(this.prepareEvent(t))},MSPointerOver:function(t){h.enterOver(this.prepareEvent(t))},MSPointerCancel:function(t){h.cancel(this.prepareEvent(t)),this.cleanup(t.originalEvent.pointerId)},MSGotPointerCapture:function(t){h.fireEvent("gotpointercapture",this.prepareEvent(t))},MSLostPointerCapture:function(t){h.fireEvent("lostpointercapture",this.prepareEvent(t))}},g=function(t){if(!u.has(t))throw new Error("InvalidPointerId")};t.Element&&Element.prototype.setPointerCapture?(d=function(t,e){t.setPointerCapture(e)},f=function(t,e){t.releasePointerCapture(e)}):t.navigator.msPointerEnabled?(d=function(t,e){g(e),t.msSetPointerCapture(e)},f=function(t,e){g(e),t.msReleasePointerCapture(e)}):(d=function(t,e){g(e),h.setCapture(e,t)},f=function(t,e){g(e),h.releaseCapture(e,t)}),n.fn.extend({setPointerCapture:function(t){d(this[0],t)},releasePointerCapture:function(t){f(this[0],t)}}),t._pointerPolyfillInited||(t._pointerPolyfillInited=!0,t.PointerEvent?["move","down","up","over","out","enter","leave","cancel"].forEach((function(t){var e=jQuery.event.fixHooks,n="pointer"+t;e[n]||(e[n]={}),e[n].props=o.concat(e[n].props||[])})):(delete n.event.special.pointerenter,delete n.event.special.pointerleave,t.navigator.msPointerEnabled?h.registerSource("ms",_):(h.registerSource("mouse",p),t.ontouchstart!==undefined&&h.registerSource("touch",m)),h.register(document)))}(window,document,jQuery)},6307:function(){!function(){var t=$(window),e=$(document.documentElement),n=0,i=!1;function o(){e.hasClass("pointerfocus")&&(i=!0,setTimeout((function(){i=!1})))}document.documentMode<=11?e.on("focusin",(function(t){var e=t.originalEvent;!e||e.fromElement||e.relatedTarget||o()})):t.on("blur",(function(){t.one("focus",o)})),e.addClass("utilityfocus").on({focusin:function(){e.toggleClass("pointerfocus",i).toggleClass("utilityfocus",!i)},keydown:function(){clearTimeout(n),i=!1},"pointerdown pointerup click":function(t){i=!0,clearTimeout(n),n=setTimeout((function(){i=!1}),600)}})}()},9085:function(){var t;t=Array.prototype.slice,Function.prototype.bind||(Function.prototype.bind=function(e){var n=this,i=t.call(arguments,1);return function(){return n.apply(e,i.concat(t.call(arguments)))}})},9517:function(){BEM.DOM.decl("popup",{onSetMod:{js:{inited:function(){this.__base(),this._tailPos={}}}},_calcTailPos:function(t){var e=t.to,n=this._positions[t.key],i=t.tail.axis,o={};return"top"===e||"bottom"===e?o.left=this._calcTailLeft(i,n):"left"!==e&&"right"!==e||(o.top=this._calcTailTop(i,n)),o},_calcTailTop:function(t,e){var n=0,i=this.getOwnerSize(),o=this.getOwnerPos(),s=this.params.tail.width,r=this.getPopupSize(),a=r.height,c=o.top-e.top,l=e.top+r.height-(o.top+i.height);return c>0&&(n+=c,a-=c),l>0&&(a-=l),"middle"===t?n+=(a-=s)/2:"bottom"===t&&(n+=a-=s),n<0&&(n=0),n},_calcTailLeft:function(t,e){var n=0,i=this.getOwnerSize(),o=this.getOwnerPos(),s=this.params.tail.width,r=this.getPopupSize(),a=o.left-e.left,c=r.width,l=e.left+r.width-(o.left+i.width);return a>0&&(n+=a,c-=a),l>0&&(c-=l),"center"===t?n+=(c-=s)/2:"right"===t&&(n+=c-=s),n},_calcOffsetByTail:function(t){var e=this.params.tail.height,n={};switch(t.to){case"top":n={top:-e};break;case"bottom":n={top:e};break;case"right":n={left:e};break;case"left":n={left:-e}}return n},_calcTailOffset:function(t){var e={},n=t.to,i=t.tail,o=i.offset,s=i.axis;return!!o&&("top"===n||"bottom"===n?(e.left=0,"left"===s?e.left+=o.left:"center"===s?(o.left&&(e.left+=o.left),o.right&&(e.left-=o.right)):"right"===s&&(e.left-=o.right)):"left"!==n&&"right"!==n||(e.top=0,"top"===s?e.top+=o.top:"middle"===s?(o.top&&(e.top+=o.top),o.bottom&&(e.top-=o.bottom)):"bottom"===s&&(e.top-=o.bottom)),e)},_resetTailPos:function(t){return t?this._tailPos[t]=null:this._tailPos={},this},_pushTailPos:function(t,e){return this._pushPosTo(this._tailPos,t,e),this}})},8097:function(){BEM.DOM.decl("popup",{onSetMod:{js:{inited:function(){this.__base.call(this);var t=this.findElem("under").first();this._underClassAttr=t.attr("class"),this.isDivEnough()?this._under=t:(t.remove(),this._under=null),this._underInPool=!1}}},isDivEnough:function(){return!0},_createUnder:function(){return $('<iframe frameBorder="0" tabindex="-1" src="about:blank"/>')},_getUnder:function(){if(this._under)return this._under;var t=this.__self._underPool.pop();return t&&(this._underInPool=!1),this._under=t,t||this._createUnder()},_attachUnder:function(){var t=this._under=this._getUnder();t.attr("class",this._underClassAttr),this.hasMod(t,"type","paranja")?t.detach().insertBefore(this.domElem).css("z-index",this._zIndex):t.prependTo(this.domElem)},_detachUnder:function(){var t=this._under;t.removeAttr("style"),this.__self._underPool.push(t.detach()),this._under=null,this._underInPool=!0},destruct:function(){var t=this.__base.apply(this,arguments);return this._underInPool&&this.__self._underPool.pop(),this._under&&this._under.remove(),t}},{_underPool:[]})},8818:function(){BEM.DOM.decl({block:"popup",modName:"adaptive",modVal:"yes"},{onSetMod:{adaptive:{yes:function(){this._enableAdaptive()},no:function(){this._disableAdaptive()}},"watch-scroll":{yes:function(){this._watchScroll()},no:function(){this._unwatchScroll()}}},_enableAdaptive:function(){this.afterCurrentEvent((function(){this.domElem&&this.bindToWin("resize",this.onResize)})),this._watchScroll()},_disableAdaptive:function(){this.unbindFromWin("resize")._unwatchScroll()},getScrollEvents:function(){return["scroll"]},_watchScroll:function(){this._owner&&!this.hasMod("watch-scroll","no")&&this.bindTo(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "),this.onScroll,this)},_unwatchScroll:function(){this._owner&&this.unbindFromDomElem(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "))},onResize:function(t){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},onScroll:function(t){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},destruct:function(){this._disableAdaptive(),this.__base.apply(this,arguments)}})},8375:function(){BEM.DOM.decl({block:"popup",modName:"animate",modVal:"yes"},{afterShow:function(){var t=this.getCurrDirection();if(t){var e=t.to,n=this.getCurrPos(),i={opacity:1,top:n.top,left:n.left},o={opacity:0,top:n.top,left:n.left};"bottom"===e?o.top+=10:"top"===e?o.top-=10:"left"===e?o.left-=10:"right"===e&&(o.left+=10),this.domElem.stop(!0).css(o).animate(i,this.params.duration)}},beforeHide:function(t){var e=this.getCurrDirection();if(!e)return t();var n=e.to,i=this.getCurrPos(),o=this.domElem,s={top:i.top,left:i.left,opacity:0};return"bottom"===n?s.top+=10:"top"===n?s.top-=10:"left"===n?s.left-=10:"right"===n&&(s.left+=10),o.stop(!0,!0).animate(s,this.params.duration,(function(){t(),o.css("opacity","")}))}})},5601:function(){BEM.DOM.decl("popup",{onSetMod:{autoclosable:{yes:function(){this._enableAutoclosable()},"":function(){this._disableAutoclosable()}}},_enableAutoclosable:function(){if(this.domElem){var t=this._under;this.hasMod(t,"type","paranja")&&(t.is("iframe")&&(t=$([t[0].contentWindow,t[0].contentWindow.document])),this.bindTo(t,"pointerclick",(function(t){t.stopPropagation(),this.hide({source:"outside-click"})})),this.bindTo(t,"pointerdown",(function(){this._skipReturnFocus=!0}))),this.bindTo("pointerdown pointerclick",(function(){var t=this;do{t._preventHideByClick=!0,t=t._getParentPopup()}while(t)})),this.bindToDoc("pointerclick",(function(t){if(this._preventHideByClick)this._preventHideByClick=null;else if(!this._isRelatedNode($(t.target))){var e=$.Event("outside-click");this.trigger(e,t),e.isDefaultPrevented()||this.hide({source:"outside-click"})}})),this.bindToDoc("pointerdown",(function(){this._skipReturnFocus=!0}))}},_disableAutoclosable:function(){var t=this._under;this.hasMod(t,"type","paranja")&&(t.is("iframe")&&(t=$([t[0].contentWindow,t[0].contentWindow.document])),this.unbindFrom(t,"pointerclick pointerdown")),this.unbindFromDoc("pointerclick pointerdown")},_isRelatedNode:function(t){var e=this.containsDomElem(t);if(e||(e=Boolean(this._owner)&&this.containsDomElem.call({domElem:this._owner},t)),e)return!0;var n,i=this._childs.length;for(n=0;n<i;n++)if(this.containsDomElem.call({domElem:this._childs[n].domElem},t))return!0;return!1}})},2094:function(){BEM.DOM.decl({block:"popup",modName:"type",modVal:"modal"},{getDefaultParams:function(){var t=this.__base();return t.top="50%",t.left="50%",t},_isPercentVal:function(t){return"string"==typeof t&&t.indexOf("%")>0},show:function(t){return this._moveToContainer(),this.setMod("visibility","outside").setMod("adaptive","no"),this.repaint(t),this},repaint:function(t){this._moveToContainer(),t||(t={left:this.params.left,top:this.params.top});var e=this.getPopupSize();return this._isPercentVal(t.left)&&!t.marginLeft&&(t.marginLeft=e.width/(-100/parseInt(t.left,10))),this._isPercentVal(t.top)&&!t.marginTop&&(t.marginTop=e.height/(-100/parseInt(t.top,10))),this._show(t),this}})},8589:function(){BEM.DOM.decl("popup",{getDefaultParams:function(){return{zIndexGroupLevel:0,directions:[{to:"bottom",axis:"center",tail:{axis:"center"}},{to:"top",axis:"center",tail:{axis:"center"}},{to:"right",axis:"middle",tail:{axis:"middle"}},{to:"left",axis:"middle",tail:{axis:"middle"}}],tail:{width:24.04,height:12.02,offset:{left:15,right:15,top:15,bottom:15}},duration:150}},onSetMod:{js:{inited:function(){this._cache={},this._viewport=BEM.DOM.win,this._scope=BEM.DOM.scope,this._channel=BEM.channel("popups"),this._inContainer=!1,this._isParentFixed=!1,this._owner=null,this._destructor=null,this._userPosition=null,this._parent=null,this._childs=[],this._isShown=!1,this._isHiding=!1,this._positions={},this._currPos={},this._visibilityFactor=null,this._direction=!1,this._directions={};var t=this.getDefaultParams(),e=this.params,n=this._repackDirParams(t.directions),i=e.generateDirections?this._generateDirections:e.directions,o=this._repackDirParams(i);e.tail&&(this.params.tail=this._mergeParams(t.tail,e.tail)),this._order=o.keys.map((function(t){var e=o.directions[t],i=n.directions[t];return i||(i=n.directions[e.to]),this._directions[t]=this._mergeParams(i,e,{tail:this._tailParamsHook}),t}),this),this._zIndex=null,this._zIndexGroupLevel=null}},visibility:{visible:function(){this._onShown()},"":function(){this._onHidden()}}},show:function(t){var e;if(t instanceof BEM)e=t.domElem.eq(0);else if(t instanceof $)e=t;else if(!t)return;if(e){if(this._owner&&e[0]!==this._owner[0]&&this.delMod("visibility"),this._owner=e,e.length){var n="_"+this.__self.getName()+"-destructor";this._destructor=e.addClass("i-bem "+n).bem(n)}var i=this._findParent(e);i&&this.setParent(i)}else this._userPosition=t;return this.setMod("visibility","outside").repaint()},hide:function(t){if(this._isHiding)return this;if(this._isShown){var e=$.Event("before-hide");if(this.trigger(e,t),e.isDefaultPrevented())return this;if(this._isHiding=!0,this._childs.forEach((function(t){t.hide&&t.hide(),t.delMod("visible")})),this.hasMod("animate","yes")&&!this.hasMod("fade-out","no")){var n=this;return this.beforeHide((function(){n.domElem&&n.delMod("visibility")})),this}}return this.delMod("visibility")},toggle:function(t,e){return this._isShown&&!this._isHiding?this.hide(e):this.show(t||this._owner)},repaint:function(){this._moveToContainer();var t=this._pickDirection();return this.setMod("to",t.to)._show(this._positions[t.key],this._tailPos&&this._tailPos[t.key]),this},getCurrPos:function(){return this._currPos},getCurrDirection:function(){return this._direction},setScope:function(t){return this._scope=t,this._inContainer=!1,this},setContent:function(t){return BEM.DOM.update(this.elem("content"),t),this._resetDefault(),this._isShown&&this.repaint(),this},isShown:function(){return this._isShown},setParent:function(t){return this._parent=t,this._isParentFixed=t.hasMod("position","fixed"),t.addChild&&t.addChild(this),this},addChild:function(t){for(var e=this._childs,n=e.length,i=0;i<n;i++)if(e[i]._uniqId===t._uniqId)return;t.on("hide",(function(){this.removeChild(t)}),this),t.on("beforeClose",(function(){this.afterCurrentEvent((function(){this.removeChild(t)}))}),this),e.push(t)},_getParentPopup:function(){return this._parent},removeChild:function(t){for(var e=this._childs,n=e.length,i=0;i<n;i++)if(e[i]._uniqId===t._uniqId)return void e.splice(i,1)},setSize:function(t){return t&&(this._resetDefault(),this.domElem.css(t),this._isShown&&!this._isHiding&&this.repaint()),this},_show:function(t,e){return this._currPos=t,e&&this.elem("tail").removeAttr("style").css(e),this.domElem.css(t),(!this._isShown||this._isHiding)&&this.hasMod("animate","yes")&&!this.hasMod("fade-in","no")&&this.afterShow(),this._isHiding=!1,this.setMod("visibility","visible"),this},_onShown:function(){this._isShown||this._bindCompatibility(),this.bindToDoc("keydown",(function(t){t.which===BEM.blocks.keycodes.ESC&&0===this._childs.length&&this.hide({source:"esc-key"})})),this._attachRepaintOnResize(),this._bindFocusEvents(),this._attachUnder(),this._isShown=!0,this.hasMod("autoclosable","yes")&&this.afterCurrentEvent((function(){this.domElem&&this._enableAutoclosable()})),this.hasMod("adaptive","yes")&&this._enableAdaptive(),this._channel.on("hide",this.hide,this),this.trigger("show")},_bindCompatibility:function(){this._captureZIndex(),this.__self._visiblePopupsStack.unshift(this),this.trigger("beforeOpen")},_unbindCompatibility:function(){this.trigger("beforeClose");var t=this.__self._visiblePopupsStack;t.splice(t.indexOf(this),1),this._releaseZIndex()},_onHidden:function(){this._isShown&&this._unbindCompatibility(),this.unbindFromDoc("keydown"),this._detachRepaintOnResize(),this._unbindFocusEvents(),this.hasMod("autoclosable","yes")&&this._disableAutoclosable(),this.hasMod("adaptive","yes")&&this._disableAdaptive(),this._detachUnder(),this._cache={},this._isShown=!1,this._isHiding=!1,this._channel.un("hide"),this._returnFocus(),this.trigger("hide")},_attachRepaintOnResize:function(){window.attachEvent&&this.domElem[0].attachEvent("onresize",this.__self._enforcePageRepaint)},_detachRepaintOnResize:function(){window.detachEvent&&this.domElem[0].detachEvent("onresize",this.__self._enforcePageRepaint)},_bindFocusEvents:function(){this._lastFocused=$($.dom.getActiveElement()[0]||this._scope);var t=this.__self._getFocusable(this.elem("content"));this._firstFocusable=t.first(),this._lastFocusable=t.last(),this._skipReturnFocus=!1,0!==this._firstFocusable.length?this.bindTo(this._lastFocused,"keydown",this._onLastFocusedKeyDown).bindTo(this._firstFocusable,"keydown",this._onFirstFocusableKeyDown).bindTo(this._lastFocusable,"keydown",this._onLastFocusableKeyDown):this._skipReturnFocus=!0},_unbindFocusEvents:function(){this.unbindFrom(this._firstFocusable,"keydown"),this.unbindFrom(this._lastFocusable,"keydown"),this.unbindFrom(this._lastFocused,"keydown")},_onLastFocusedKeyDown:function(t){this._lastFocused.is(this._scope)&&!this._lastFocused.is(t.target)||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this[t.shiftKey?"_lastFocusable":"_firstFocusable"].focus())},_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())},_onLastFocusableKeyDown:function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())},_returnFocus:function(){(this._parent||{})._skipReturnFocus||this._skipReturnFocus||this._lastFocused.focus()},_mergeParams:function(t,e,n){var i={},o=Object.prototype.hasOwnProperty;return n||(n={}),t&&"object"==typeof t&&Object.keys(t).forEach((function(e){i[e]=t[e]})),Object.keys(e).forEach((function(s){var r=o.call(n,s)?n[s].call(this,t[s],e[s]):e[s];!r||"object"!=typeof r||Array.isArray(r)?i[s]=r:t[s]?i[s]=this._mergeParams(t[s],r,n):i[s]=r}),this),i},_tailParamsHook:function(t,e){return e.offset||(e.offset=this.params.tail.offset),"number"==typeof e.offset?{offset:{left:e.offset,top:e.offset}}:e},_generateDirections:function(){if(this.__self._generateDirectionsCache)return this.__self._generateDirectionsCache;for(var t=[["bottom","top"],["left","right"]],e=[["center","left","right"],["middle","top","bottom"]],n=e,i=t.length,o=[],s=0;s<i;s++)for(var r=t[s],a=r.length,c=0;c<a;c++)for(var l=e[s],u=l.length,h=0;h<u;h++)for(var d=n[s],f=d.length,p=0;p<f;p++)o.push({direction:r[c],axis:l[h],tail:{axis:d[p]}});return this.__self._generateDirectionsCache=o,o},_repackDirParams:function(t){var e,n={};return("string"==typeof t||$.isPlainObject(t))&&(t=[t]),e=t.map((function(t){if("string"==typeof t){var e=t.split("-");t={to:e[0],tail:{}},e[1]&&(t.axis=e[1]),e[2]&&(t.tail.axis=e[2])}var i=t.to;return n[i]||(n[i]=t),t.axis&&(i+="-"+t.axis),t.key=i,n[i]=t,i}),this),{directions:n,keys:e}},setViewport:function(t){return this._viewport=t,this},_pickDirection:function(){var t,e=this._order,n=this.hasMod("adaptive","yes")?e.length:1;for(this._visibilityFactor=0,t=0;t<n;t++){var i=e[t],o=this._directions[i];this._resetPos(i)._pushPos(i,this._calcPos(o))._pushPos(i,this._calcOffsets(o)),this._hasTail()&&this._resetTailPos(i)._pushTailPos(i,this._calcTailPos(o))._pushTailPos(i,this._calcTailOffset(o))._pushPos(i,this._calcOffsetByTail(o)),this._pushPos(i,this._getParentOffset());var s=this._calcVisibilityFactor(o);if((s>this._visibilityFactor||!this._direction)&&(this._visibilityFactor=s,this._direction=this._directions[i],this.size=this.getPlacingSize(),100===s))break}return this._direction},_getParentOffset:function(){var t=this.domElem.offsetParent().offset();return t.left*=-1,t.top*=-1,t},_calcPos:function(t){this._calcPlacingSize(t);var e=this.getOwnerPos(),n=this.getOwnerSize(),i=this.getPlacingSize(),o=t.axis,s=this.params.position||{},r={},a=Object.prototype.hasOwnProperty;switch(t.to){case"bottom":r={top:a.call(s,"top")?s.top:e.top+n.height,left:a.call(s,"left")?s.left:this._calcLeft(o)};break;case"top":r={top:a.call(s,"top")?s.top:e.top-i.height,left:a.call(s,"left")?s.left:this._calcLeft(o)};break;case"left":r={top:a.call(s,"top")?s.top:this._calcTop(o),left:a.call(s,"left")?s.left:e.left-i.width};break;case"right":r={top:a.call(s,"top")?s.top:this._calcTop(o),left:a.call(s,"left")?s.left:e.left+n.width}}return r},_calcTop:function(t){var e=0,n=this.getPlacingSize(),i=this.getOwnerPos(),o=this.getOwnerSize();return"top"===t?e+=i.top:"middle"===t?e+=i.top+o.height/2-n.height/2:"bottom"===t&&(e+=i.top+o.height-n.height),e},_calcLeft:function(t){var e=0,n=this.getPlacingSize(),i=this.getOwnerPos(),o=this.getOwnerSize();return"left"===t?e+=i.left:"center"===t?e+=i.left+o.width/2-n.width/2:"right"===t&&(e+=i.left+o.width-n.width),e},getPlacingSize:function(){return this.getPopupSize()},_calcOffsets:function(t){var e,n=this._cache.offset||(this._cache.offset={}),i=t.key,o=t.offset;if(n[i])return n[i];if(!o)return!1;if(e={left:0,top:0},"number"==typeof o)switch(i){case"left":e.left+=o;break;case"right":e.left-=o;break;case"top":e.top+=o;break;case"bottom":e.top-=o}else o.left&&(e.left+=o.left),o.right&&(e.left-=o.right),o.top&&(e.top+=o.top),o.bottom&&(e.top-=o.bottom);return n[i]=e,e},_hasTail:function(){return 0!==this.elem("tail").length},_moveToContainer:function(t){if(t)this._inContainer=!1;else{if(this._isShown)return;t=this._parent?this._parent.domElem:this._scope}this.domElem.appendTo(t),this._inContainer=!0},_resetPos:function(t){return t?this._positions[t]=null:this._positions={},this},_pushPosTo:function(t,e,n){!1!==n&&("string"==typeof e?this._sum(t[e]||(t[e]={}),n):(n=e,Object.keys(t).forEach((function(e){this._sum(t[e],n)}),this)))},_pushPos:function(t,e){return this._pushPosTo(this._positions,t,e),this},_sum:function(t,e){Object.keys(e).forEach((function(n){t[n]=(t[n]||0)+e[n]}))},_getSizeOf:function(t){return{height:t.outerHeight(),width:t.outerWidth()}},getOwnerSize:function(){return this._owner?this._cache.ownerSize||(this._cache.ownerSize=this._getSizeOf(this._owner)):{height:0,width:0}},getPopupSize:function(){return this._getSizeOf(this.domElem)},_getPosOf:function(t){return t.offset()||{left:0,top:0}},getOwnerPos:function(){var t;return this._owner&&(t=this._getPosOf(this._owner),"pageYOffset"in window&&(t.top-=window.pageYOffset-(document.documentElement.scrollTop||document.body.scrollTop),t.left-=window.pageXOffset-(document.documentElement.scrollLeft||document.body.scrollLeft))),t||this._userPosition},_calcVisibilityFactor:function(t){var e,n,i=this._viewport,o=this._getSizeOf(i),s=this.getPopupSize(),r=this._positions[t.key],a=this._parent&&this._isParentFixed?this._parent.domElem.offset():{top:0,left:0},c=this.hasMod("position","fixed")?{top:0,left:0}:{top:i.scrollTop(),left:i.scrollLeft()},l=r.top+a.top-c.top,u=r.left+a.left-c.left,h=u+s.width-o.width,d=l+s.height-o.height,f={height:s.height,width:s.width},p=100;return d>0&&(f.height-=d),l<0&&(f.height+=l),u<0&&(f.width+=u),h>0&&(f.width-=h),f.height<0||f.width<0?p=0:(n=Math.abs(f.height*f.width),(e=s.height*s.width)!==n&&(p=n/e*100)),p},_findParent:function(t){var e=t.closest(".popup, .popup2");return this.findBlockOn(e,"popup")||this.findBlockOn(e,"popup2")},destruct:function(){return this._childs.forEach((function(t){t.domElem&&BEM.DOM.destruct(t.domElem)})),this.setMod("fade-out","no"),this.hide(),this._isShown&&this._unbindCompatibility(),this.__base.apply(this,arguments)},_calcZIndexGroupLevel:function(){var t=this.params.zIndexGroupLevel,e=this._getParentPopup();return e&&(t+=e._zIndexGroupLevel),this._destructor?this._destructor.findBlocksOutside("z-index-group").reduce((function(t,e){return t+Number(e.getMod("level"))}),t):t},_captureZIndex:function(){null===this._zIndexGroupLevel&&(this._zIndexGroupLevel=this._calcZIndexGroupLevel());var t=this.__self._visiblePopupsZIndexes,e=this._zIndexGroupLevel,n=t[e],i=this._zIndex;return n||(n=t[e]=[(e+1)*this.__self.ZINDEX_FACTOR]),this._zIndex=n[n.length-1]+1,n.push(this._zIndex),this._zIndex!==i&&this.domElem.css("z-index",this._zIndex),this},_releaseZIndex:function(){var t=this.__self._visiblePopupsZIndexes[this._zIndexGroupLevel];return t.splice(t.indexOf(this._zIndex),1),this},_resetDefault:function(){},_calcPlacingSize:function(){}},{live:function(){this.liveBindTo("close","pointerclick",(function(){this.hide({source:"close-click"})}))},_visiblePopupsStack:(BEM.blocks.popup2||{})._visiblePopupsStack||[],_visiblePopupsZIndexes:(BEM.blocks.popup2||{})._visiblePopupsZIndexes||{},ZINDEX_FACTOR:1e3,_getFocusable:function(t){var e=$.data(t,"popup-getFocusable-id");e||(e=$.identify(),$.data(t,"popup-getFocusable-id",e)),e='*[data-popup-getFocusable-id="'+e+'"]';var n="a[href], link, ";return BEM.blocks["i-ua"].opera<13&&(n=""),t.find(n+'*[tabindex], button, input:not([type="hidden"]), textarea, select, menuitem').filter((function(){var t=$(this),n=!0;return!(parseInt(t.prop("tabindex"),10)<0||"hidden"===t.css("visibility"))&&($(this).parentsUntil(e).each((function(){if("none"===$(this).css("display"))return n=!1})),n)}))},_enforcePageRepaint:function(){document.body.className+=""},_generateDirectionsCache:null})},1827:function(){BEM.DOM.decl({block:"popup2",modName:"autoclosable",modVal:"yes"},{onSetMod:{visible:{yes:function(){this.__self._visiblePopupsStack.unshift(this),this.afterCurrentEvent((function(){this.domElem&&this.hasMod("visible")&&this.bindToDoc("pointerclick",this._onDocClick)})),this.__base.apply(this,arguments)},"":function(){var t=this.__self._visiblePopupsStack;t.splice(t.indexOf(this),1),this.unbindFromDoc("pointerclick").__base.apply(this,arguments)}}},_onDocClick:function(t){this.hasMod("target","anchor")&&(this._anchor[0]===t.target||this._anchor.find(t.target).length>0)||(this._preventHideByClick?this._preventHideByClick=null:this.delMod("visible"))}},{live:function(){return BEM.DOM.doc.on("keydown",this._onDocKeyPress.bind(this)),this.__base()},_visiblePopupsStack:(BEM.blocks.popup||{})._visiblePopupsStack||[],_onDocKeyPress:function(t){BEM.blocks.keycodes.is(t.keyCode,"ESC")&&this._visiblePopupsStack.length&&this._visiblePopupsStack[0].__self.getName()===this.getName()&&this._visiblePopupsStack[0].delMod("visible")}})},6154:function(){BEM.DOM.decl({block:"popup2",modName:"target"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._lastPopupDrawingCss={left:undefined,top:undefined,zIndex:undefined,display:undefined},this._lastTailDrawingCss={left:undefined,top:undefined},this._initialVisible=this.hasMod("visible")}},visible:{yes:function(){this.__base.apply(this,arguments),this.bindToWin("scroll resize",this._onWinScollAndResize).redraw(!0)},"":function(){this.__base.apply(this,arguments),this.unbindFromWin("scroll resize")}}},setContent:function(){return this.__base.apply(this,arguments).redraw()},_draw:function(){var t=this._calcBestDrawingParams();return this.setMod("direction",t.direction),e(this._lastPopupDrawingCss,this._calcDrawingCss(t))&&this.domElem.css(this._lastPopupDrawingCss),e(this._lastTailDrawingCss,this._calcTailDrawingCss(t))&&this.elem("tail").css(this._lastTailDrawingCss),this;function e(t,e){var n=!1;return Object.keys(e).forEach((function(i){var o=e[i];t[i]!==o&&(t[i]=o,n=!0)})),n}},redraw:function(t){return this.hasMod("visible","yes")||t?(this.setMod("outside","yes")._draw().delMod("outside"),this):this},_calcDrawingCss:function(t){var e,n=this._scope;return n.is(BEM.DOM.scope)||(e=n.offset(),t.top-=e.top,t.left-=e.left),{left:t.left,top:t.top}},_calcTailDrawingCss:function(t){return t.tail},calcPossibleDrawingParams:function(){var t=this._calcTargetDimensions(),e=this._calcViewportDimensions(),n=this._calcOffsets();return this.params.directions.map((function(i){var o={direction:i,width:0,height:0,left:0,top:0};return this._checkMainDirection(i,"bottom")?(o.top=t.top+t.height+n.main,o.height=e.bottom-o.top-n.viewport):this._checkMainDirection(i,"top")?(o.height=t.top-e.top-n.main-n.viewport,o.top=t.top-o.height-n.main):(this._checkSecondaryDirection(i,"center")?(o.height=e.bottom-e.top-2*n.viewport,o.top=t.top+(t.height-o.height)/2):this._checkSecondaryDirection(i,"bottom")?(o.height=t.top+t.height-e.top-n.secondary-n.viewport,o.top=t.top+t.height-o.height-n.secondary):this._checkSecondaryDirection(i,"top")&&(o.top=t.top+n.secondary,o.height=e.bottom-o.top-n.viewport),this._checkMainDirection(i,"left")?(o.width=t.left-e.left-n.main-n.viewport,o.left=t.left-o.width-n.main):(o.left=t.left+t.width+n.main,o.width=e.right-o.left-n.viewport)),this._checkSecondaryDirection(i,"right")?(o.width=t.left+t.width-e.left-n.secondary-n.viewport,o.left=t.left+t.width-o.width-n.secondary):this._checkSecondaryDirection(i,"left")?(o.left=t.left+n.secondary,o.width=e.right-o.left-n.viewport):this._checkSecondaryDirection(i,"center")&&this._checkMainDirection(i,"top","bottom")&&(o.width=e.right-e.left-2*n.viewport,o.left=t.left+t.width/2-o.width/2),o}),this)},_calcBestDrawingParams:function(){for(var t,e,n,i,o,s,r=this._calcPopupDimensions(),a=this._calcTargetDimensions(),c=this._calcViewportDimensions(),l=this.params.directions,u=l.length,h=0;h<u&&(t=l[h],e=this._calcPos(t,a,r),n=this._calcViewportFactor(e,c,r),(0===h||n>s||!s&&this.hasMod("direction",t))&&(i=t,s=n,o=e),!(s>this.__self.VIEWPORT_ACCURACY_FACTOR));h++);return{direction:i,left:o.left,top:o.top,tail:this._calcTailPos(i,a,r,o)}},_calcPopupDimensions:function(){var t=this.domElem.outerWidth(),e=this.domElem.outerHeight();return{width:t,height:e,innerWidth:this.domElem.innerWidth(),innerHeight:this.domElem.innerHeight(),area:t*e}},_calcTailDimension:function(){var t=this.elem("tail"),e=this.params.tailSize||t.outerWidth();return t.length>0&&"none"!==t.css("display")?e:0},_calcTargetDimensions:function(){},_calcViewportDimensions:function(){var t=BEM.DOM.win,e=t.scrollTop(),n=t.scrollLeft(),i=t.width();return{top:e,left:n,bottom:e+t.height(),right:n+i}},_calcPos:function(t,e,n){var i={},o=this._calcOffsets();return this._checkMainDirection(t,"bottom")?i.top=e.top+e.height+o.main:this._checkMainDirection(t,"top")?i.top=e.top-n.height-o.main:this._checkMainDirection(t,"left")?i.left=e.left-n.width-o.main:this._checkMainDirection(t,"right")&&(i.left=e.left+e.width+o.main),this._checkSecondaryDirection(t,"right")?i.left=e.left+e.width-n.width-o.secondary:this._checkSecondaryDirection(t,"left")?i.left=e.left+o.secondary:this._checkSecondaryDirection(t,"bottom")?i.top=e.top+e.height-n.height-o.secondary:this._checkSecondaryDirection(t,"top")?i.top=e.top+o.secondary:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?i.left=e.left+e.width/2-n.width/2:this._checkMainDirection(t,"left","right")&&(i.top=e.top+e.height/2-n.height/2)),i},_calcTailPos:function(t,e,n,i){var o={},s=this._calcTailDimension()/2,r=this.params.tailOffset,a=this.params.tailSize;return this._checkMainDirection(t,"bottom")?o.top=-s:this._checkMainDirection(t,"top")?o.top=Math.floor(n.innerHeight-s):this._checkMainDirection(t,"left")?o.left=Math.floor(n.innerWidth-s):this._checkMainDirection(t,"right")&&(o.left=-s),this._checkSecondaryDirection(t,"right")?o.left=n.innerWidth-Math.ceil(Math.min(n.innerWidth,e.width)/2)-s-r:this._checkSecondaryDirection(t,"left")?o.left=Math.ceil(Math.min(n.innerWidth,e.width)/2)-s+r:this._checkSecondaryDirection(t,"bottom")?o.top=n.innerHeight-Math.ceil(Math.min(n.innerHeight,e.height)/2)-s-r:this._checkSecondaryDirection(t,"top")?o.top=Math.ceil(Math.min(n.innerHeight,e.height)/2)-s+r:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?o.left=Math.ceil(n.innerWidth/2)-s+r:o.top=Math.ceil(n.innerHeight/2)-s+r),{top:o.top,left:o.left,width:a,height:a}},_calcViewportFactor:function(t,e,n){var i=this.params.viewportOffset,o=Math.max(t.left,e.left+i),s=Math.min(t.left+n.width,e.right-i),r=Math.max(t.top,e.top+i),a=Math.min(t.top+n.height,e.bottom-i);return o<s&&r<a?(s-o)*(a-r)/n.area:0},_calcOffsets:function(){var t=this.params,e=this._calcTailDimension();return{main:e>0?Math.max(t.mainOffset,Math.round(e*Math.SQRT1_2)):t.mainOffset,secondary:t.secondaryOffset,viewport:t.viewportOffset}},_checkMainDirection:function(t,e,n){return 0===t.indexOf(e)||n&&0===t.indexOf(n)},_checkSecondaryDirection:function(t,e){return t.indexOf("-"+e)>0},_checkDirection:function(t,e){return t.indexOf(e)>=0},_onWinScollAndResize:function(t){this.hasMod("visible","yes")&&this._draw()},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{mainOffset:0,secondaryOffset:0,viewportOffset:0,tailOffset:0,directions:this.__self.AVAILABLE_DIRECTIONS})},_setVisible:function(){this._initialVisible&&(this._initialVisible=!1,this.delMod("visible").setMod("visible","yes"))}},{VIEWPORT_ACCURACY_FACTOR:.99,AVAILABLE_DIRECTIONS:["bottom-left","bottom-center","bottom-right","top-left","top-center","top-right","right-top","right-center","right-bottom","left-top","left-center","left-bottom"]})},9818:function(){BEM.DOM.decl({block:"popup2",modName:"theme",modVal:"normal"},{getDefaultParams:function(){return $.extend(this.__base(),{mainOffset:5,viewportOffset:5})}})},7134:function(){BEM.DOM.decl("popup2",{onSetMod:{js:{inited:function(){this._parentPopup=undefined,this._zIndex=null,this._zIndexGroupLevel=null,this._scope=BEM.DOM.scope,this._isAttachedToScope=!1}},visible:{yes:function(){this.trigger("beforeOpen"),this._isAttachedToScope||(this._scope.append(this.domElem),this._isAttachedToScope=!0),this._captureZIndex()._bindToParentPopup().bindTo("pointerdown pointerclick",this._setPreventHideByClick)},"":function(){this.trigger("beforeClose")._releaseZIndex()._unbindFromParentPopup().unbindFrom("pointerdown pointerclick")}}},destruct:function(){this.delMod("visible"),this.__base.apply(this,arguments)},setScope:function(t){return this._scope=t,this._isAttachedToScope=!1,this},setContent:function(t){return BEM.DOM.update(this.domElem,t),this},_calcZIndexGroupLevel:function(){var t=this.params.zIndexGroupLevel,e=this._getParentPopup();return e&&(t+=e._zIndexGroupLevel),t},_setPreventHideByClick:function(){var t=this;do{t._preventHideByClick=!0,t=t._getParentPopup()}while(t)},_bindToParentPopup:function(){var t=this._getParentPopup();return t&&(t.on("beforeClose",this._onParentPopupClose,this),t.addChild&&t.addChild(this)),this},_unbindFromParentPopup:function(){return this._parentPopup&&this._parentPopup.un("beforeClose",this._onParentPopupClose,this),this._parentPopup=undefined,this},_onParentPopupClose:function(){this.delMod("visible")},_getParentPopup:function(){return this._parentPopup},_captureZIndex:function(){null===this._zIndexGroupLevel&&(this._zIndexGroupLevel=this._calcZIndexGroupLevel());var t=this.__self._visiblePopupsZIndexes,e=this._zIndexGroupLevel,n=t[e],i=this._zIndex;return n||(n=t[e]=[(e+1)*this.__self.ZINDEX_FACTOR]),this._zIndex=n[n.length-1]+1,n.push(this._zIndex),this._zIndex!==i&&this.domElem.css("z-index",this._zIndex),this},_releaseZIndex:function(){var t=this.__self._visiblePopupsZIndexes[this._zIndexGroupLevel];return t&&t.splice(t.indexOf(this._zIndex),1),this},_recaptureZIndex:function(){return this._releaseZIndex(),this._zIndexGroupLevel=null,this._captureZIndex()},getDefaultParams:function(){return{zIndexGroupLevel:0}}},{live:!0,_visiblePopupsZIndexes:(BEM.blocks.popup||{})._visiblePopupsZIndexes||{},ZINDEX_FACTOR:1e3})},6729:function(){BEM.decl("social-broker",{_windowWidth:500,_windowHeight:280,onSetMod:{js:{inited:function(){this._window=null,this._timer=0,this._seed=0}}},start:function(t,e,n){var i,o,s=this;this._onSuccess=t,this._onFailure=e,this._hasLocalStorage()?(this._cleanup(),i=(n=$.extend({},s._getDefaultParams(),n)).startUrl+"?",delete n.startUrl,delete n.popupName,o=n.display,this._seed="_"+Number(new Date)+Math.floor(1e9*Math.random()).toString(16).slice(0,6),o&&"popup"!==o&&(n.retpath=n.retnopopup||n.retpath||window.location.href,delete n.retnopopup),n.retpath+=(-1!==n.retpath.indexOf("?")?"&":"?")+"social-broker_seed="+encodeURIComponent(this._seed),i+=Object.keys(n).reduce((function(t,e){return t.push(encodeURIComponent(e)+"="+encodeURIComponent(n[e])),t}),[]).join("&"),o&&"popup"!==o?this._navigate(i):(this._lsLoginStatusKey="login_status_from"+this._seed,this._window=window.open(i,this._seed,this._getPopupParams(),!1),this._window?(this._window.focus(),clearInterval(this._timer),this._timer=setInterval((function(){var t;try{t=window.localStorage.getItem(s._lsLoginStatusKey)}catch(n){}if(!s.isClosed()||(clearInterval(s._timer),t)){if(t){var e=s._deserialize(t);!1===s._handleStatus(e)&&s.onFailure({status:"error"})}}else s.onFailure({status:"error"})}),500)):this.onFailure({status:"error"}))):this.onFailure({status:"error"})},_hasLocalStorage:function(){return Boolean(window.localStorage)},_deserialize:function(t){var e;try{e=JSON.parse(t)}catch(n){e={raw:t}}return e},_handleStatus:function(t){return"ok"===t.status?(this.onSuccess(t),!0):"error"===t.status&&(this.onFailure(t),!0)},isClosed:function(){return!this._window||this._window.closed},_navigate:function(t){window.location.href=t},_getDefaultParams:function(){var t=BEM.blocks["i-global"],e=t.param("id");return{startUrl:t.param("social-startUrl")||t.param("social-host")+"/broker/start",retpath:t.param("social-retpath")||[location.protocol,"//",location.host,t.param("lego-path"),"/common.blocks/social-broker/__closer/social-broker__closer.html"].join(""),retnopopup:t.param("social-retnopopup")||!1,consumer:e||"morda",popupName:"social_"+(e||"morda"),action_if_anonymous:"authorize",result_location:"fragment"}},_getPositionedParams:function(t,e,n,i){return["scrollbars=yes, resizable=1, menubar=0, toolbar=0, status=0, location=0, directories=0",", left=",e,", top=",t,", width=",n,", height=",i].join("")},_getPopupParams:function(){var t,e,n=this._windowWidth,i=this._windowHeight;return window.opera?(t=(screen.availWidth-n)/2,e=(screen.availHeight-i)/2):(t=(window.innerWidth-n)/2,e=(window.innerHeight-i)/2),t=Math.round(t),e=Math.round(e),this._getPositionedParams(e,t,n,i)},_cleanup:function(){if(clearInterval(this._timer),this._lsLoginStatusKey)try{window.localStorage.removeItem(this._lsLoginStatusKey)}catch(t){}this.isClosed()||this._window.close(),this._window=null},onSuccess:function(t){this._cleanup(),this._onSuccess&&this._onSuccess(t)},onFailure:function(t){this._cleanup(),this._onFailure&&this._onFailure(t)},destruct:function(){this._cleanup(),this.__base.apply(this,arguments)}})},8228:function(){BEM.DOM.decl("suggest2-counter",{pointerStartEvent:"pointerdown",onSetMod:{js:{inited:function(){this.clear()}}},destruct:function(){this.unbindAllEvents()},getDefaultParams:function(){return{submitBySelect:!1,suggestReqID:!1,preventSubmit:!0,host:"//yandex.ru",path:"clck/jclck",dataUrl:"http://ya.ru",params:{},timeout:300}},metaProps:{exprt:"exprt",r:"region",log:"log"},clear:function(){var t=this;return t._params={user_input:"",text:""},t._times=[],t._renderTimes=[],t._renderTime=0,t._path={service:t.params.service,state:"not_shown",index:0,personal:"nah_not_shown",submit:""},t._ratio={len:0,queryLen:0,actionsCount:0},t._firstChange=0,t._lastChange=0,t._sinceChange={first:0,last:0},t._selectedText="",t._session=0,t._reqID=this.__self._generateReqID(),t._meta={},t._afterSendAjaxCallback,t._startClickTime=null,t._startInputTime=null,t._requests=[],t._clicksCount=0,t},submit:function(t){var e=this,n=e.params.suggest.params["suggest2-input"],i=n.val();e._params.text=i,e._params.pos=n.getCaretPosition(),e._params.times=e._requests.map((function(t){return!t.error&&t.duration?t.duration:0})).join("."),e.params.suggestReqID&&e.attachReqID(),e.sendAjax(e.getUrl(),$.extend({submitForm:!0,afterSendAjaxCallback:function(){}},t)),e.trigger("submit",e._getSubmitEventData()).clear(),e._params.prev_query=i},_getSubmitEventData:function(){var t=this;return{path:t._path,times:t._times,render_times:t._params.times,prev_query:t._params.prev_query,user_input:t._params.user_input,text:t._params.text,pos:t._params.pos,ratio:t._ratio,since_first_change:t._sinceChange.first,since_last_change:t._sinceChange.last,session:t._session,suggest_reqid:t._reqID,meta:t._meta,url:t.getUrl()}},sendAjax:function(t,e){return $.ajax({type:"GET",url:t,dataType:"script",timeout:this._getAjaxTimeout()}).always(this._sendAjaxAlways.bind(this,e)),this},_getAjaxTimeout:function(){return this.params.timeout},afterSendAjax:function(t){return this._afterSendAjaxCallback=t,this},getUrl:function(){return this.params.host+["/",this.params.path].concat(this._getUrlParams()).join("/").replace(/(\/+)/g,"/")},_sendAjaxAlways:function(t){t||(t={}),this.params.preventSubmit&&t.submitForm&&this.params.form.submit({block:this.__self.getName(),prevent:!1}),t.afterSendAjaxCallback&&t.afterSendAjaxCallback(),this._afterSendAjaxCallback&&this._afterSendAjaxCallback()},_getUrlParams:function(){var t=this;return this._getParamsList().concat(t._getData()).reduce((function(e,n){return e.concat(t._getParams(n))}),[]).concat(["/"])},_getParamsList:function(){var t=this;return[t.params.params,t._getPath(),t._params,t._getRatio(),t._getSinceChange(),t._getSession(),t._getResponsesShows(),{suggest_reqid:t._reqID}]},initValues:function(){return this._params.prev_query=this.params.suggest.params["suggest2-input"].val(),this},attachReqID:function(){this._reqID=this.__self._generateReqID(),this.params.form.appendHiddenInputs([{name:"suggest_reqid",value:this._reqID}])},getCurrentReqId:function(){return this._reqID},bindEvents:function(){var t=this,e=t.params,n=e.suggest,i=e.form,o=n.getModel(),s=n.params["suggest2-input"],r=n.params["suggest2-popup"];return i.on({"button-click":t._onFormButtonClick,submit:t._onFormSubmit},t),o.on({request:t._onModelRequest,response:t._onModelResponse},t),s.on({change:t._onInputChange,enter:t._onInputEnter},t),r.on({show:t._onPopupShow},t),BEM.blocks["suggest2-item"].on(n.domElem,"enter",t._onSuggestItemEnter,t),n.on({update:t._onSuggestUpdate,select:t._onSuggestSelect},t),t._input=s._input,t._input.bindTo(t.pointerStartEvent,t._onInputClick.bind(t)).on("focus",t._onInputFocus,t),t._input.findElem("control").on("blur",t._onInputBlur.bind(t)),t},_onInputClick:function(){this._startInputTime||(this._startClickTime=Date.now())},_onClickPopup:function(){this._clicksCount++},_onInputFocus:function(){this._timeoutInputTime&&clearTimeout(this._timeoutInputTime),this._startInputTime=this._startClickTime},_onInputBlur:function(t){this._timeoutInputTime=setTimeout(function(){this._startClickTime=null,this._startInputTime=null}.bind(this),300)},_onFormButtonClick:function(){"keyboard"!==this._path.submit&&(this._path.submit="button_by_mouse")},_onFormSubmit:function(t,e){e.data.block!==this.__self.getName()&&!1!==e.data.prevent&&(this.params.preventSubmit&&(e.stopImmediatePropagation(),e.preventDefault()),this._doSubmit())},_doSubmit:function(){this.submit()},_onModelRequest:function(t,e){this._requests.push(e.request)},_onModelResponse:function(t,e){if(Object(e.data).items){var n=e.data.items;this._path.personal=this._hasPersonal(n)?"nah_not_used":"nah_not_shown",this._meta=e.data.meta||{},this._renderTime=new Date,this._setMetaProps(e),this._requests&&delete this._requests[e.val.toLowerCase()]}},_onInputChange:function(t,e){e&&"clear"!==e.source||(this._params.user_input=t.block.val(),this[this._firstChange?"_lastChange":"_firstChange"]=new Date,this._startInputTime||(this._startInputTime=this._firstChange.getTime())),this._selectedText&&(this._path.state="edit"),this._ratio.actionsCount++},_onInputEnter:function(){this._path.submit="keyboard"},_onPopupShow:function(){"not_shown"===this._path.state&&(this._path.state="not_used")},_onSuggestItemEnter:function(t,e){e.byKeyboard&&this.params.suggest.params.updateOnEnterByKeyboard&&(this._selectedText=e.val,this._path.state="suggest")},_onSuggestUpdate:function(){this._addRenderTime(new Date-this._renderTime)},_onSuggestSelect:function(t,e){var n=this;n._path.state=e.byKeyboard?"keyboard":"mouse",n._path.index=e.itemIndex+1,n._selectedText=e.val,e.item.hasMod("personal")&&(n._path.personal="nah_used"),n.params.submitBySelect&&(n._path.submit=e.byKeyboard?"keyboard":"click_by_mouse",n._params.pos=e.pos,n._params.text=this._selectedText),n.params.suggest.isNeedSubmitFormOnSelectItem(e.item)||n.submit({submitForm:!1,afterSendAjaxCallback:e.callbackOnSelect}),e.item.params.safeclickUrl&&((new Image).src=e.item.params.safeclickUrl)},unbindAllEvents:function(){var t=this.params,e=t.suggest,n=t.form,i=e.params["suggest2-popup"];return n.un("button-click").un("submit"),e.getModel().un("request").un("response"),e.params["suggest2-input"].un("change").un("enter"),i.un("show").un("hide"),e.un("select"),this},_hasPersonal:function(t){return t.some((function(t){return 1===BEM.blocks["suggest2-view"]._getPrefs(t).pers}))},_setMetaProps:function(t){t.data.meta&&Object.keys(this.metaProps).forEach((function(e){this._params[this.metaProps[e]]=t.data.meta[e]||""}),this)},_getParams:function(t){return Object.keys(t).reduce((function(e,n){return""===t[n]||e.push(n+"="+encodeURIComponent(t[n]).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%2C/g,",")),e}),[])},_getPath:function(){return{path:[this._path.service,this._path.state,"p"+this._path.index,this._path.personal,this._path.submit].join(".")}},_getSession:function(){return this._session=(new Date).getTime()+Math.round(1e4*Math.random()),{session:this._session}},_getSinceChange:function(){var t=this._getSinceTime("first"),e=this._startInputTime&&Date.now()-this._startInputTime||0;return{since_first_change:t,since_last_change:this._getSinceTime("last"),total_input_time:e}},_getSinceTime:function(t){var e="_"+t+"Change";return this._sinceChange[t]=this[e]?(new Date).getTime()-this[e]:0,this._sinceChange[t]},_getResponsesShows:function(){return this._requests.reduce((function(t,e){return t.rqs++,e.error||(e.responseTime&&t.rsp++,0===e.itemsCount&&t.ersp++,e.fromCache&&t.cchd++),t}),{rqs:0,rsp:0,rndr:this._renderTimes.length,ersp:0,clks:this._clicksCount,cchd:0})},_getRatio:function(){return this._ratio.len=this._params.user_input.length,this._ratio.queryLen=this._params.text.length,{ratio:[this._ratio.len,this._ratio.queryLen,this._ratio.actionsCount].join(".")}},_addRenderTime:function(t){return this._renderTimes.push(t),this._params.render_times=this._renderTimes.join("."),this},_getData:function(){return{"*data":"url="+this.params.dataUrl}}},{_generateReqID:function(){return(BEM.blocks["i-global"]&&BEM.blocks["i-global"].param("yandexuid")?BEM.blocks["i-global"].param("yandexuid"):this._random(9)+this._random(9))+String(Date.now()).slice(-7)+this._random(7)},_random:function(t){return Math.random().toString().slice(-Math.min(t,10))}},{live:function(){this.liveInitOnBlockEvent("init","suggest2-form")}})},6656:function(){BEM.DOM.decl("suggest2-detect",{onSetMod:{js:{inited:function(){this.bindToDoc("keydown",(function(t){this.__self._pressedKeyCode=t.which}),this).bindToDoc("keyup",(function(){this.__self._pressedKeyCode=null}),this),this.__self.isSupportInlineSVG()||this.setMod("inlinesvg","no")}}}},{_pressedKeyCode:null,isPressedEscape:function(){return 27===this._pressedKeyCode},_isSupportInlineSVG:null,isSupportInlineSVG:function(){if(null!==this._isSupportInlineSVG)return this._isSupportInlineSVG;var t=document.createElement("div");return t.innerHTML="<svg/>",this._isSupportInlineSVG="http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI),this._isSupportInlineSVG}})},8090:function(){BEM.DOM.decl("suggest2-form",{onSetMod:{js:{inited:function(){this._isReady=!1,this._nodes=this.initNodes()}}},getDefaultParams:function(){return{inputName:"input",buttonName:"button2",popupName:"popup"}},destruct:function(){this._nodes.forEach((function(t){t.suggest.domElem&&BEM.DOM.destruct(t.suggest.domElem),this.unbindFormEvents(t),t.counter&&t.counter.destruct(),t.proxies.input.destruct(),t.proxies.popup.destruct()}),this),this.__base.apply(this,arguments)},getOwner:function(t){},isReady:function(){return this._isReady},initNodes:function(){var t=this.getNodes();return t.forEach((function(t){t.suggest.init()})),this._isReady=!0,this.trigger("ready",{nodes:t}),t},getNodes:function(){return this.getNodeList().map((function(t){var e=t.suggest,n=e.params;return n.form=this,n.input=t.input,n.popup=t.popup,n.button=t.button,t.proxies={},t.proxies.popup=n["suggest2-popup"]=BEM.create({block:"suggest2-popup",mods:$.extend({"for":this.params.popupName},this.params.popupMods)},this._getNodePopupParams(e,n)),t.proxies.input=n["suggest2-input"]=BEM.create({block:"suggest2-input",mods:this.params.inputMods},this._getNodeInputParams(e,n)),t.counter&&(t.counter.params.form=this,t.counter.params.suggest=e,n.counter=t.counter),this.bindFormEvents(t),t}),this)},_getNodeInputParams:function(t,e){return{suggest:t,input:e.input,updateOnEnterByKeyboard:e.updateOnEnterByKeyboard}},_getNodePopupParams:function(t,e,n){return{suggest:t,popup:e.popup,popupContentElem:this.params.popupContentElem,owner:this.getOwner(n)||e.input}},bindFormEvents:function(t){var e=this;return t.button&&t.button.bindTo("pointerclick",(function(t){e._onButtonClick(t)})),e.bindTo("submit",(function(t,n){e.onSubmit(t,n)})),e},_onButtonClick:function(t){this.trigger("button-click",{domEvent:t})},unbindFormEvents:function(t){return t.button&&t.button.un("pointerclick"),this.unbindFrom("submit"),this},submit:function(t){return this.domElem.trigger("submit",t||{}),this},onSubmit:function(t,e){t.data=e||{},this.trigger("submit",t)},getNodeList:function(){var t=this,e=[];return t.elem("node").each((function(n,i){var o=$(i),s=t._getFormNodeElems(o);e.push(t._getFormNodeBlocks(s,o))})),e},_getFormNodeElems:function(t){return{input:this.findElem(t,"input"),button:this.findElem(t,"button")}},_getSuggestForNode:function(t){return this.findBlockInside(t,"suggest2")},_getFormNodeBlocks:function(t,e){var n=this._getSuggestForNode(e);return{node:e,suggest:n,counter:this.findBlockOn("suggest2-counter"),input:this.findBlockOn(t.input,"input"),button:this.findBlockOn(t.button,this.params.buttonName),popup:n.findBlockOn(this.params.popupName)}},appendHiddenInputs:function(t){return BEM.DOM.append(this.domElem,BEMHTML.apply(t.map((function(t){return{block:this.__self.getName(),elem:"hidden-input",tag:"input",attrs:{type:"hidden",name:t.name,value:t.value}}}),this))),this},removeHiddenInputs:function(){return BEM.DOM.destruct(this.findElem(this.domElem,"hidden-input")),this}},{live:function(){return this.liveInitOnBlockInsideEvent("pointerclick change focus","input"),this.__base()}})},2306:function(){BEM.DOM.decl("suggest2-history",{_defaultParams:{running:[],other:[]},getDefaultParams:function(){return $.extend(this.__base(),this._defaultParams)},onAjaxSuccess:function(t){this.params=$.extend(this._defaultParams,t.params||{}),this.__self.updateState(),this.trigger("update",this.params)},getData:function(){return this.params}},{_state:0,updateState:function(){this._state++},getState:function(){return this._state}})},874:function(){BEM.decl("suggest2-input",{onSetMod:{js:{inited:function(){var t=this;t._input=t.params.input,t.disableBrowserAutocomplete(),t.realVal(t.val()),t.bindEvents({change:function(e,n){t._onChange(e,n)},clear:$.throttle((function(e,n){t._onClear(e,n)}),300)}),t.bindSuggestEvents()}}},_onChange:function(t,e){this.trigger("change",e)},_onClear:function(t,e){this.trigger("clear",e)},destruct:function(){this.unbindAllEvents(),this.__base.apply(this,arguments)},get:function(){return this._input},isFocused:function(){return this._input.hasMod("focused")},focus:function(){return this._input.setMod("focused","yes"),this},blur:function(){return this._input.delMod("focused"),this},getControl:function(){return this._input.elem("control")},val:function(t,e){return this._input.val.apply(this._input,arguments)},valWithoutSuggest:function(t,e){return this._input.val.call(this._input,t,$.extend(e,{suggest:!1}))},realVal:function(t){return t===undefined||"string"==typeof t&&(this._realVal=t),this._realVal},width:function(){return this._input.domElem.width()},getCaretPosition:function(){var t,e=this.getControl()[0],n=this.val().length;return document.selection?((t=document.selection.createRange()).moveStart("character",-n),t.text.length):"number"==typeof e.selectionStart?e.selectionStart:n},moveCaretToEnd:function(){var t=this.getControl()[0],e=t.value.length;if("undefined"!=typeof t.createTextRange){var n=t.createTextRange();n.collapse(!1),n.select()}else"number"==typeof t.selectionStart&&(t.scrollLeft=999999,t.setSelectionRange(e,e));return this},disableBrowserAutocomplete:function(){this.getControl().attr({autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-autocomplete":"list"})},_bindedEventsNames:[],bindEvents:function(t,e){return Object.keys(t).forEach((function(n){-1===this._bindedEventsNames.indexOf(n)&&this._bindedEventsNames.push(n),this._eventsFilter(n).on(n,t[n].bind(e||this))}),this),this},bindSuggestEvents:function(){var t=this.params.suggest;return t.on({out:function(t,e){this.a11yDeactive(),this._changeValueByEvent(t,e)}},this),BEM.blocks["suggest2-item"].on(t.domElem,{tpah:this._onSuggestItemTpah,select:this._onSuggestItemSelect,enter:this._onSuggestItemEnter},this),this},_onSuggestItemTpah:function(t,e){this._changeValueByEvent(t,e),this.moveCaretToEnd()},_onSuggestItemSelect:function(t,e){"link"!==t.block.getMod("interact")&&(this._changeValueByEvent(t,e),this.moveCaretToEnd())},_onSuggestItemEnter:function(t,e){this.a11yActive(e.id),e.byKeyboard&&this.params.updateOnEnterByKeyboard&&(this._changeValueByEvent(t,e),this.moveCaretToEnd())},unbindAllEvents:function(){return this._input.domElem&&this._bindedEventsNames.forEach((function(t){var e=this._eventsFilter(t);e[e instanceof BEM.DOM?"un":"off"](t)}),this),this._bindedEventsNames=[],this.params.suggest.un("out"),this},a11yActive:function(t){this.getControl().attr("aria-activedescendant",t)},a11yDeactive:function(){this.getControl().removeAttr("aria-activedescendant")},_eventsFilter:function(t){return-1!==["blur","focus","change","clear"].indexOf(t)?this._input:this.getControl()},_changeValueByEvent:function(t,e){var n=e&&e.val!==undefined?e.val:this.realVal();this.val(n,$.extend({block:t.block.__self.getName(),event:t.type},e))}})},9424:function(){BEM.DOM.decl({block:"suggest2-item",modName:"interact",modVal:"link"},{onSelect:function(t){var e=this;e.__base.apply(e,arguments);var n=e.elem("link");if(t||"_self"===n.attr("target"))return function(){e._locationChange(n.attr("href"))}},_locationChange:function(t){window.location=t},valOnSelect:function(){return!1}})},2746:function(){BEM.DOM.decl({block:"suggest2-item",modName:"personal",modVal:"yes"},{onSetMod:{js:{inited:function(){this._catchEvents&&this._crossCatchHandler&&this.bindTo("cross",this._catchEvents,this._crossCatchHandler),this.historyElem=this.elem("text").text()}}},val:function(){return this.params.val?this.params.val:this.elem("text").text()},remove:function(t){var e=this;this.domElem.one("webkitTransitionEnd transitionend",(function(){e.domElem.remove(),t&&t()})),this.domElem.css("height",0)}})},6874:function(){BEM.DOM.decl("suggest2-item",{val:function(){if(this.params.val!==undefined)return this.params.val;var t=this.elem("text");return(t.length?t:this.domElem).text()},valOnSelect:function(){return this.val()},valOnEnter:function(){return this.val()},valOnLeave:function(){return this.val()},onEnter:function(t){return this.setMod("selected","yes").triggerEvent("enter",{val:this.valOnEnter(),byKeyboard:t})},onLeave:function(t){return this.domElem?this.delMod("selected").triggerEvent("leave",{val:this.valOnLeave(),byKeyboard:t}):this},onSelect:function(t){this.triggerEvent("select",{val:this.valOnSelect(),byKeyboard:t})},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")},triggerEvent:function(t,e){return this.trigger(t,{val:e.val,id:this.domElem.attr("id"),show:!1,byKeyboard:e.byKeyboard})}},{live:function(){return this.liveBindTo("pointerpress",(function(t){this.hasMod("disabled")||this._onPointerpress(t)})),this.__base()}})},8952:function(){BEM.decl("suggest2-model",{onSetMod:{js:{inited:function(){this._requests=[]}}},destruct:function(){this._provider&&this._provider.destruct(),this.__base.apply(this,arguments)},getProvider:function(){return this._provider||(this._provider=this.setProvider(this.params)),this._provider},setProvider:function(t){return this._provider=BEM.create({block:"suggest2-provider",mods:t.providerMods||{}},t),this._provider},getCancelRequestConditions:function(){return[{block:"suggest2",show:!1},{block:"suggest2",event:"select"},{block:"suggest2-item",event:"select"},{block:"suggest2",event:"out"},{block:"suggest2-item",show:!1},{block:"suggest2-popup",event:"hide"},{suggest:!1},{source:"sample"}]},request:function(t,e,n,i){var o=this,s={val:t,caretPosition:e,reqId:i,data:n};o._requests.push(s);var r=o._isNeedRequest(t,n);return r.need?(s.requestTime=(new Date).getTime(),o.lastSendedRequest=s,o.trigger("request",{val:t,pos:e,request:s}),o.getProvider().get(t,e,i,(function(t,e,n,i){s.responseTime=(new Date).getTime(),$.extend(s,{duration:s.responseTime-s.requestTime,error:n.error,fromCache:i,itemsCount:n.items?n.items.length:0}),o._onResponse(t,e,n,s);var r=o._requests[o._requests.length-1];o.params.sequentialQueriesTimeout&&r&&r.val!==t&&o.request(r.val,r.caretPosition,r.data)})),o):o.trigger("reject",{val:t,pos:e,code:r.code,reason:r.reason||{}})},isTimeInRequestInterval:function(t){for(var e=this._requests.length-1;e>=0;e--)if(t>this._requests[e].requestTime&&t<this._requests[e].responseTime)return!0;return!1},filterRequestsByVal:function(t){this._requests=this._requests.filter((function(e){return e.val===t}))},_isNeedRequest:function(t,e){if(""===t&&!this.params.requestOnEmptyInput)return{need:!1,code:2};var n;if(this.lastSendedRequest&&this.lastSendedRequest.val===t)return{need:!1,code:4};if(this.params.sequentialQueriesTimeout)for(n=this._requests.length-1;n>=0;n--){var i=this._requests[n];if(i.responseTime===undefined&&(new Date).getTime()-i.requestTime<this.params.sequentialQueriesTimeout)return{need:!1,code:3,reason:{request:i}}}if(!e)return{need:!0};var o,s=this.getCancelRequestConditions();t:for(n=0;n<s.length;n++){for(var r in o=s[n])if(o.hasOwnProperty(r)&&o[r]!==e[r])continue t;return{need:!1,code:1,reason:{condition:o}}}return{need:!0}},_onResponse:function(t,e,n,i){var o={val:t,pos:e,data:n||[],request:i};BEM.channel("suggest2").trigger("response",o),this.trigger("response",o)},reset:function(){this._requests=[],this.lastSendedRequest=null}})},3537:function(){BEM.decl({block:"suggest2-popup",modName:"for",modVal:"popup"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._popup.on("hide",(function(){BEM.blocks["suggest2-detect"].isPressedEscape()&&this.trigger("hide",{})}),this)}}},_setPosition:function(){this._popup.show(this.params.owner)},_doHide:function(){this._popup.hide()},isShown:function(){return!!this._popup&&this._popup.isShown()}})},5625:function(){BEM.decl("suggest2-popup",{onSetMod:{js:{inited:function(){this._popup=this.params.popup,this._popupContent=this.params.popupContentElem&&this._popup.findElem(this.params.popupContentElem),this.bindSuggestEvents()}}},show:function(t){return this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null),this._popup.domElem?(t&&this.setContent(t),this.isShown()||(this.trigger("preshow"),this._setPosition(),this.trigger("show")),this):this},_setPosition:function(){throw new Error("Этот метод должен быть переопределен в модификаторе _for")},hide:function(t){var e=this;return e.isShown()&&!e.hideTimeout&&(e.hideTimeout=setTimeout((function(){e._doHide(),e.trigger("hide",t||{}),e.hideTimeout=null}),300)),e},_doHide:function(){throw new Error("Этот метод должен быть переопределен в модификаторе _for")},setContent:function(t){return this._popupContent?BEM.DOM.update(this._popupContent,t):this._popup.setContent(t),this},isShown:function(){throw new Error("Этот метод должен быть переопределен в модификаторе _for")},owner:function(t){return t?(this.params.owner=t,this):this.params.owner},get:function(){return this._popup},width:function(t){return t===undefined?this._popup.domElem.outerWidth():(this._popup.domElem.outerWidth(t),this)},destruct:function(){this._popup&&(this.unbindAllEvents(),this.__base.apply(this,arguments))},bindSuggestEvents:function(){return this.params.suggest.on({select:this._onSuggestSelect,update:this._onSuggestUpdate},this),this},_onSuggestSelect:function(t,e){this.hide(e)},_onSuggestUpdate:function(t,e){e.items.length||this.hide({response:"empty"})},unbindAllEvents:function(){return this.params.suggest.un("select").un("update"),this}})},1315:function(){BEM.decl({block:"suggest2-provider",modName:"history",modVal:"yes"},{getRequestData:function(t,e,n){return $.extend(this.__base.apply(this,arguments),{hs:BEM.DOM.blocks["suggest2-history"].getState()})}})},8356:function(){BEM.decl("suggest2-provider",{getDefaultParams:function(){return{cache:!1,type:"GET",dataType:"jsonp",timeout:2e3}},_cachedResponses:Object.create?Object.create(null):{},_cachingTime:6e4,_lastQuery:null,get:function(t,e,n,i){"function"==typeof n&&(i=n,n=undefined);var o=this,s=o.params.abortQueries,r="jsonp"===this.params.dataType,a=o._extendParamsData(o.getRequestData(t,e,n));i=i.bind(o,t,e),s&&null!==o._lastQuery&&o._lastQuery.abort(),o._lastQuery=$.ajax(a).done((function(t){i(o.convert(t),o._validateCache(this.url))})).fail((function(t,e){!s&&!r&&i({error:e||"error"})}))},convert:function(t){return{orig:t[0],items:t[1],meta:t[2]}},getRequestData:function(t,e,n){return $.extend({part:t,pos:e},n&&{suggest_reqid:n},BEM.blocks["suggest2-detect"].isSupportInlineSVG()&&{svg:1})},getRequestUrl:function(){return this.params.url},_extendParamsData:function(t){return this.params.url=this.getRequestUrl(),this.params.data=$.extend(this.params.data||{},t),this.params.traditional=!0,this.params},_validateCache:function(t){var e=Boolean(this._cachedResponses[t])&&this._cachedResponses[t]>Date.now();return!e&&this._addToCache(t),e},_addToCache:function(t){this._cachedResponses[t]=Date.now()+this._cachingTime,setTimeout(function(){this._cachedResponses[t]=undefined}.bind(this),this._cachingTime)}})},1789:function(){BEM.decl({block:"suggest2-view",modName:"advanced",modVal:"yes"},{_getItemByType:function(t,e,n,i){var o=i.js,s=i.content,r=t[1];switch(n){case"html":o.val=r,s.push(e.body);break;case"bemjson":o.val=r,s.push.apply(s,Array.isArray(e.bemjson)?e.bemjson:[e.bemjson])}return this.__base.apply(this,arguments)}})},8446:function(){BEM.decl("suggest2-view",{html:function(t,e){return BEMHTML.apply(this.build(t,e))},build:function(t,e){return{block:"suggest2",elem:"content",elemMods:{theme:"normal"},content:this.buildItems(t,e)}},buildItems:function(t,e){return t.reduce(function(t,e){return t.push(this.buildItem(e)),t}.bind(this),[])},buildItem:function(t){var e=this.__self._getPrefs(t),n=this.__self._getType(t,e),i="html"===n||"bemjson"===n?{}:{type:n};return this._getItemByType(t,e,n,{text:{elem:"text",content:this.__self._highlight(this.__self._getText(t,e),e)},mods:i,js:e.js||{},props:{},content:[]})},_getItemByType:function(t,e,n,i){var o=i.text,s=i.mods,r=i.js,a=i.props,c=i.content;0===c.length&&c.push(o),this.__self._getPersonal(e)&&(s.personal="yes",c.push({elem:"spacer"},{elem:"cross",elemMods:{type:"delete"}})),e.url&&(s.interact="link",a.url=this.__self._resolveUrl(e.url),e.target&&(a.target=e.target)),e.search_cgi&&(r.searchCGI=e.search_cgi),e.attrs&&(a.attrs=e.attrs);var l,u=BEM.blocks["i-global"];return"nav"===n?l="object"==typeof t[5]?t[5].counter:t[5]:"bemjson"===n&&(l=e.counter),l&&(r.safeclickUrl=(u.param("click-host")+l).split("/*/").join("/reqid="+u.param("reqid")+"/path=695.770/vars=-js-ready=1/*/")),$.extend({block:"suggest2-item",mods:s,js:r,content:c},a)}},{_getPrefs:function(t){if(!Array.isArray(t))return{};var e=t[t.length-1];return $.isPlainObject(e)?e:{}},_getType:function(t,e){return Array.isArray(t)&&t[0]||"text"},_getText:function(t){return Array.isArray(t)?t[1]:t},_highlight:function(t,e){if(!e.hl)return t;var n,i=e.hl.sort((function(t,e){return t[0]-e[0]})).filter((function(t){return t[0]>=0})),o=[],s=0;return i.length?(i.forEach((function(e){n=s>e[0]?s:e[0],o.push(t.slice(s,n)),o.push({elem:"highlight",content:t.slice(n,s=e[1])})}),this),o.push(t.slice(s)),o.filter((function(t){return t}))):t},_resolveUrl:function(t){return(/[\/]{2}/.test(t)?"":"http://")+t},_getPersonal:function(t){return Boolean(t.pers)},_getPersonalProps:function(t){var e={pers:1};return t&&(e.label=t),e}})},9320:function(){BEM.DOM.decl({block:"suggest2",modName:"adaptive",modVal:"yes"},{init:function(){this.__base.apply(this,arguments),this._boundResizeHandler=this._resizeHandler.bind(this),this.__self._bindToWinResize(this._boundResizeHandler)},_resizeHandler:function(){this._popup.width(this.getPopupWidth())},destruct:function(){this.__self._unbindFromWinResize(this._boundResizeHandler),this._boundResizeHandler=null,this.__base.apply(this,arguments)}},{_resizeCallbacks:[],_bindToWinResize:function(t){return this._resizeCallbacks.push(t),this},_unbindFromWinResize:function(t){for(var e=0;e<this._resizeCallbacks.length;e++)if(this._resizeCallbacks[e]===t)return this._resizeCallbacks.splice(e,1),this;return this},_getResizeCallback:function(){return $.throttle((function(){var t=arguments;this._resizeCallbacks.forEach((function(e){e.apply(this,t)}),this)}),300,this)},live:function(){return this._resizeCallback=this._getResizeCallback(),BEM.DOM.win.on("resize",this._resizeCallback),this.__base()}})},2595:function(){BEM.DOM.decl({block:"suggest2",modName:"history",modVal:"yes"},{init:function(){return this.__base.apply(this,arguments),this._history=this.findBlockOn("suggest2-history"),this._historyData=this._history.getData(),this._history.on("update",this._onUpdate,this),this._boundAfterDomElemRemove=this._afterDomElemRemove.bind(this),this._updateHistory(),BEM.DOM.blocks["suggest2-item"].on(this.domElem,"delete",this._deleteHistoryItem,this),this},unbindAllEvents:function(){this._history.un("update"),this.__base.apply(this,arguments)},getDefaultParams:function(){return $.extend(this.__base(),{needRequestWithHistory:!1})},_onUpdate:function(t,e){this._historyData=e,this._updateHistory()},_updateHistory:function(){this._historyItems=this._getHistoryItems(),this._historyHtml=null},_deleteHistoryItem:function(t){var e=t.block.historyElem;$.ajax({url:this.params.deleteHistoryUrl+encodeURIComponent(e),method:"GET",dataType:"json",xhrFields:{withCredentials:!0}}).then(this._afterQueryRemove.bind(this,e,t.block))},_afterQueryRemove:function(t,e,n){BEM.DOM.blocks["suggest2-history"].updateState(),(this._findAndRemove(this._historyData.running,t)||this._findAndRemove(this._historyData.other,t))&&this._updateHistory(),e.remove(this._boundAfterDomElemRemove)},_afterDomElemRemove:function(){""===this._input.val()&&0===this._historyItems.length&&(this._model.reset(),this._doRequest())},_findAndRemove:function(t,e){var n=t.indexOf(e);return n>=0&&(t.splice(n,1),!0)},setItems:function(){if(!1===this._isShowHistory())return this.__base.apply(this,arguments)},_doRequest:function(){this._isShowHistory()?(this._showHistory(),this.params.needRequestWithHistory?this.__base.apply(this,arguments):this._model.reset()):this.__base.apply(this,arguments)},_isShowHistory:function(){return this._historyData&&""===this._input.val()&&this._historyItems.length>0},_showHistory:function(){this._historyHtml||(this._historyHtml=this._view.html(this._historyItems,{historyMod:!0})),this._popup.show(this._historyHtml),this._items=this.findBlocksInside("suggest2-item")},_getHistoryItems:function(){var t=this._generateItems(this._historyData.running),e=this._historyData.other&&this._historyData.other.length>0?this._generateItems(this._historyData.other,BEM.I18N("suggest2","on_other_devices")):[];return e.length>0?t.concat(e):t},_generateItems:function(t,e){var n=this._view.__self._getPersonalProps(e),i=this._getPersonalItemType();return(t||[]).map((function(t){return[i,t,n]}))}})},2192:function(){BEM.DOM.decl("suggest2",{onSetMod:{js:{inited:function(){this.params.form||this.findBlockOutside("suggest2-form"),this._lastSubmitTime=0,this._lastBlurTime=0,this._clear()}}},_bodyHandler:function(t){if(!this._isDestructing){var e=$(t.target);this.containsDomElem(e)||this.params.form.containsDomElem(e)||(this._freezeInputFocus=!1)}},getDefaultParams:function(){return{submitBySelect:!1,updateOnEnterByKeyboard:!0,onFocus:"request",requestOnEmptyInput:!1,abortQueries:!1,sequentialQueriesTimeout:!1}},destruct:function(){this.unbindAllEvents(),this.__base.apply(this,arguments)},init:function(){var t=this;t.params.form.on("submit",(function(e,n){t._lastSubmitTime=(new Date).getTime(),t._isActualSearchCGIParams?t._isActualSearchCGIParams=!1:"suggest2-counter"!==n.data.block&&!1!==n.data.prevent&&this.removeHiddenInputs(),t._clear(),t._model.reset(),t._popup.hide()})),t._input=t.params["suggest2-input"],t._popup=t.params["suggest2-popup"],t._inputValue=t._input.val(),t._model=t.initModel(),t._view=t.initView(),t._counter=t.initCounter(),t._model.on({response:this.setItems,reject:function(e,n){2===n.code&&(t._popup.hide(),t._clear())}},t),t.bindToDoc("pointerclick",t._bodyHandler),t.bindEvents(),this._input.isFocused()&&this._doRequest();var e=BEM.blocks["i-ua"]&&BEM.blocks["i-ua"].ua.toLowerCase();return e&&e.indexOf("mozilla/5.0")>-1&&e.indexOf("android ")>-1&&e.indexOf("applewebkit")>-1&&!(e.indexOf("chrome")>-1)&&t.setMod("old-flex",!0),t},initModel:function(){return BEM.create("suggest2-model",this.params)},getModel:function(){return this._model},initView:function(t,e){var n=this.getMod("type");return t=$.extend(t,this.params.viewMods||{}),"simple"!==n&&"all"!==n||(t.simple="yes"),"advanced"!==n&&"all"!==n||(t.advanced="yes"),BEM.create({block:"suggest2-view",mods:t||{}},e||{})},getView:function(){return this._view},initCounter:function(){return this.params.counter?this.params.counter.initValues().bindEvents():undefined},getCounter:function(){return this._counter},setDataConverter:function(t){return this.getModel().getProvider().convert=t,this},setRequestData:function(t){return this.getModel().getProvider().getRequestData=t,this},setRequestUrl:function(t){return this.getModel().getProvider().getRequestUrl=t,this},setOwner:function(t){return this._popup.owner(t),this},bindEvents:function(){var t=this;return t._input.bindEvents({change:t._onChange,focus:t._onFocus,blur:t._onBlur},t),t._popup.on({preshow:function(){t.trigger("preshow")},show:function(){t._onShow()},hide:function(e,n){t._onHide(n)}}),t.params.form&&t.params.form.on("button-press",t._onSearchButtonMousedown,t),BEM.blocks["suggest2-item"].on(t.domElem,{"link-click":function(e,n){t._counter&&"_self"===$(n.domEvent.target).attr("target")&&n.domEvent.preventDefault()}}),t},_onShow:function(){this.trigger("show")},_onHide:function(t){this.trigger("hide",t)},_onSearchButtonMousedown:function(){this._input.realVal(this._input.val()),this._popup.hide()},unbindAllEvents:function(){var t=this;return t.unbindFromDoc("pointerclick"),t._input.unbindAllEvents(),t.params.form.un("submit"),t._model.un("response").un("reject"),t._popup.un("preshow").un("show").un("hide"),t.params.form&&t.params.form.un("button-press",t._onSearchButtonMousedown,t),t},setItems:function(t,e){var n=this,i=e.data.items||[];return n._isFormSubmitDurinQuery()||!i.length?(n._popup.hide(),n._clear()):this.params.sequentialQueriesTimeout||n._input.val()===e.val?(n._text=e.val,n._pos=e.pos,n._meta=e.data.meta||{},n._popup.show(n._view.html(i,n._meta)).width(n.getPopupWidth()),n._items=n.findBlocksInside("suggest2-item"),n._clearItems().trigger("update",{val:n._text,pos:n._pos,items:n._items}),n):n._clear()},getItems:function(){return this._items||[]},isBlur:function(){return this._isBlur&&!this._isMouseDown},getPopupWidth:function(){},getInputWidth:function(){return 0},isNeedSubmitFormOnSelectItem:function(t){return this.params.submitBySelect&&"link"!==t.getMod("interact")},_isFormSubmitDurinQuery:function(){return!!this._lastSubmitTime&&(this._model.filterRequestsByVal(this._input.realVal()),this._model.isTimeInRequestInterval(this._lastSubmitTime))},_onChange:function(t,e){this._inputValue!==this._input.val()&&(this._inputValue=this._input.val(),this._doRequest(e))},_doRequest:function(t){var e=this.getCounter();this._model.request(this._input.realVal(this._input.val()),this._input.getCaretPosition(),t,e&&e.getCurrentReqId())},_onFocus:function(){!this._popup.isShown()&&this._isBlur&&this.params.onFocus&&this._isLastBlurTimeLater(50)&&(this.getItems().length&&this._input.val()===this._text?(this._clearItems(),this._popup.show()):this._isMouseDown||"request"!==this.params.onFocus||this._doRequest())},_onBlur:function(){this._isBlur?(this._clear(),this._popup.hide()):this._freezeInputFocus?(this._clear(),this._input.focus()):this._isMouseDown&&this._input.focus(),this._lastBlurTime=(new Date).getTime(),this._isBlur=!0},_getItemIndex:function(t){return this.getItems().indexOf(t)},_clear:function(){return this._isBlur=!0,this._freezeInputFocus=!1,this._clearItems()},_clearItems:function(){return this._isMouseDown=!1,this._enterItemIndex=-1,this._unselectItems()},_isLastBlurTimeLater:function(t){return(new Date).getTime()-this._lastBlurTime>t},_unselectItems:function(t){var e=t?[].slice.call(arguments):this.getItems();return e.forEach((function(t){t.onLeave()})),this},_onSelectItem:function(t,e){var n=this,i=n._getItemIndex(t),o=t.onSelect(e),s=t.valOnSelect();return n._text=n._input.realVal(s),n._isBlur=!0,n._freezeInputFocus=!1,n._setSearchCGIParams(t),n.trigger("select",{val:n._text,pos:n._pos,item:t,meta:n._meta,itemIndex:i,byKeyboard:e,callbackOnSelect:o}),!1!==s&&(n._items=[],this.isNeedSubmitFormOnSelectItem(t)&&n.params.form.submit()),i},_isActualSearchCGIParams:!1,_setSearchCGIParams:function(t){this.params.form.removeHiddenInputs(),t.params.searchCGI&&(this._isActualSearchCGIParams=!0,this.params.form.appendHiddenInputs(t.params.searchCGI.map((function(t){return{name:t[0],value:t[1]}}))))},_onDownItem:function(){this._isBlur=!1,this._isMouseDown=!0}})},2585:function(){BEM.DOM.decl("tabs-panes",{onElemSetMod:{pane:{active:{yes:function(t,e,n){var i=this.findPane("active","yes");i.attr("aria-expanded",!1),t.attr("aria-expanded",!0),this.delMod(i,"active")}}}},_onControlChange:function(t,e){-1!==e.currentIndex?this.setMod(this.findPane().eq(e.currentIndex),"active","yes"):this.delMod(this.findPane().eq(e.prevIndex),"active")},findPane:function(t,e){return this.domElem.children(this.buildSelector("pane",t,e))}},{getSupportedControls:function(){return["tabs"]},live:function(){this.getSupportedControls().forEach((function(t){BEM.blocks[t]&&this.liveInitOnBlockEvent("change",t,(function(t,e){this._onControlChange(t,e)}))}),this)}})},8986:function(){BEM.DOM.decl("tabs",{getCount:function(){return this.elem("tab").length},activate:function(t){return this},deactivate:function(){return this},getActive:function(){return-1},disable:function(t){return this},enable:function(t){return this},isDisabled:function(t){},_onControlChange:function(t,e){}},{getSupportedControls:function(){return["tabs-menu","radio-button"]},live:function(){this.getSupportedControls().forEach((function(t){BEM.blocks[t]&&this.liveInitOnBlockInsideEvent("change",t,(function(t,e){this._onControlChange(t,e)}))}),this)}})},3367:function(){!function(){var t=Object.prototype.toString;function e(e){return"[object Object]"===t.call(e)}function n(t,i,o){var s,r;for(s in t=Object(t),i=Object(i))(r=o&&o(t[s],i[s],s))!==undefined?t[s]=r:e(t[s])&&e(i[s])?t[s]=n(t[s],i[s],o):t[s]=i[s];return t}$.extend($.util,{merge:n,mergeBemjson:function(t,e){return n(t,e,(function(t,e,n){if("mix"===n)return[].concat(t,e)}))}})}()},3221:function(){$.extend({util:{}})},5814:function(){BEM.decl("suggest2-view",{},{_getGroupType:function(t,e){return t.pers?"nah":-1!==["nav"].indexOf(e)?e:"text"},_getTextLabel:function(t){return BEM.I18N("suggest2",t)}})},1424:function(){BEM.DOM.decl({block:"suggest2",modName:"adaptive",modVal:"yes"},{_minWidth:0,_maxWidth:0,_resizeHandler:function(){this.__base.apply(this),this.afterCurrentEvent((function(){this.adjustView()}))},_onShow:function(){this.__base.apply(this),this.hasMod("theme","large")&&this._applyMetricsToContent()},adjustView:function(){var t=this.__base.apply(this,arguments),e=t.minWidth,n=t.maxWidth,i=!1;return e!==this._minWidth&&(this._minWidth=e,i=!0),n!==this._maxWidth&&(this._maxWidth=n,i=!0),i&&this._popup.isShown()&&this._applyMetricsToContent(),t},_applyMetricsToContent:function(){this.__base.apply(this,arguments);var t=this.findElem("content");this._minWidth&&t.css("min-width",this._minWidth),this._maxWidth&&t.css("max-width",this._maxWidth)}})},399:function(){BEM.DOM.decl("suggest2",{getInputLeft:function(){return 0},getInputWidth:function(){return 0},getContainerWidth:function(){return 0},getMetrics:function(){var t=this.getInputLeft(),e=this.getInputWidth(),n=this.getContainerWidth()-t;return{marginLeft:t,minWidth:e>=n?n:e,maxWidth:n}},adjustView:function(){return this.getMetrics()},_resizeHandler:function(){}})},6564:function(){BEM.DOM.decl({name:"b-menu-horiz",baseBlock:"i-menu"})},1425:function(){BEM.DOM.decl("button",{onSetMod:{focused:{yes:function(){if(this.isDisabled())return!1;this.bindToWin("unload",(function(){this.delMod("focused")})).bindTo("keydown",this._onKeyDown),this._isControlFocused()||this._getControl().focus(),this.trigger("focus")},"":function(){var t=BEM.blocks["i-ua"].opera<13;this.unbindFromWin("unload").unbindFrom("keydown"),(t||document.hasFocus())&&this._isControlFocused()&&this._getControl().blur(),this.trigger("blur")}},disabled:function(t,e){this.__base.apply(this,arguments),e&&(this.delMod("focused"),this.domElem.keyup())},hovered:function(t,e){if(this.isDisabled())return!1;!e&&this.delMod("pressed")},pressed:function(){return this.isDisabled()||this.setMod("focused","yes"),this.__base.apply(this,arguments)}},_getControl:function(){return this.elem("control").length&&this.elem("control")||this.domElem},_isControlFocused:function(){return this.containsDomElem($.dom.getActiveElement())},_onKeyDown:function(t){var e=BEM.blocks.keycodes,n=t.keyCode;!this._keyDowned&&e.is(n,"ENTER","SPACE")&&(this._keyDowned=!0,this.setMod("pressed","yes").bindTo("keyup",(function(){this.delMod("pressed").unbindFrom("keyup"),delete this._keyDowned,n===e.SPACE&&this.domElem.attr("href")&&(document.location=this.domElem.attr("href"))})))},destruct:function(){this.delMod("focused"),this.__base.apply(this,arguments)}},{live:function(){return this.liveBindTo("pointerover pointerout",(function(t){this.isDisabled()||this.domElem[0].contains(t.relatedTarget)||this.toggleMod("hovered","yes","pointerover"===t.type)})).liveBindTo("focusin focusout",(function(t){this.toggleMod("focused","yes","focusin"===t.type)})),8===BEM.blocks["i-ua"].ie&&this.liveBindTo("mouseup mouseout",(function(t){this.domElem.height()})),this.__base()}})},1136:function(){BEM.DOM.decl("button2",{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("hovered")}}},_onPointerenter:function(){this.setMod("hovered","yes")},_onPointerleave:function(){this.delMod("hovered")},_onClick:function(){this.__base.apply(this,arguments),this._isDestructing||this.setMod("focused","yes")}},{live:function(){return 8===BEM.blocks["i-ua"].ie&&this.liveBindTo("dblclick",(function(t){this.hasMod("disabled")||this._onClick(t)})),this.liveBindTo("pointerover pointerout",(function(t){this.hasMod("disabled")||this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))})).liveBindTo("mousedown",(function(t){t.preventDefault()})),this.__base()}})},7478:function(){BEM.DOM.decl("header",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.bindToWin("resize",$.throttle(this._onResize,150)),this._collapseUserIfNeeded()}}},_onResize:function(){this._collapseUserIfNeeded()},_onUserUpdatesName:function(){this._collapseBreakpoint=null,this._collapseUserIfNeeded()},_collapseUserIfNeeded:function(){var t=this._getUser();t&&t.toggleCollapsed(this._getCollapseBreakpoint()>=this.elem("nav").width())},_getCollapseBreakpoint:function(){return this._collapseBreakpoint||(this._collapseBreakpoint=this._getNavItemsWidth()+this.__self.NAV_ITEMS_GAP),this._collapseBreakpoint},_getNavItemsWidth:function(){var t=0;return this.elem("nav").children().each((function(){t+=$(this).outerWidth(!0)})),t},_getUser:function(){return this._user?this._user._isDestructing&&(this._collapseBreakpoint=null,this._user=this.findBlockInside("user")):(this._user=this.findBlockInside("user"),this._user&&this._user.on("update-name",this._onUserUpdatesName,this)),this._user}},{NAV_ITEMS_GAP:10,live:!1})},3067:function(){!function(t,e,n){var i=t.INTERNAL,o=i.ELEM_DELIM,s={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1},r=i.buildClass,a=i.buildClasses,c={};function l(t,e,n){(t[e]||(t[e]=[])).unshift(n)}function u(t,e){return e.modName?function(n){(n._curBlock.mods||{})[e.modName]===e.modVal&&t(n)}:t}function h(t,n){var i,o=e.isArray(n);return e.isArray(t)?o?i=t.concat(n):(i=t).push(n):o?(i=n).unshift(t):i=[t,n],i}var d={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"},f=/["&<>]/g;t.HTML={decl:function(t,n){"string"==typeof t&&(t={block:t}),t.name&&(t.block=t.name);var i=c[t.block]||(c[t.block]={});n.onBlock&&l(i,"_block",u(n.onBlock,t)),n.onElem&&(e.isFunction(n.onElem)?l(i,"_elem",u(n.onElem,t)):e.each(n.onElem,(function(e,n){l(i,"_elem"+("*"===e?"":o+e),u(n,t))})))},build:function(t){var e=new this.Ctx(t);return e._buildAll(),e._flush()},Ctx:e.inherit({__constructor:function(t){this._buffer=[],this._params=t,this._tParams=null,this._tParamsChanges=null,this._curBlock=undefined},pos:function(){return this._params._pos},isFirst:function(){return 1===this._params._pos},isLast:function(){var t=this._params;return t._pos===t._siblingsCount},params:function(t){var e=this;return void 0===t?e._params:(e._params=t,e)},param:function(t,n,i,o){var s=this._params;return void 0===n?s[t]:(i||!(t in s)?s[t]=n:o&&(s[t]=e.extend(n,s[t])),this)},attrs:function(t,e){return this.param("attrs",t,e,!0)},attr:function(t,e,n){var i=this;if(void 0===e)return(i._params.attrs||{})[t];var o=i._params.attrs;return o?(n||!(t in o))&&(o[t]=e):(i._params.attrs={})[t]=e,i},tag:function(t,e){return this.param("tag",t,e)},cls:function(t,e){return this.param("cls",t,e)},mods:function(t,e){return this.param("mods",t,e,!0)},mod:function(t,e,n){var i=this;if(void 0===e)return(i._params.mods||{})[t];var o=i._params.mods;return o?(n||!(t in o))&&(o[t]=e):(i._params.mods={})[t]=e,i},mix:function(t,e){var n=this._params;return void 0===t?n.mix:(n.mix=e||!("mix"in n)?t:n.mix.concat(t),this)},js:function(t){return this.param("js",t)},content:function(t,e){return this.param("content",t,e)},wrapContent:function(t){var e=this._params;return t.content=e.content,e.content=t,this},beforeContent:function(t){var e=this._params;return e.content=h(t,e.content),this},afterContent:function(t){var e=this._params;return e.content=h(e.content,t),this},wrap:function(t){var e=this,n=e._params;return t.block||(t._curBlock=e._curBlock),t.content=n._wrapper?n._wrapper:n,n._wrapper=t,e},tParam:function(t,e){var n=this,i=n._tParams||(n._tParams={});if(void 0===e)return i[t];var o=n._tParamsChanges||(n._tParamsChanges={});return t in o||(o[t]=i[t]),i[t]=e,n},generateId:function(){return e.identify()},stop:function(){this._params._isStopped=!0},_buildAll:function(){var t=this,n=t._buffer,i=t._params,o=typeof i;if("string"===o||"number"===o)n.push(i);else if(e.isArray(i))for(var s,r,a=0,c=i.length;a<c;)t._params=s=i[a++],"string"==(r=typeof s)||"number"===r?n.push(s):s&&(s._pos=a,s._siblingsCount=c,t._buildByDecl());else i&&(t._params._pos=t._params._siblingsCount=1,t._buildByDecl())},_build:function(){var t,n=this,i=n._buffer,o=n._params,c=o.tag||"div",l=o.block||o.elem,u=l&&(o.block||n._curBlock.block),h=!1;o.js&&((t={})[r(u,o.elem)]=!0===o.js?{}:o.js,h=!o.elem),i.push("<",c),(l||o.cls)&&(i.push(' class="'),l&&(a(u,o.elem,o.mods,i),o.mix&&e.each(o.mix,(function(e,n){n&&(i.push(" "),a(n.block,n.elem,n.mods,i),n.js&&((t||(t={}))[r(n.block,n.elem)]=!0===n.js?{}:n.js,h||(h=!n.elem)))}))),o.cls&&i.push(l?" ":"",o.cls),h&&i.push(" i-bem"),i.push('"')),t&&i.push(' onclick="return ',JSON.stringify(t).replace(f,(function(t){return d[t]})),'"'),o.attrs&&e.each(o.attrs,(function(t,e){null!=e&&!1!==e&&i.push(" ",t,'="',e.toString().replace(/"/g,"&quot;"),'"')})),s[c]?i.push("/>"):(i.push(">"),"undefined"!=typeof o.content&&(n._params=o.content,n._buildAll()),i.push("</",c,">"))},_flush:function(){var t=this._buffer.join("");return delete this._buffer,t},_buildByDecl:function(){var t=this,n=t._curBlock,i=t._params;if(i._curBlock&&(t._curBlock=i._curBlock),i.block&&(t._curBlock=i),!i._wrapper){if(i.block||i.elem){var s,r=c[t._curBlock.block];if(r&&(i.elem?(s=r["_elem"+o+i.elem],r._elem&&(s=s?s.concat(r._elem):r._elem)):s=r._block,s))for(var a,l=0;(a=s[l++])&&(a(t),!i._isStopped););}if(i._wrapper)return i._curBlock=t._curBlock,t._params=i._wrapper,t._buildAll()}var u=t._tParamsChanges;if(t._tParamsChanges=null,t._build(),t._curBlock=n,u){var h=t._tParams;e.each(u,(function(t,e){void 0===e?delete h[t]:h[t]=e}))}}})}}(BEM,jQuery)},9745:function(){BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var t=this.elem("control"),e=$.dom.getActiveElement(),n=this.params.autoFocus&&!e.is("input, textarea");(e[0]===t[0]||n)&&(this.setMod("focused","yes")._focused=!0),this.params.shortcut&&this.bindToDoc("keydown",(function(t){t.ctrlKey&&t.which===BEM.blocks.keycodes.UP&&!$(t.target).is("input, textarea")&&this.setMod("focused","yes")}))}}},_focus:function(){if(!1===this.__base())return!1;var t=this.elem("control")[0];if(t.createTextRange&&!t.selectionStart){var e=t.createTextRange();e.move("character",t.value.length),e.select()}},destruct:function(){this.params.shortcut&&this.unbindFromDoc("keydown"),this.__base.apply(this,arguments)},_onPointerenter:function(t){this.setMod("hovered","yes")},_onPointerleave:function(t){this.delMod("hovered")},_updateValNextTick:function(){this.afterCurrentEvent((function(){this.domElem&&this._updateVal()}))}},{live:function(){return this.liveBindTo("box","pointerover pointerout",(function(t){this.hasMod("disabled")||this.elem("box")[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))})),this.liveBindTo("control","dragenter"),this.liveBindTo("control","dragend",(function(){this._updateValNextTick()})),"documentMode"in document&&document.documentMode<=8&&(this.liveBindTo("control","focusin",(function(){this.bindTo("control","propertychange keyup",this._updateVal),this.bindTo("control","cut paste",(function(){this._updateValNextTick()}))})),this.liveBindTo("control","focusout",(function(){this.unbindFrom("control","cut paste"),this.unbindFrom("control","propertychange keyup"),this._updateValNextTick()}))),this.__base()}})},4854:function(){BEM.DOM.decl({block:"modal",modName:"theme",modVal:"normal"},{onSetMod:{visible:{yes:function(){this.setMod("has-animation","yes").__base.apply(this,arguments)}}}})},8995:function(){BEM.DOM.decl("modal",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._enforceRepaint=this._enforceRepaint.bind(this)}},visible:{yes:function(){this.__base.apply(this,arguments),window.attachEvent&&this.elem("content")[0].attachEvent("onresize",this._enforceRepaint)},"":function(){this.__base.apply(this,arguments),window.detachEvent&&this.elem("content")[0].detachEvent("onresize",this._enforceRepaint)}}},_enforceRepaint:function(){this.domElem[0].className+=""}})},6303:function(){BEM.DOM.decl("suggest2-counter",{bindEvents:function(){this.__base.apply(this,arguments);var t=this.params.suggest;return BEM.blocks["suggest2-item"].on(t.domElem,"pointerclick",this._onClickPopup.bind(this)),this}})},7206:function(){BEM.decl("suggest2-input",{onSetMod:{js:{inited:function(){var t=this;t.__base.apply(this,arguments),t.bindEvents({keydown:function(e){t._onKeyDown(e)}},t)}}},_onKeyDown:function(t){t.which===this.params.suggest.__self.keyboard.enter&&this.trigger("enter")}})},5947:function(){BEM.DOM.decl({block:"suggest2-item",modName:"personal",modVal:"yes"},{_catchEvents:"click",_crossCatchHandler:function(t){t.preventDefault(),t.stopImmediatePropagation(),this.trigger("delete")}})},9753:function(){BEM.DOM.decl("suggest2-item",{},{live:function(){return this.liveBindTo("mouseover mouseout mousedown pointerclick",(function(t){this.trigger("pointerclick"===t.type?"click":t.type,{domEvent:t})})).liveBindTo("link","pointerclick",(function(t){this.trigger("link-click",{domEvent:t})})),this.__base()}})},7382:function(){BEM.DOM.decl({block:"suggest2",modName:"history",modVal:"yes"},{_showHistory:function(){this.__base.apply(this,arguments),this._applyMetricsToContent()},_applyMetricsToContent:function(){this.__base.apply(this,arguments);var t=this.findElem("content");t.width(Math.min(t.width()+1,this._maxWidth))},_getPersonalItemType:function(){return"text"}})},5563:function(){BEM.DOM.decl("suggest2",{bindEvents:function(){var t=this;return t._input.bindEvents({keydown:t._onKeyDown,keyup:t._onKeyUp,keypress:t._onKeyPress,mousedown:function(){t._input.isFocused()&&t._onFocus()}},t),BEM.blocks["suggest2-item"].on(t.domElem,{mouseover:function(e){t._onEnterItem(e.block,!1)},mouseout:function(e,n){var i=e.block.domElem[0];i===n.relatedTarget||$.contains(i,n.relatedTarget)||t._onLeaveItem(e.block,!1)},mousedown:function(){t._onDownItem()},click:function(e){t._onSelectItem(e.block,!1)}}),t.__base.apply(t,arguments)},_onKeyDown:function(t){var e=this.__self.keyboard,n=t.which;!this._popup.isShown()||n!==e.up&&n!==e.down||(t.preventDefault(),this._enterByKeyboard(n))},_onKeyUp:function(t){var e=this.__self.keyboard;if(t.which!==e.left&&t.which!==e.right||(this.trigger("change-cursor-pos"),this._model.request(this._input.realVal(this._input.val()),this._input.getCaretPosition())),t.which===e.right&&-1!==this._enterItemIndex&&this._enterItemByKeyboard){var n=this._items[this._enterItemIndex];n&&this.trigger("ahead",{item:n,val:"link"===n.getMod("interact")?n.elem("text").text():n.val()})}},_onKeyPress:function(t){if(t.which===this.__self.keyboard.enter&&-1!==this._enterItemIndex&&this._enterItemByKeyboard){var e=this._items[this._enterItemIndex];e&&(t.preventDefault(),this._onSelectItem(e,!0))}},_enterByKeyboard:function(t){var e=t-39,n=this._items.length,i=this._enterItemIndex+e;if(-1===i||i===n)return this._enterItemIndex=i,this._unselectItems(this._items[i]),this.trigger("out",{val:this._text,byKeyboard:!0});i<0?i=n-1:i>=n&&(i=0),this._onEnterItem(this._items[i],!0)},_onEnterItem:function(t,e){this._enterItemIndex=this._getItemIndex(t),this._enterItemByKeyboard=e,this._unselectItems(),t.onEnter(e)},_onLeaveItem:function(t,e){this._clearItems()._unselectItems(t)}},{keyboard:{enter:13,left:37,up:38,right:39,down:40},live:function(){return this.liveBindTo("mousedown",(function(){this._onDownItem()})),this.__base()}})},8105:function(){!function(t,e){var n,i,o,s,r,a;function c(t){var n=i.call(e,"span");return n.innerText=String.fromCharCode(t),n}function l(t,e){return Math.round(t.offsetWidth*e)-1}t.Ya=t.Ya||{},t.Ya.F=t.Ya.F||{},t.Ya.F.calibrate=function(t,u){if(a=null,t){n=e.body,i=e.createElement,o=e.createDocumentFragment,s=n.appendChild,r=n.removeChild;var h=function(t){var n=i.call(e,"div"),o='position:absolute;left:0;top:0;width:1px;height:1px;opacity:0;overflow:hidden;font:1000px "'+t+'", serif;';n.setAttribute("style",o),n.setAttribute("aria-hidden","true");for(var r=0;r<4;r++)s.call(n,c(57344+r));return n}(t);s.call(n,h);var d=h.children,f=16/d[0].offsetWidth,p=l(d[1],f);if(1==p){var m=l(d[2],f),_=l(d[3],f),g=m+(_<<4);if(g<4)C(u,a);else{for(var v=o.apply(e),b=p+m+_,y=0;y<2*g+1;y++)s.call(v,c(57348+y));s.call(h,v);for(var w=[],E=4;E<4+2*g;E+=2){var k=l(d[E],f),M=l(d[E+1],f);w.push(k+(M<<4)),b+=k+M}if(l(d[E],f)==(15&b)){for(var x=0,B=0;B<w.length;B++)x+=w[B]*(1<<8*B);C(u,x)}else C(u,a)}}else C(u,a)}else C(u,a);function C(t,e){h&&(r.call(n,h),h=a),setTimeout((function(){t(e)}),0)}}}(window,document)},3107:function(){!function(t){var e,n;try{e=t.localStorage,n="ya_ls_test",e.setItem(n,"1"),"1"!==e.getItem(n)?e=null:e.removeItem(n)}catch(a){e=null}var i=t.home||(t.home={}),o=t.console&&function(t){console.log(t)}||function(){},s=function(t){o("localStorage is disabled. "+(t||""))},r=function(t){try{return t()}catch(a){s(a)}};e?i.localStorage={setItem:function(t,n){return r((function(){return e.setItem(t,n)}))},getItem:function(t){return r((function(){return e.getItem(t)}))},removeItem:function(t){return r((function(){return e.removeItem(t)}))},clear:function(){return r((function(){return e.clear()}))},key:function(t){return r((function(){return e.key(t)}))}}:(i.localStorage={removeItem:s,setItem:s,getItem:s,clear:s},i.disabledLS=!0)}(window)},7244:function(){!function(t){"use strict";for(var e,n=["ms","moz","webkit","o"],i={},o=[],s=0;s<n.length&&!t.requestAnimationFrame;++s)t.requestAnimationFrame=t[n[s]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n[s]+"CancelAnimationFrame"]||t[n[s]+"CancelRequestAnimationFrame"];if(t.requestAnimationFrame===undefined){var r=+new Date,a=0,c=function(){var t=o,n=i;o=[],i={},a=+new Date,e=0;for(var s=0,c=t.length;s<c;s++)n[t[s].requestid]||t[s].callback(a-r)};t.requestAnimationFrame=function(n){var i=Date.now()+Math.round(1e4*Math.random());if(o.push({requestid:i,callback:n}),!e){var s=+new Date,r=Math.max(0,16-(s-a));e=t.setTimeout(c,r)}return i},t.requestAnimationFrame.fallback=!0}t.cancelAnimationFrame===undefined&&(t.cancelAnimationFrame=function(t){t&&!i[t]&&(i[t]=1)})}(window)},520:function(){!function(t){t.getData=function(e,n){var i,o,s,r="export",a=e.split("."),c=a.length;if(c>1){for(i=t[r]||{},o=0;o<c;o++)if(void 0===(i=i[a[o]]))return void 0===i?n:i;return void 0===i?n:i}return r="export",void 0===(s=t&&t[r]&&t[r][e])?n:s},t.dataCallbacks=t.dataCallbacks||[],t.subscribeData=function(e){t["export"]?e():t.dataCallbacks.push(e)}}(home)},9642:function(){!function(){"use strict";var t;home.cleverString={},t=function(t,e){var n=t.charCodeAt(),i=e.charCodeAt();return n>=55296&&n<=56319&&i>=56320&&i<=57343},home.cleverString.length=function(e){if(null==e)return 0;for(var n=0,i=e.length,o=0;n<i;)++n<i&&t(e[n-1],e[n])&&++n,++o;return o},home.cleverString.substring=function(e,n,i){if("string"!=typeof e)return e;"number"!=typeof n&&(n=0),i||0===i||(i=Infinity);for(var o,s=[],r=n+i,a=0,c=e.split(""),l=c.length,u=0;a<=l;)o=1,a+1<l&&t(e[a],e[a+1])&&(o=2),u>=n&&u<r&&s.push(c.slice(a,a+o).join("")),a+=o,++u;return s.join("")},home.cleverString.cutMiddleOfString=function(t,e,n){var i=home.cleverString.length(t);return"string"!=typeof t||i<3||"number"!=typeof e||"number"!=typeof n?t:-1===e||-1===n?"":i>e+1+n?home.cleverString.substring(t,0,e)+"…"+home.cleverString.substring(t,i-n):t},home.cleverString.cutEndOfString=function(t,e){return home.cleverString.cutMiddleOfString(t,e-1,0)},home.cleverString.cutStartOfString=function(t,e){return home.cleverString.cutMiddleOfString(t,0,e-1)}}()},8409:function(){home.stringf=function(t){var e=Array.prototype.slice.call(arguments,1);return t.replace(/%s/g,(function(){return e.shift()||""}))}},9759:function(){!function(){"use strict";var t=/^(?:(.*?):)?\/\/([^/?#\s]+)(\/?.*)$/,e=/^(\/?[^?#\s]*)(?:\?([^#]+))?(?:#(.*))?$/;function n(t){var e=[];if(!t)return"";for(var n in t)if(t.hasOwnProperty(n)&&t[n]!==undefined&&null!==t[n]){var i=t[n];"object"!=typeof i&&(i=[i]);for(var o=0;o<i.length;++o)e.push(encodeURIComponent(n)+(""!==i[o]?"="+encodeURIComponent(i[o]):""))}return e.length?"?"+e.join("&"):""}home.parseSearch=function(t,e){return t.split("&").reduce((function(t,n){if(!n)return{};var i,o,s=n.match(/([^=]*)=(.*)/);if(s)try{i=decodeURIComponent(s[1]),o=decodeURIComponent(s[2])}catch(r){return home.error("home.parseSearch: "+r.message+"; token: "+n),t}else{try{i=decodeURIComponent(n)}catch(r){return home.error("home.parseSearch: "+r.message+"; token: "+n),t}o=""}return i in t&&e?("string"==typeof t[i]&&(t[i]=[t[i]]),t[i].push(o)):t[i]=o,t}),{})},home.parseUrl=function(n,i){var o,s=n.match(t);if(s?o=s[3].match(e):(s=[],o=n.match(e)),!s&&!o)throw new TypeError('Invalid url "'+n+'"');var r={scheme:s[1]||"",host:s[2]||"",path:o&&o[1]||"",search:o&&o[2]||"",hash:o&&o[3]||"",query:{}};return r.query=home.parseSearch(r.search,i&&i.multi),r},home.makeUrl=function(t){var e="";return!t.scheme||!t.host&&t.path||(e+=t.scheme+"://"),t.host&&(t.scheme||(e+="//"),e+=t.host),e&&(t.path&&0!==t.path.indexOf("/")||!t.path)&&"/"!==e.charAt(e.length-1)&&(e+="/"),e+=t.path||"",e+=n(t.query),t.hash&&(e+="#"+t.hash),e},home.addQueryToUrl=function(t,i){return t.replace(e,(function(t,e,o,s){var r=o?home.parseSearch(o):{};for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a]);return e+n(r)+(s?"#"+s:"")}))}}()},3287:function(){!function(){"use strict";var t=Object.prototype.toString;home.ltgtFilter=function(t){return String(t).replace(/</g,"&lt;").replace(/>/g,"&gt;")},home.jsonFilter=function(t){return String(t).replace(/[<>&\u2028\u2029]/g,(function(t){switch(t){case"<":return"\\u003c";case">":return"\\u003e";case"&":return"\\u0026";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}return""}))},home.capitalize=function(t){return t?t[0].toUpperCase()+t.substr(1):""},home.isXivaSupported=function(t){return t.XivaUrl&&!t.isOldIE&&!t.isMSIE9},home.encodeParams=function(t){return JSON.stringify(t).replace(/"/g,"'")},home.getJPathValue=function(t,e){for(var n=t,i=e.split("."),o=0;n&&n[i[o]]!==undefined;)n=n[i[o++]];return"object"==typeof n?"":n},home.formatNumber=function(t,e,n){if(isNaN(t))return t;e=e||",",n=n||"&nbsp;";var i=(t+="").lastIndexOf("."),o=[],s="",r=0,a="";for(-1!==i?s=e+t.substr(i+1):i=t.length;--i>-1;)a=t[i]+a,3==++r&&(o.push(a),a="",r=0);return a&&o.push(a),o.reverse().join(n)+s},home.deepExtend=function(e,n){if(!n)return e;for(var i in n)if("__proto__"!==i&&n.hasOwnProperty(i)){var o=n[i];Array.isArray(o)?(e[i]=Array.isArray(e[i])?e[i]:[],home.deepExtend(e[i],o)):"[object Date]"===t.call(o)||"object"!=typeof o||null===o?e[i]=o:(e[i]="[object Object]"===t.call(e[i])?e[i]:{},home.deepExtend(e[i],o))}return e},home.rnd=function(){return String(Math.random()).substr(2)},home.randomInteger=function(t,e){var n=t+Math.random()*(e+1-t);return Math.floor(n)},home.intersectionArrays=function(t,e){return t&&e?t.filter((function(t){return-1!==e.indexOf(t)})):[]}}()},9294:function(){home.htmlFilter=function(t){var e=String(t);return e.indexOf("&")>-1&&(e=e.replace(/&/g,"&amp;")),e.indexOf("<")>-1&&(e=e.replace(/</g,"&lt;")),e.indexOf(">")>-1&&(e=e.replace(/>/g,"&gt;")),e.indexOf('"')>-1&&(e=e.replace(/"/g,"&quot;")),e},home.getBEMParams=function(t){return home.htmlFilter(JSON.stringify(t))},home.getBEMClassname=function(t,e){var n=e.mods,i=t,o=n?home.getBEMMods(t,n):"";return e.mix&&("object"==typeof e.mix?(Array.isArray(e.mix)||(e.mix=[e.mix]),i+=" "+e.mix.map((function(e){var n=e.block||t,i=e.mods;return"string"==typeof e?e:(e.elem&&(n+="__"+e.elem,i=e.elemMods),i&&(n+=" "+home.getBEMMods(n,i)),n)})).join(" ")):i+=" "+e.mix),o&&(i+=" "+o),i},home.getBEMMods=function(t,e){var n,i=[];for(n in e)e.hasOwnProperty(n)&&(e[n]||0===e[n])&&i.push(t+"_"+n+"_"+e[n]);return i.join(" ")},home.emptyAttr={},home.getAttributes=function(t){if(!t)return"";var e,n="";for(e in t)if(t.hasOwnProperty(e)){var i=t[e];(i||0===i)&&(i===home.emptyAttr?n+=" "+e:((i=i.toString()).indexOf('"')>-1&&(i=i.replace(/"/g,"&quot;")),n+=" "+e+'="'+i+'"'))}return n}},9989:function(){!function(){"use strict";BEM.DOM.decl({block:"auth",modName:"hint",modValue:"yes"},{_checkInput:function(t){var e=this,n=e.__self,i=e._username.val(),o=e._password.val();if(t){if(0===i.length)return e.showError(e._username,BEM.I18N("auth","fill-input")),!1;if(0===o.length)return e.showError(e._password,BEM.I18N("auth","fill-input")),!1}return n._isUsernameValid(i)?(e.hideError(),!0):(e.showError(e._username,BEM.I18N("auth","wrong-characters")),!1)}},{_isUsernameValid:function(t){return!/\s/.test(t)},_buildError:function(){var t=this.__base();return t.mods.theme="hint",t.mods["tail-size"]="xs",t.js.directions={to:"left",axis:"middle",offset:{left:-15}},t}})}()},299:function(){BEM.DOM.decl("auth",{_onInputChange:function(){this.__base.apply(this),this._silentCheckInput(!0)?this.setMod(this.elem("button"),"color","yellow"):this.delMod(this.elem("button"),"color")},_silentCheckInput:function(t){var e=this;return this.__self._getValidators(e,e._username.val(),e._password.val(),{checkEmpty:t}).every((function(t){var e=t();return!Array.isArray(e)}))}})},1507:function(){BEM.DOM.decl({block:"auth",modName:"serverside",modValue:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._button=this.findBlockInside("button","button")}}},_createSocial:function(){}})},967:function(){!function(){"use strict";BEM.DOM.decl("auth",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),Lego.params.statRoot&&this._socialDropdown&&this._socialDropdown.bindTo("switcher","click",(function(){home.stat.logPath("click","mail.logout.domik.social_more")}))}}},_onSocialClick:function(t){t.preventDefault();var e=BEM.blocks["i-global"],n=this.elemParams(t.data.domElem),i=n.provider;if(this._socialDropdown&&this._socialDropdown.hide(),home.stat.logPath("click","mail.logout.domik.social_login."+i),n.url)return window.location=n.url,!1;BEM.create("social-broker").start((function(){var t=e.param("retpath");t&&top.location.href!==t?top.location.href=t:top.location.reload()}),(function(){}),{provider:i})}},{live:function(){return this.__base.apply(this,arguments),this.liveBindTo("social-link","keydown",(function(t){32===t.which&&this._onSocialClick(t)})),!1},_buildSocial:function(t){var e=this.__base.apply(this,arguments),n=e[e.length-1];"dropdown"===n.block&&(n.content[0].content="",n.content[0].attrs={"aria-haspopup":"true","aria-expanded":"false","aria-label":BEM.I18N("auth","more")},n.content[1].js={directions:{to:"bottom",axis:"right",offset:{left:10}}});var i={};return t.forEach((function(t){i[t.code]=t.display_name})),e.forEach((function(t){"social-link"===t.elem&&(t.attrs=t.attrs||{},t.attrs.title=t.attrs["aria-label"]=i[t.js.provider],t.attrs.role="button")})),e}})}()},1683:function(){BEM.DOM.decl("columns",{onSetMod:{js:function(){var t=this.params,e=this;this.__self.hasCSSColumnSupport()||(this.hasMod("count")?this._count=this.getMod("count"):(this._count=t.count,this.setMod("count",this._count)),this._popup=this.findBlockOutside("popup"),this._items=null,this._visibleItems=null,this._visibleItemsLen=null,this._cols=null,this._colLen=null,this._balancer=$.debounce((function(){e._updateItems()}),100),this._items||(this._items=this.domElem.children()),this._getItems(),this._pushItems(),this._bindBalancer(),this._popup.on("show",this._bindBalancer),this._popup.on("hide",this._unbindBalancer))}},_getItems:function(){this._visibleItems=this._items.children(":visible").parent(),this._colLen=Math.ceil(this._visibleItems.length/this._count)},_hasChanges:function(){return this._visibleItemsLen!==this._visibleItems.length&&(this._visibleItemsLen=this._visibleItems.length,!0)},_pushItems:function(){this._cols=[];for(var t=0;t<this._count;t++)this._cols[t]=this._visibleItems.slice(t*this._colLen,(t+1)*this._colLen),this._cols[t].wrapAll('<div class="columns__col"/>');setTimeout(function(){this._popup.repaint()}.bind(this),200)},_updateItems:function(){this._getItems(),this._hasChanges()&&(this._cols.forEach((function(t){$(t).unwrap()})),this._pushItems())},_bindBalancer:function(){$(window).bind("resize",this._balancer)},_unbindBalancer:function(){$(window).unbind("resize",this._balancer)}},{hasCSSColumnSupport:function(){var t=$("<div/>")[0];return["columnCount","MozColumnCount","WebkitColumnCount"].some((function(e){return e in t.style}))},live:function(){return!0}})},3408:function(){!function(){"use strict";var t="undefined"!=typeof detector&&!!detector.getCSS3TransformProperty();BEM.DOM.decl("domik2",{onSetMod:{js:function(){this.__base(this),this._shown=this.hasMod("expanded","yes"),this._logged=this.hasMod("logged","yes"),$(this.changeThis((function(){0===this.domElem.find(".domik2__dropdown-wrapper").length&&BEM.DOM.append(this.domElem,".domik2__dropdown-wrapper"),this._bindEvents()})))}},_bindEvents:function(){this._initUsermenu(),this._initSizes(),this._initToggle(),this._initSocial(),this._initMultiauthPromo(),this._initStale(),this._initMailCountUpdate()},_initToggle:function(){this.bindTo("toggler","mousedown",this._preventSelection),this.bindTo("toggler","click",this._toggleExpanded)},_initSocial:function(){this.bindTo("social-more","mousedown",this._preventSelection),this.bindTo("social-more","click",this._toggleSocialExpander),this.bindTo("dropdown-wrapper","scroll",(function(){this.elem("dropdown-wrapper").scrollLeft(0)}))},_preventSelection:function(t){t.preventDefault()},_initMultiauthPromo:function(){var t,e,n="doNotShowMultiAuthPromo",i=home.getData("domik2.multiauth");i&&(i.close&&((new Image).src=i.close),home.localStorage.getItem(n)||(t=$(i.html),this._appendSlide(t),e=function(){home.localStorage.setItem(n,1),this._nextSlide()},this.bindTo("dropdown-skip-multiauth","click",e),this.bindTo("dropdown-multiauth-close","click",e),this._afterAnimation((function(){home.stat.logDOMShow(t)}))))},_initStale:function(){var t=this.findBlockInside("stale-not-me","button");t&&t.on("click",this.changeThis((function(){this.findBlockInside("auth").logout(),this._nextSlide()})))},_initMailCountUpdate:function(){$(window).on("mailcount",this.changeThis(this._updateMailCounter)),this.params.uid&&this.channel("mail").on("update",this.changeThis((function(t,e){this.params.uid===e.uid&&this._updateMailCounter(t,e)})))},_initUsermenu:function(){this._usermenu=this.findBlockInside("usermenu-popup","popup"),this._usermenu&&this._usermenu.on("hide",this.changeThis((function(){this.elem("usermenu-trigger").attr("aria-expanded","false")})))},_initSizes:function(){!this.hasMod("expanded","yes")&&this.hasMod("logged","yes")?this._collapsedNotificationsWidth=this.elem("collapsed-notifications").width():this._collapsedNotificationsWidth=0},_afterAnimation:function(e,n){var i=this;!t||n!==undefined&&!0!==n?e.call(this):setTimeout((function(){e.call(i)}),150)},_toggleExpanded:function(){var t,e=this.hasMod("expanded","yes");e=!e,this._shown=e,e&&!this._collapsedNotificationsWidth&&this.hasMod("logged","yes")&&(this._collapsedNotificationsWidth=this.elem("collapsed-notifications").width()),this._collapsedNotificationsWidth&&this.elem("collapsed-notifications").css("max-width",e?0:this._collapsedNotificationsWidth),this.toggleMod("expanded","yes",e),this._toggleBodyClass(),e||((t=this.findBlockInside("auth"))&&t.hideError(),this.delMod(this.elem("collapsed-notifications"),"clickable")),this.trigger(e?"expanded":"collapsed"),this._afterAnimation((function(){this.elem("user-block").attr("tabindex",e?-1:null),e&&this.setMod(this.elem("collapsed-notifications"),"clickable","no"),this._saveState(e),this._sendStat(e?"expand":"collapse")}))},_saveState:function(t){var e=t?"setOn":"setOff",n=this.params[e];if(n)try{var i=$(".domik2__frame");i.length||(i=$('<iframe class="domik2__frame" name="domik2__frame" style="display:none"></iframe>'),$("body").append(i)),i.attr("src",n)}catch(o){}},_sendStat:function(t){home.stat.logPath("click",this.params.counters&&this.params.counters[t])},_toggleSocialExpander:function(){var t=!this.hasMod("social-expanded","yes");return this.toggleMod("social-expanded","yes"),this._sendStat("socialExpand"),this.setMod("social-expanded",t?"yes":"no"),this.elem("social-more").attr("aria-checked",t?"true":"false"),this.elem("auth-button").attr("tabindex",t?-1:106),!1},_nextSlide:function(){var t=this.elem("slide","type","current"),e=t.next();this.delMod(t,"type"),this.setMod(t,"animated","yes"),this.setMod(e,"visible","yes"),this._afterAnimation((function(){this.setMod(t,"hidden","yes"),this.setMod(e,"type","current")}))},_appendSlide:function(t){if(t){var e=this.elem("slider"),n=this.elem("slide","type","current");t.prependTo(e),this.setMod(t,"type","current"),this.setMod(n,"type","next")}},_updateMailCounter:function(t,e){var n=!1,i=e.value;isNaN(i)||this._count===i||(this._count=i,n=!0),n&&this.elem("notification","type","mail").find(".domik2__notification-info").text(i)},_toggleBodyClass:function(){var t=this.hasMod("expanded","yes");$("body").toggleClass("b-page_domik_visible",t)},_showUserMenu:function(t){if(this._usermenu)return this._usermenu.toggle(this.domElem),$(t.target).closest(".domik2__usermenu-trigger").attr("aria-expanded","true"),this._sendStat("userMenu"),!1}},{live:function(){return this.liveBindKey("social-more","space",(function(){return this._toggleSocialExpander()})),this.liveBindTo("usermenu-trigger","click",(function(t){return this._showUserMenu(t)})),this.liveBindKey("usermenu-trigger","space",(function(t){return this._showUserMenu(t)})),!1}})}()},619:function(){BEM.DOM.decl("etrains",{toggle:function(){this.toggleMod("direction","rev"),home.stat.logPath("click","rasp."+this.params.counterType+".changeway")}},{live:function(){this.liveBindTo("direction","click",(function(){this.toggle()}))}})},6896:function(){BEM.DOM.decl("home-arrow",{_onSampleClick:function(t){var e=this.findBlockInside("input");e&&(e.elem("control").attr("readonly",!0),e.onFirst("clear",(function n(){e.elem("control").attr("readonly",!1),e.un("clear",n)})),e.val(t.text(),{source:"sample"}),this.trigger("sample-click"))}},{live:function(){var t=function(t){this._onSampleClick(t.data.domElem),t.preventDefault()};this.liveBindTo("sample-link","pointerclick",t),this.liveBindKey("sample-link","space enter",t)}})},1609:function(){BEM.DOM.decl("home-tabs2",{onSetMod:{js:function(){var t=this;this._searchInput=this.findBlockOutside($(".suggest2-form__input"),"input"),this._popup=this.findBlockInside("popup"),this._$elems=this.elem("search"),this._searchInput.on("change",$.debounce((function(){t._updateUrls(this.val())}),300)),this._popup&&this._popup.on("show",(function(){home.stat.logDOMShow(t._popup.domElem),this.afterCurrentEvent((function(){t._popup.findBlockInside("columns")}))}))}},_updateUrls:function(t){var e=this.params[t?"search":"href"],n=encodeURIComponent(t);this._$elems.each((function(t,i){$(i).attr("href",home.stringf(e[$(i).data("id")],n))}))}})},1022:function(){BEM.DOM.prototype._extractModVal=function(t,e,n){var i,o=(e||this.domElem)[0];return o&&(i=o.className.match(this.__self._buildModValRE(t,n||e))),i?i[2]||!0:""}},2057:function(){function t(t,e,n){var i="clck/lid="+t;Lego.params.statRoot&&(i+="/sid="+Lego.params.msid);try{(n=n||{}).host=Lego.params?Lego.params["click-host"]:null,Lego.c(i,e,n)}catch(o){}}window.cpr=function(t,e,n){try{Lego.cred(t,e,n)}catch(i){}},window.cpt=function(e,n){t(e+=(document.getElementById("form").text.value?".full":".empty")+"/u="+(new Date).getTime(),n)},window.c0=function(t){try{Lego.c(t)}catch(e){}},window.csh_ifmsid=function(e,n){Lego.params.statRoot&&function(e,n){try{t(e,n)}catch(i){}}(e,n)},window.cpa=function(t){return t&&"undefined"!=typeof Lego.params.msid?"onmousedown=\"Lego.cp('132','71946','"+t+"',this)\"":""},window.Lego.cred=function(t,e,n){var i,o=function(){var e=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0],n=document.createElement("script");n.setAttribute("src",t),e.insertBefore(n,e.firstChild)};if(e)if("A"===e.tagname&&!e.href||e.href&&e.href.match(/^mailto:/)||n&&!0===n.noRedirect)o();else if(e.href)i=e.href,e.href=t,setTimeout((function(){e.href=i}),500);else if(e.form)e.type.match(/submit|button|image/)?(i=e.form.action,e.form.action=t,setTimeout((function(){e.form.action=i}),500)):o();else{if(!e.action)throw"counter.js: not link and not form!";e.action=t}else o()},window.csh_ifgsid=csh_ifmsid},5739:function(){BEM.decl("i-message-locker",{},{blockOrder:["b-time-banner","b-hs-balloon","dist-overlay","dist-popup"]})},9284:function(){var t;t=BEM.channel("i-reposition-event"),BEM.channel("i-scroll-event").on("scroll",(function(e,n){t.trigger("reposition",n)})),BEM.decl("i-reposition-event",{},{trigger:function(){t.trigger("reposition",$(window).scrollTop())}})},2614:function(){BEM.DOM.decl("inline-stocks",{onSetMod:{js:function(){this.bindMouseEvents(),this.xivainitTimer=setTimeout(this.changeThis(this.initXiva),6e4)}},bindMouseEvents:function(){if(!window.device){var t={name:"hovered",val:"yes"},e={name:"hint",val:"visible",elem:".inline-stocks__item"};this.bindTo("mouseenter",this.getOnmouseenter(t)),this.bindTo("mouseleave",this.getOnmouseleave(t)),this.bindTo("item","mouseenter",this.getOnmouseenter(e)),this.bindTo("item","mouseleave",this.getOnmouseleave(e))}},getOnmouseenter:function(t){return function(e){var n=this;t.countdown||(t.countdown=setTimeout((function(){if(t.countdown=null,t.elem){var i=$(e.target).closest(t.elem);n.setMod(i,t.name,t.val)}else n.setMod(t.name,t.val)}),t.delay||250))}},getOnmouseleave:function(t){return function(e){if(clearTimeout(t.countdown),t.countdown=null,t.elem){var n=$(e.target).closest(t.elem);this.delMod(n,t.name)}else this.delMod(t.name)}},initXiva:function(){var t=home.getData("inline-stocks.xivas")||[],e=this;t.forEach((function(t){BEM.blocks["i-xiva"].listen(t.ch,t.ts,(function(t){e.updateFunc(t.dt)}))}))},updateFunc:function(t){if(t&&t.id){var e=t.id,n=this.elem("item","id",e);if(n.length){t=t.data&&t.data[0],$(".inline-stocks__value_inner",n).html(t.value);var i=this.findElem(n,"cell","type","delta"),o=this.findElem(n,"cell","type","delta-label");t.delta?(this.delMod(i,"hidden"),i.html(t.delta),o.html(t.delta.replace("−","-")),this.setMod(i,"delta",t.is_hot?"hot":"small")):(this.setMod(i,"hidden","yes"),o.html(""));var s=home.getData("inline-stocks.alts")||{};s[e]&&$(".inline-stocks__item__baloon_inner",n).html(s[e].replace("%d",t.date).replace("%t",t.time))}}}})},3496:function(){BEM.DOM.decl("search2",{onSetMod:{js:function(){var t=this;this.input=this.findBlockInside("input"),this.arrow=this.findBlockOutside("home-arrow"),this.arrow&&this.arrow.on("sample-click",(function(){var e=t.domElem.find("input[name='nl']");t.params.nl&&!e.length&&$('<input type="hidden" name="nl" value="1"/>').insertAfter(t.input.domElem),setTimeout((function(){t.domElem.submit()}),500)}))}}})},8540:function(){BEM.decl("suggest2-popup",{pos:function(){return this.isShown()&&this._popup.repaint(),this}})},6548:function(){BEM.decl("suggest2-provider",{getRequestData:function(t,e,n){var i={part:t,pos:e};return n&&(i.suggest_reqid=n),BEM.blocks["suggest2-detect"].isSupportInlineSVG()&&(i.svg=1),i}})},5417:function(){BEM.decl("suggest2",{bindEvents:function(){var t=this;function e(){t._popup&&t._popup.isShown()&&t._popup.hide()}t.__base.apply(t,arguments),t._input.bindEvents({click:function(){t._popup.isShown()||(t._tabChange=!1,t._doRequest())}}),BEM.blocks["suggest2-item"].on(t.domElem,{mousedown:function(){t.bindToDoc("mouseup.suggest2",(function(){t._isBlur=!0,t._isMouseDown=!1,t.unbindFromDoc("mouseup.suggest2")}))}}),$(window).bind("keyboardOpened.lego",(function(){t._popup&&t._popup.isShown()&&t._popup.get()&&t._popup.get().repaint()}));var n=!0;$(window).on("focus",(function(){var i;try{i=document.activeElement}catch(o){}n||(n=!0,i&&t._input.getControl()&&t._input.getControl().is(i)&&(t._tabChange=!0),e())})).on("blur",(function(){n=!1,e()}))},init:function(){this.__base.apply(this,arguments),this.trigger("model-ready")},_onChange:function(){return this._tabChange=!1,this.__base.apply(this,arguments)},_onFocus:function(){this._tabChange||this.__base.apply(this,arguments)}})},3069:function(){BEM.DOM.decl("usermenu",{_getEmbeddedAuth:function(){return this.auth?this.auth:this.auth=BEM.create("i-embeddedauth",this.params.auth)},_selectUser:function(t){var e=t.closest(".usermenu__user").data("uid");if(e)return this._getEmbeddedAuth().setData({uid:e},this.changeThis(this._switchResponse,this)).submit(),!1},_switchResponse:function(t){switch(t.status){case"ok":case"action-not-required":return void window.location.reload();default:window.location.href=this.params.passport}}},{live:function(){var t=function(t){return this._selectUser($(t.target))};this.liveBindTo({elem:"user",modName:"clickable",modVal:"yes"},"pointerclick",t),this.liveBindKey({elem:"user",modName:"clickable",modVal:"yes"},"enter",t)}})}},s={};function r(t){var e=s[t];if(e!==undefined)return e.exports;var n=s[t]={exports:{}};return o[t](n,n.exports,r),n.exports}r.m=o,r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e},e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},r.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var o=Object.create(null);r.r(o);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&i&&n;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((function(t){s[t]=function(){return n[t]}}));return s["default"]=function(){return n},r.d(o,s),o},r.d=function(t,e){for(var n in e)if(r.o(e,n)&&!r.o(t,n)){var i=e[n]();i!==undefined?t[n]=i:(t.__deferExports=t.__deferExports||{},t.__deferExports[n]=e[n])}},r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(e,n){return r.f[n](t,e),e}),[]))},r._f=function(t){if(t.__deferExports)for(var e in t.__deferExports)t[e]=t.__deferExports[e]()},r.u=function(t){return"d1/d12ac3cf244ba3a7633d.js"},r.miniCssF=function(t){return undefined},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n={},i="home:",r.l=function(t,e,o,s){if(n[t])n[t].push(e);else{var a,c;if(o!==undefined)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var h=l[u];if(h.getAttribute("src")==t||h.getAttribute("data-webpack")==i+o){a=h;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",i+o),a.src=t,0!==a.src.indexOf(window.location.origin+"/")&&(a.crossOrigin="anonymous")),n[t]=[e];var d=function(e,i){a.onerror=a.onload=null,clearTimeout(f);var o=n[t];if(delete n[t],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((function(t){return t(i)})),e)return e(i)},f=setTimeout(d.bind(null,undefined,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),c&&document.head.appendChild(a)}},r.r=function(t){t.__esModule=!0},r.p="https://yastatic.net/s3/home-static/_/",function(){var t={603:0};r.f.j=function(e,n){var i=r.o(t,e)?t[e]:undefined;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise((function(n,o){i=t[e]=[n,o]}));n.push(i[2]=o);var s=r.p+r.u(e),a=new Error;r.l(s,(function(n){if(r.o(t,e)&&(0!==(i=t[e])&&(t[e]=undefined),i)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+e,e)}};var e=function(e,n){var i,o,s=n[0],a=n[1],c=n[2],l=0;for(i in a)r.o(a,i)&&(r.m[i]=a[i]);for(c&&c(r),e&&e(n);l<s.length;l++)o=s[l],r.o(t,o)&&t[o]&&t[o][0](),t[s[l]]=0},n=self.webpackChunkhome=self.webpackChunkhome||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),function(){"use strict";function t(t){if(!("getAttribute"in t)&&"length"in t){for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}return[t]}r(8477),r(2768),r(7731),r(3011),r(9085),r(4014),r(2433),r(3943),r(943),r(1022),r(9387),r(8212),r(9092),r(307),r(4985),r(9677),r(131),r(2825),r(7365),r(8754),r(2786),r(3107),r(7244),r(2339),home.getTouchEvents=function(t){var e=t.originalEvent;return e.touches&&e.touches.length?e.touches:e.changedTouches},home.getTouchEvent=function(t){var e,n=home.getTouchEvents(t);return{x:(e=n&&n.length?n[0]:t.originalEvent).pageX||e.clientX,y:e.pageY||e.clientY}},r(8637),r(5628),r(520),r(7049),r(8105),$((function(){var t=home&&home.getData&&home.getData("fingerprint.data");t&&t.enabled&&setTimeout((function(){var e=t.zmblt;try{window.Ya.F.calibrate("Yandex-UI-Icons-Private",(function(n){null!==n&&Number(n)!==Number(e)&&((new Image).src=t.cookieUrl+"&zmblt="+n)}))}catch(n){}}),0)})),r(4238),r(7588),r(9691),r(1190),r(2110),r(3081),r(7439),r(117);var e=String(Date.now())+Math.random().toString(36).substring(3);!function(){var n,i,o,s={},r={},a=/([^.(]+)(?:\(([^)]*)\))?\.?/g,c=/^([^=]+)=(.+)$/,l={show:!0};home.stat={},home.stat.attr="data-statlog",home.stat.brfix=1,home.stat.INSTANCE_ID=e,home.stat.getCustomPageParams=function(){var t=home&&home.getData&&home.getData("redir-stats.data")||"",n="",i="";window.Ya&&Ya.Rum&&Ya.Rum.getTime&&(n+="/timefs="+Math.floor(Ya.Rum.getTime()));var o=home.getData?home.getData("timing.vars"):"";return o&&(o[1964]?i="/mexp=0":o[1965]&&(i="/mexp=1")),t+n+i+"/iid="+e},home.stat._sendPost=function(t,e,i){var o;if("XDomainRequest"in window?o=new XDomainRequest:"XMLHttpRequest"in window&&(o=new XMLHttpRequest),o){o.open("post",i||n,!0),o.withCredentials=!0;try{o.setRequestHeader("Accept","text/plain, */*; q=0.01"),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")}catch(s){}e&&("onreadystatechange"in o?o.onreadystatechange=function(){4===o.readyState&&e()}:o.onload=o.onerror=e),o.send(t)}};var u,h=function(t){return"/dtype=clck/table=morda"+(s.tld?"/tld="+s.tld:"")+(s.statVer?"/statver="+s.statVer:"")+(s.ip?"/ip="+s.ip:"")+"/antiadb="+(home&&home.getData&&home.getData("adb.data.adb")||0)+home.stat.getCustomPageParams()+"/session_id="+s.showId+"/events="+encodeURIComponent(JSON.stringify(t.map((function(t){return{event:t.type,url:t.url,"parent-path":s.statRoot,blocks:t.array}})))).replace(/\*/g,"%2A")+"/*"},d=function(t){if(i){var e=h(i);!function(t){if(s.useBeacon&&"sendBeacon"in navigator)return navigator.sendBeacon(n,t)}(e)?home.stat._sendPost(e,t):t&&t(),i=null}};home.stat.flushQueue=d;var f=function(t,e){var n=e,i=[];t.replace(a,(function(t,e,n){i.push({key:e,params:n?n.split(";"):[]})}));for(var o=0;o<i.length;++o){var s,r=i[o].params,l=i[o].key;!n.some((function(t){if(t.ctag===l)return s=t,!0}))&&(s={ctag:l},n.push(s)),r.length&&r.forEach((function(e){var n=e.match(c);try{s[n[1]]=decodeURIComponent(n[2])}catch(i){home.error.logError({block:"home__stat",message:"Cannot decode counter",method:"convertPathToData",meta:{counter:t,decodingUri:n[2]}})}})),o+1<i.length&&(n=s.children=s.children||[])}return e};home.stat.logPath=function(t,e,n){var a,c,h;if(n&&"clean"===n.mode&&function(t){t&&i&&i.length&&0===(i=i.filter((function(e){return e.type!==t}))).length&&(i=null)}(t),n&&n.customParams&&(e+=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n+"="+encodeURIComponent(t[n]));return e.length?"("+e.join(";")+")":""}(n.customParams)),s.enabled&&t&&e){if(i||(i=[]),"show"===t){if(e in r)return;r[e]=!0}l[t]&&(h=function(t){if(!l[t])throw new Error(t+" is not mergeable type");for(var e=0;e<i.length;++e)if(i[e].type===t)return i[e]}(t)),h=h||(i[i.length]={type:t,url:n&&n.url,array:[]}),f(e,h.array),n&&n.callback?(d(a=function(){c||(c=!0,n.callback())}),n.callbackTimeout!==undefined&&setTimeout(a,n.callbackTimeout)):(u||(u=home.delayedTask((function(){o=!1,d()}),25)),o||(o=!0,u()))}else n&&n.callback&&setTimeout(n.callback,0)},home.stat.redirect=function(t,e){if(!s.enabled||!e)return!0;var i,o,r=t.href;if(s.useBeacon&&"sendBeacon"in navigator&&(o=h([{type:"click",url:r,array:f(e,[])}]),navigator.sendBeacon(n,o)))return!0;if("_blank"===t.target)return o=h([{type:"click",url:r,array:f(e,[])}]),home.stat._sendPost(o),!0;if(!t.getAttribute("data-statlog-timeout")&&-1===r.indexOf("/lid="+s.statRoot)){if(i=t.getAttribute("data-statlog-url"))t.href=i;else{var a=function(t){var e=[];return{counter:t.replace(/\(([^)]+)\)/g,(function(t,n){return e.push(n.replace(/;/g,",")),""})),vars:e=e.length?"/vars="+e.join(","):""}}(e);t.href=s.redirHost+"redir/dtype=clck/table=morda"+(s.tld?"/tld="+s.tld:"")+(s.statVer?"/statver="+s.statVer:"")+(s.ip?"/ip="+s.ip:"")+"/antiadb="+(home&&home.getData&&home.getData("adb.data.adb")||0)+home.stat.getCustomPageParams()+"/lid="+s.statRoot+"."+a.counter+"/sid="+s.showId+a.vars+"/rnd="+((new Date).getTime()+Math.round(100*Math.random()))+"/*data="+encodeURIComponent("url="+encodeURIComponent(r.match(/^http/)?r:location.protocol+"//"+location.host+(r.match("^/")?r:"/"+r)))}t.setAttribute("data-statlog-orig-href",r),t.setAttribute("data-statlog-timeout",setTimeout((function(){t.href=r,t.removeAttribute("data-statlog-timeout"),t.removeAttribute("data-statlog-orig-href")}),500))}return!0},home.stat.collectShows=function(e,n){var i=[],o=[];return t(e).forEach((function(e){i=i.concat(t(e.querySelectorAll("["+home.stat.attr+"], [data-stat-select]"))),(e.getAttribute(home.stat.attr)||e.getAttribute("data-stat-select"))&&i.push(e)})),i.forEach((function(t){var e=t.getAttribute(home.stat.attr)||t.getAttribute("data-stat-select"),i=t.getAttribute("data-statlog-showed")||e in r,s=!!t.getAttribute("data-statlog-precise");e&&!i&&(!s||n&&n.precise)&&(n&&!1===n.visibilityCheck||function(t){return t&&(0!==t.offsetWidth||0!==t.offsetHeight)}(t))&&o.push(n&&n.convertCounters&&n.convertCounters(e)||e)})),o},home.stat.logDOMShow=function(t,e){s.enabled&&home.stat.collectShows(t,e).forEach((function(t){home.stat.logPath("show",t)}))},home.stat._countShows=function(t){s.enabled&&t.forEach((function(t){r[t]=!0}))},home.stat.clearShows=function(){s.enabled&&(r={})},home.stat.getRoot=function(){return s.enabled&&s.statRoot||""},home.stat.setCounter=function(e,n){t(e).forEach((function(t){t.setAttribute(home.stat.attr,n)}))};var p=function(t){var e,n=t.target||t.srcElement;if((t.which||t.button)<2){for(;n&&1===n.nodeType&&!(e=n.getAttribute(home.stat.attr));)n=n.parentNode;e&&n&&("0"!==n.getAttribute("data-statlog-redir")&&n.href?n.href&&"click"===t.type&&!t.defaultPrevented&&!1!==t.returnValue&&(home.stat.redirect(n,e)||("preventDefault"in t?t.preventDefault():t.returnValue=!1)):"mousedown"===t.type&&home.stat.logPath("click",e))}},m=function(t,e){"addEventListener"in document?document.addEventListener(t,e,!1):document.attachEvent("on"+t,e)},_=function(){s.enabled&&(m("mousedown",p),m("click",p))};home.subscribeData((function(t){s=t||home.getData("statlog.config",{}),n=s.clckDemonHost+"counter","querySelectorAll"in document||(s.enabled=!1),_()})),home.stat._processClicks=p,home.stat._setConfig=function(t){n=(s=t).clckDemonHost+"counter",r={},_()}}(),home.debounce=function(t,e,n,i){var o;return 3===arguments.length&&"boolean"!=typeof n&&(i=n,n=!1),function(){var s=arguments;i=i||this,n&&!o&&t.apply(i,s),clearTimeout(o),o=setTimeout((function(){n||t.apply(i,s),o=null}),e)}},r(7922),r(5757),r(3287),r(5157),r(6391),r(8409);var n=Object.prototype.toString;function i(t,e){if(!e)return t;for(var o in e)if("__proto__"!==o&&e.hasOwnProperty(o)){var s=e[o];Array.isArray(s)?(t[o]=Array.isArray(t[o])?t[o]:[],i(t[o],s)):"[object Date]"===n.call(s)||"object"!=typeof s||null===s?t[o]=s:(t[o]="[object Object]"===n.call(t[o])?t[o]:{},i(t[o],s))}return t}function o(){return Boolean(window.Ya&&window.Ya.Rum&&window.Ya.Rum.logError)}console.info,console.debug,console.warn,console.error,console.error,console.trace;var s=function(t,e){if(e)if("object"==typeof e){if(e.logged)return;e.logged=!0}else e=new Error(e);o()&&Ya.Rum.logError(function(t,e){var n={},o=e||{};return t.message&&(n.message=t.message),t.block&&(n.block=t.block),t.method&&(n.method=t.method),t.level&&(n.level=t.level),(t.sourceType||o.sourceType)&&(n.type=t.sourceType||o.sourceType),t.source&&(n.source=t.source),t.sourceMethod&&(n.sourceMethod=t.sourceMethod),t.coordinates_gp&&(n.coordinates_gp=t.coordinates_gp),(t.meta||o.meta)&&(n.additional=i(t.meta||{},o.meta||{})),(t.url||o.url)&&(n.additional=n.additional||{},n.additional.url=t.url||o.url),(t.page||o.page)&&(n.page=t.page||o.page),n}(t,e),e)};function a(t,e){return function(t,e,n){if("undefined"==typeof home||!t)return n;var i,o,s,r=e.split("."),a=r.length;if(a>1){for(i=t||{},o=0;o<a;o++)if(void 0===(i=i[r[o]]))return void 0===i?n:i;return void 0===i?n:i}return void 0===(s=t[e])?n:s}(home&&home["export"],t,e)}"undefined"!=typeof home&&(home.dataCallbacks=home.dataCallbacks||[]),BEM.decl("i-yabs-sender",{},{_init:function(){this._pixelBase=a("yabs.pixelBase"),this._pixelBase&&(this._linksNext="",this._inited=!0,this._sendPixelDebounced=function(t,e,n,i){var o;return 3===arguments.length&&"boolean"!=typeof n&&(i=n,n=!1),function(){var s=arguments;i=i||this,n&&!o&&t.apply(i,s),clearTimeout(o),o=setTimeout((function(){n||t.apply(i,s),o=null}),e)}}(this._sendPixel.bind(this),1e3))},_sendPixel:function(){var t=this;if(!this._sending){var e=this._linksNext;this._linksNext="",this._sending=!0,$.ajax({url:this._pixelBase+e,xhrFields:{withCredentials:!0},timeout:15e3}).asPromise().then((function(){t._onRequestEnd()}),(function(n){t._onRequestEnd(),t._linksNext+=e,s({block:"i-yabs-sender"},n)}))}},_onRequestEnd:function(){this._sending=!1,this._linksNext&&this._sendPixelDebounced()},_pixelBaseCheck:function(){return!!this._pixelBase||(s({block:"i-yabs-sender",message:"pixelBase is not defined"}),!1)},sendClose:function(t,e,n){if(e){var i=function(){n&&(location.href=n)},o=function(){return new Promise((function(t,n){var i=new Image;i.onload=t,i.onerror=function(t){var i=new Error("send to bk failed:"+("string"!=typeof t&&t.type||t));i.meta={url:e},n(i)},i.src=e}))["catch"]((function(t){s(t)}))};return n?(t.preventDefault(),Promise.race([o(),new Promise((function(t){setTimeout(t,300)}))]).then(i,i)):o()}},sendShow:function(t){this._inited||this._init(),t&&this._pixelBaseCheck()&&(this._linksNext+=t,this._sendPixelDebounced())}}),r(9888),r(2930),r(9759),r(3144),r(7478),r(3880);var c={spok_yes:{month_accus:{1:"января",2:"февраля",3:"марта",4:"апреля",5:"мая",6:"июня",7:"июля",8:"августа",9:"сентября",10:"октября",11:"ноября",12:"декабря"}},month_accus:{1:"января",2:"февраля",3:"марта",4:"апреля",5:"мая",6:"июня",7:"июля",8:"августа",9:"сентября",10:"октября",11:"ноября",12:"декабря"},wday:{0:"воскресенье",1:"понедельник",2:"вторник",3:"среда",4:"четверг",5:"пятница",6:"суббота"},rates:{newalt:{ceni:"%s: динамика цен",index:"%s: динамика индекса",korz:"Бивалютная корзина",kurs:"%s: динамика курса"}},news:{"switch":{all:"Сегодня в новостях",allnews:"Все новости",auto:"авто",blogs:"в блогах",blogs_etalon:"в блогах",blogs_exp_1:"Обсуждения",blogs_exp_2:"Обсуждаемые",blogs_exp_3:"Темы в блогах",blogs_exp_4:"Темы дня",business:"экономика",computers:"hi-tech",culture:"культура",daily_summary:"Итоги дня",educ:"образования",health:"здоровье",in_world:"в мире",incident:"происшествия",index:"главные новости",index_tablet:"Главные",news:"Новости",none:"Скрыть все",politics:"политика",school:"школы",sci:"науки",science:"наука",society:"общество",sport:"спорт",travels:"туризм",world:"в мире"}}};function l(t){for(var e=t.split("."),n=c,i=0;i<e.length;++i){if(!n||!n[e[i]])return s({message:"undefined translation "+t,block:"l10n"}),"";n=n[e[i]]}return n}function u(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n]!==undefined&&e.push(n+"="+encodeURIComponent(t[n]));return e.length?"("+e.join(";")+")":""}for(var h=function(){function t(){}var e=t.prototype;return e.getAttr=function(t,e,n){return void 0===n&&(n={}),t?(n.customParams&&(t+=u(n.customParams)),(t=String(t)).indexOf('"')>-1&&(t=t.replace(/"/g,"&quot;")),' data-statlog="'+t+'"'+(!1!==n.isRedirect?"":' data-statlog-redir="0"')+(n.precise?' data-statlog-precise="1"':"")):""},e.logShow=function(t,e){return t?(e&&(t+=u(e)),home.stat.logPath("show",t),t):""},e.getClientCounter=function(t,e,n){return void 0===e&&(e=!1),(t=n?(t||"")+u(n):t)?' data-statlog="'+t+'"'+(e?' data-statlog-redir="0"':""):""},e.getAdaptiveCounter=function(t,e){return t?' data-statlog="'+t+'"'+(e?' data-statlog-redir="0"':"")+' data-statlog-autoshow="1"':""},t}(),d=function(){function t(){}var e=t.prototype;return e.add=function(t,e,n){home["export"][n]||(home["export"][n]={}),home["export"][n][t]?home.deepExtend(home["export"][n][t],e):home["export"][n][t]=e},e.has=function(t,e){return Boolean(home.getData&&home.getData(e+"."+t))},t}(),f={stub:!0},p=function(){var t=_[m];f[t]=function(e){if(home.error&&(!home.getData||!0===home.getData("csp.report"))){var n=new Error("req.csp."+t+" was called on clientside");n.meta={url:e},n.block="home.views",home.error.logError(n)}}},m=0,_=["allowDefault","allowStyle","allowPlugin","allowObject","allowMedia","allowImg","allowFont","allowConnect","allowScript","allowChild","allowForm","allowFrameAncestors"];m<_.length;m++)p();var g={l10n:l,stat:new h,settingsJs:new d,csp:f,cls:{full:function(t){return t},part:function(t){return t},contains:function(t){return!1}},isClient:1},v={},b="__execViewUniq",y=1;function w(t,e,n){for(var i in n=n||{},g)n.hasOwnProperty(i)||(n[i]=g[i]);var o="object"==typeof window&&window.home&&home.getData&&home.getData("common.req")||{};for(var s in o)o.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=o[s]);return function r(t,e){var i;if("function"==typeof t)if(t.isCached){t[b]||(t[b]=y++);var o=t[b];o in v?i=v[o]:(i=t(n,r),v[o]=i)}else i=t(e,n,r);return i===undefined&&(i=""),i}(t,e)}var E=r(1641),k=r.n(E);function M(t){return t.isCached=!0,t}var x=M((function(t,e){return a("common.new-tab-links")}));function B(t){return e=JSON.stringify(t),(n=String(e)).indexOf("&")>-1&&(n=n.replace(/&/g,"&amp;")),n.indexOf("<")>-1&&(n=n.replace(/</g,"&lt;")),n.indexOf(">")>-1&&(n=n.replace(/>/g,"&gt;")),n.indexOf('"')>-1&&(n=n.replace(/"/g,"&quot;")),n;var e,n}function C(t,e){var n,i=[];for(n in e)e.hasOwnProperty(n)&&(e[n]||0===e[n])&&i.push(t+"_"+n+"_"+String(e[n]));return i.join(" ")}function T(t,e){var n=e.mods,i=t,o=n?C(t,n):"";return e.mix&&("object"==typeof e.mix?(Array.isArray(e.mix)||(e.mix=[e.mix]),i+=" "+e.mix.map((function(e){if("string"==typeof e)return e;var n=e.block||t,i=e.mods;return e.elem&&(n+="__"+e.elem,i=e.elemMods),i&&(n+=" "+C(n,i)),n})).join(" ")):i+=" "+e.mix),o&&(i+=" "+o),i}function S(t){if(!t)return"";var e,n="";for(e in t)if(t.hasOwnProperty(e)){var i=t[e];if(i||0===i)if(i===home.emptyAttr)n+=" "+e;else{var o=String(i);o.indexOf('"')>-1&&(o=o.replace(/"/g,"&quot;")),n+=" "+e+'="'+o+'"'}}return n}function D(t,e,n){var i="a",o=t.attrs||{},s=t.mods||{},r=t.mix||"",a="";return o["class"]=T("home-link",{mix:r,mods:s}),t.href?o.href=t.href:i=t.tag||"span",t.title&&(o.title=t.title),t.role&&(o.role=t.role),t.tabindex&&(o.tabindex=t.tabindex),t.target&&(o.target=t.target),!o.target&&o.href&&n(x,e)&&(o.target="_blank"),"_blank"===o.target&&"undefined"==typeof o.rel&&(o.rel="noopener"),a="<"+i,a+=S(o),t.stat&&(a+=t.stat),t.js&&(a+=' data-bem="'+B(t.js)+'"'),a+=">",t.inlineIcon&&(a+=t.inlineIcon),t.content&&(a+=t.content),a+"</"+i+">"}function P(t,e,n){var i=n(I,t);return t.helpUrl?n(D,{content:i,stat:e.stat.getAdaptiveCounter("wrong_date."+t.type+".url"),href:t.helpUrl,mix:"b-time-banner__link"}):i}function I(t){var e="";return e+='<span class="b-time-banner__text">',(e+=t.text.replace("%local_date","<b>("+t.now+")</b>").replace("%current_date","<b>("+t.timestamp+")</b>")+(t.helpQuery?" "+t.helpQuery:""))+"</span>"}BEM.DOM.decl("b-time-banner",{onSetMod:{js:function(){this.now=Math.round((new Date).getTime()/1e3),this.params.type&&BEM.blocks["i-message-locker"].acquireLock("b-time-banner").then(this.show.bind(this))}},show:function(){var t=this.params,e=t.type,n=t.typeData;(new Image).src=n.show_url,this.domElem.appendTo($(".b-time-banner__place")),this.setMod("type",e),this.bindTo("close","click",this.close),this.elem("inner").html(w(P,{type:e,text:n.text,helpUrl:t.helpUrl,helpQuery:t.helpQuery,now:this._convertTimestampToString(1e3*t.now),timestamp:this._convertTimestampToString(home.now())})),this.elem("close").attr("data-statlog","wrong_date."+e+".close"),this.setMod("shown","yes"),this.domElem.parents(".b-stripe-wrapper").show()},close:function(){this.setMod("shown","no"),(new Image).src=this.params.typeData.close_url},getDefaultParams:function(){var t=Math.round((new Date).getTime()/1e3),e=this._params,n=e.alert||{},i=!(!n.show||!(n.till_ts>t||n.from_ts&&n.from_ts<t))&&"alert";return{now:t,type:i,typeData:e[i]}},_convertTimestampToString:function(t){var e=new Date(t);return(Math.abs(this.params.now-this.params.timestamp)<15379200?"%day %month":"%day %month %year года").replace("%day",e.getDate()).replace("%month",l("spok_yes.month_accus."+(e.getMonth()+1))).replace("%year",e.getFullYear())}});var O=r(1855),j=r.n(O);function A(t){return"<div "+k()(Object.assign({"class":(t.block||"")+"__panel"+(t.mix||""),role:"tabpanel",id:(t.id||"")+"_panel_"+(t.key||""),"data-key":0===t.key||t.key?t.key:""},t.attrs))+">"+j().oneElem(t.content)+"</div>"}function F(t){return"string"==typeof t?t:"number"==typeof t||"boolean"==typeof t?String(t):""}function N(t,e,n){var i=t.mods||{},o="button",s=t.attrs||{};return t.url?o="a":t.tag&&(o=t.tag),i.theme||("yes"===i.pseudo?i.theme="pseudo":i.theme="normal"),s.role=s.role||"button",t.tabindex&&(s.tabindex=t.tabindex),t.url?(s.href=t.url,t.target?s.target=t.target:n(x)&&(s.target="_blank"),i.disabled&&(s["aria-disabled"]=!0),"_blank"===s.target&&"undefined"==typeof s.rel&&(s.rel="noopener")):(s.type=t.type||"button",t.name&&(s.name=t.name),t.value&&(s.value=t.value),i.disabled&&(s.disabled="disabled")),"<"+o+' class="'+home.getBEMClassname("button",{mods:i,mix:t.mix})+' i-bem" data-bem="{&quot;button&quot;:{}}"'+home.getAttributes(s)+(t.stat||"")+'><span class="button__text">'+(t.content||"")+"</span>"+(t.afterContent||"")+"</"+o+">"}function R(t,e,n){return n(N,{mods:t.buttonMods,mix:"mix-tabber-loader__retry-button "+t.block+"__retry-button",content:"Попробовать ещё раз",attrs:{"data-statlog":t.statRoot+".retry","data-key":t.key}})}function L(t,e,n){return"<div "+k()({"class":"mix-tabber-loader__retry "+F(t.block)+"__retry"})+">"+(j().oneElem("Не удалось загрузить данные")+j().oneElem(n(R,t)))+"</div>"}function q(t,e,n){var i="a",o=t.attrs||{},s=t.mods||{},r=t.mix||"",a="";return o["class"]=T("home-link2",{mix:r,mods:s}),t.href?o.href=t.href:i=t.tag||"span",t.title&&(o.title=t.title),t.role&&(o.role=t.role),t.tabindex&&(o.tabindex=t.tabindex),t.target&&(o.target=t.target),!o.target&&o.href&&n(x,e)&&(o.target="_blank"),"_blank"===o.target&&"undefined"==typeof o.rel&&(o.rel="noopener"),a="<"+i,a+=S(o),t.stat&&(a+=t.stat),t.js&&(a+=' data-bem="'+B(t.js)+'"'),a+=">",t.inlineIcon&&(a+=t.inlineIcon),t.content&&(a+=t.content),a+"</"+i+">"}function U(t){return"<span class='datetime__date'>"+(j().oneElem("<span class='datetime__day'>"+j().oneElem(t.day)+"</span>")+j().oneElem("<span class='datetime__month'>"+j().oneElem(t.month)+", </span>")+j().oneElem("<span class='datetime__wday'>"+j().oneElem(t.wday)+" </span>"))+"</span>"}function H(t,e,n){return t.tag="o"===t.type?"ol":"ul",t.mix=t.mod&&t.mix?t.mix+" "+t.mod:t.mix||t.mod||"",n(V,t)}function K(t,e,n){return t.mix=t.mod&&t.mix?t.mix+" "+t.mod:t.mix||t.mod||"",n(z,t)}function V(t){return"<"+t.tag+' class="'+T("list",t||{})+'">'+(t.content||"")+"</"+t.tag+">"}function z(t){return"<li "+k()(Object.assign({"class":T("list__item",t||{})},t.attrs))+">"+j().oneElem(t.content)+"</li>"}function W(t){return"<div "+k()(Object.assign({"class":t.mix||""},t.attrs))+">"+j().oneElem(t.content)+"</div>"}function Y(t){return"<span "+k()(Object.assign({"class":(t.mod||"")+" "+(t.mix||"")},t.attrs))+">"+j().oneElem(t.content)+"</span>"}function X(t,e,n){var i,o=t.blocks;return o?(i=o.map((function(t,e){return t.i=e,"cash_rate"===t.type&&(t.type="cash"),n(Q,t)})),n(G,{data:i})):""}function G(t){var e,n=t.data,i=n.length/2,o="",s="";for(e=0;e<i;e++)o+='<div class="inline-stocks__grid-item inline-stocks__grid-item_first">'+n[2*e]+"</div>",s+=n[2*e+1]?'<div class="inline-stocks__grid-item">'+n[2*e+1]+"</div>":"";return'<tr class="inline-stocks__grid-row"><td>'+o+"</td><td>"+s+"</td></tr>"}function Q(t,e,n){for(var i="",o=t.rows,s=0,r=o.length;s<r;s++){var a=o[s],c=e.l10n("rates.newalt."+a.alt).replace(/%s/,a.text);i+='<tr class="inline-stocks__row_id_'+a.id+'" data-klimit="'+a.klimit+'"><td class="inline-stocks__row-title">'+n(D,{href:!e.nolinks&&a.href,mix:"home-link_blue_yes",attrs:{title:c,"data-statlog":"news_rates_manual.popup."+a.id},content:n(J,{text:a.text_caps})})+(a.nscale?'<span class="inline-stocks__row-nscale">'+a.nscale+"</span>":"")+"</td>"+n(Z,{type:t.type,rows:a.data,klimit:a.klimit})+"</tr>"}return'<h2 class="inline-stocks__table-title">'+t.text+'</h2><table class="inline-stocks__table inline-stocks__table_type_'+t.type+" inline-stocks__table_id_"+t.i+'">'+n(nt,t)+i+"</table>"}function J(t){return t.text.replace(/<(\w)>([^<]+)<\/\1>/g,(function(t,e,n){switch(e){case"c":return'<span class="inline-stocks__caps">'+n+"</span>";case"d":return'<span class="inline-stocks__numbers">'+n+"</span>";default:return t}}))}function Z(t,e,n){var i=t.klimit;switch(t.type){case"cash":return t.rows.map((function(t){return n(ot,t)})).join("");case"currency":return t.rows.map((function(t,e){return(e?n(tt,{data:t,klimit:i}):"")+n(ot,t)})).join("");case"indexes":var o=t.rows[0];return n(et,o)+n(tt,{data:o,klimit:i})+n(ot,o)}}function tt(t,e){var n,i=t.data;return t.klimit&&(n="Значение изменилось более чем на %d%%".replace(/%d%(%)/,t.klimit+"$1")),i.delta?'<td><i class="inline-stocks__cell inline-stocks__cell_type_delta inline-stocks__cell_delta_'+(i.is_hot?"hot":"small text_gray_yes")+'"'+(n&&i.is_hot?' title="'+n+'"':"")+' aria-hidden="true">'+i.delta+'</i><span class="a11y-hidden">'+String(i.delta).replace("−","-")+"</span></td>":""}function et(t){var e=t.datetime||t.time||t.date;return e?'<td><i class="inline-stocks__cell_datetime">'+e+"</i></td>":""}function nt(t,e,n){var i,o;switch(t.type){case"currency":i="сегодня",o="завтра";break;case"cash":i="покупка",o="продажа"}return n(it,{col2:i,col4:o})}function it(t){if(!t.col2&&!t.col4)return"";for(var e=[t.col2,t.col4],n="",i=0;i<e.length;i++)e[i]&&(n+='<th class="inline-stocks__cell" colspan="2">'+e[i]+"</th>");return'<tr class="inline-stocks__head">'+n+"</tr>"}function ot(t){return"<td>"+j().oneElem("<i class='inline-stocks__cell'>"+j().oneElem(t.value)+"</i>")+"</td>"}function st(t,e,n){return t.agencyUrl?n(rt,t):n(at,t)}function rt(t){return"<div "+k()({"class":"news__agency-icon news__agency-icon_image_yes",title:t.agencyTitle,style:'background-image:url("'+t.agencyUrl+'")'})+">"+j().oneElem(t.favoriteIcon)+"</div>"}function at(t){return"<div class='news__agency-icon news__agency-icon_image_yes'>"+(j().oneElem(t.favoriteIcon)+j().oneElem("<div "+k()({"class":"news__agency-icon-image-empty",title:t.agencyTitle})+"></div>"))+"</div>"}function ct(t,e,n){var i=t.data&&t.data.blocks||[],o={},s="";return i.forEach((function(t,i){if(!t.title)return"";o[t.chat_id]||(o[t.chat_id]=[n(D,{mix:"news__covid-chat",mods:{gray:"yes"},content:n(Y,{mix:"news__covid-chat-title",content:t.subtitle.toUpperCase()})+n(ut,t),href:t.url_subtitle,stat:e.stat.getAttr("news.covid.chanel",t.url_subtitle)})]),o[t.chat_id].push(n(lt,{title:n(D,{href:t.url,target:"_blank",title:t.title,mix:"news__covid-item-title-link",mods:{black:"yes"},stat:e.stat.getAttr("news.covid.item."+i,t.url),content:n(Y,{mod:"news__covid-item-title",content:t.title})})}))})),i.forEach((function(t){o[t.chat_id]&&(s+=o[t.chat_id].join(""),delete o[t.chat_id])})),n(ht,{items:s})}function lt(t){return"<li class='news__covid-item'>"+j().oneElem(t.title)+" "+j().oneElem(t.subtitle)+"</li>"}function ut(t,e,n){var i=home.rnd().substr(0,5);return t.icon?n(dt,{mods:{id:i},id:i,icon:"//yastatic.net/s3/home/covid/block/"+t.icon+".svg",iconSkin:"//yastatic.net/s3/home/covid/block/"+t.icon+"_skin.svg"}):""}function ht(t){return"<ul class='news__covid'>"+j().oneElem(t.items)+"</ul>"}function dt(t){return j().oneElem("<span "+k()({"class":T("news__covid-chat-icon",t||{})})+"></span>")+j().oneElem("<style>"+j().oneElem(".news__covid-chat-icon_id_"+F(t.id)+" { background-image: url("+F(t.icon)+"); } .document_dark_yes .news__covid-chat-icon_id_"+F(t.id)+" { background-image: url("+F(t.iconSkin)+"); }")+"</style>")}function ft(t,e,n){var i=t.item,o=t.icon,s=t.statPath;return j().oneElem("<span class='news__item-inner'>"+(j().oneElem(o)+j().oneElem("<span class='news__item-content'>"+j().oneElem(n(pt,{item:i,statPath:s}))+"</span>")+j().oneElem(i.ishot?n(Tt,null):""))+"</span>")}function pt(t){return t.item.full}function mt(t,e,n){return t.newsList.reduce((function(e,i,o){return e+n(_t,{enableExtraExpanded:n(vt),hasAnimation:t.hasAnimation,statId:t.statId,extraStatPath:t.extraStatPath,index:o,newTabLinks:t.newTabLinks,newsItemData:i,nolinks:t.nolinks,showIcons:t.showIcons,startIndex:t.startIndex})}),"")}function _t(t,e,n){var i=t.hasAnimation,o=t.extraStatPath,s=void 0===o?"":o,r=t.index,a=t.newsItemData,c=t.showIcons,l=t.nolinks,u=t.newTabLinks,h=t.mix,d=void 0===h?"":h,f=t.statId,p=t.shift,m=t.statPath;t.enableExtraExpanded,m||(m=f+".links."+s+(r+1)+(a.ishot?".main":"")),i&&0===r&&!p&&(d+=" list__item_fade_in");var _=a.full,g="";c?a.agency_name?(d+=" list__item_icon"+(a.ishot?"_hot":""),g=n(st,{agencyUrl:a.agency_logo,agencyTitle:a.agency_name,favoriteIcon:a.is_favorite?n(W,{mix:"news__agency-icon-favorite",content:n(W,{mix:"news__agency-icon-favorite-union"})+n(W,{mix:"news__agency-icon-favorite-sign",attrs:{title:"СМИ из избранных источников"}})}):""})):a.ishot&&(d+=" list__item_icon_empty"+(a.ishot?"_hot":"")):a.ishot&&(d+=" list__item_hot"),i&&(d+=" news__animated-item"),a.is_favorite&&(d+=" list__item_favorite");var v=[n(q,{href:l?"":a.href,content:n(ft,{icon:g,item:a,statPath:m}),stat:e.stat.getAttr(m),mix:"news__item list__item-content"+(g?" list__item-content_with-icon":""),mods:n(wt),attrs:{"aria-label":_,target:u?"_blank":"","data-id":a.id}})],b=!i&&a.extra_stories&&a.extra_stories.length&&n(gt),y=!i&&a.official_comments&&a.official_comments.length;return(b||y)&&(d+=" list__item_with-extra",v.push("<span class='news__extra-content-arrow-button'>"+j().oneElem(n(xt,{tip:"Новости по этой теме из других источников",statPath:m+".extra.button",attrs:{"aria-expanded":Boolean("")}}))+"</span>"),v.push("")),n(K,{mix:d,content:v,attrs:{value:i&&t.startIndex?r+t.startIndex+1:undefined}})}function gt(t,e){return Boolean(a("news.enableExtraStories"))}BEM.DOM.declMix("mix-tabber",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._keys=this._getKeys(),this._data=this._getInitData(),this._selectedKey=this._defaultKey=this._getDefaultKey(),this._panels={},this._defaultPanels={},this._showedPanels={},this._showedPanels[this._defaultKey]=!0,this._statRoot=this.params.statRoot||this.__self.getName(),this.elem("panel").toArray().forEach((function(t){var e=$(t),n=String(e.data("key"));this._panels[n]=e,this._defaultPanels[n]=!0}),this),this._$panel=this._panels[this._defaultKey]}}},_getKeys:function(){return this.params.keys},_getDefaultKey:function(){return this.params.selectedKey},_getInitData:function(){return this.params.data||{}},_selectTab:function(t,e){e=e||{},this._selectedKey!==t&&this._changeTab(t,e)},_changeTab:function(t){var e=!this._panels[t],n=this._panels[t]||(this._panels[t]=this._createPanel(t));this._togglePanelsOnChange(t,n),this._$panel=n,this._selectedKey=t,this._afterPanelChange(t,n,!e)},_togglePanelsOnChange:function(t,e){this._togglePanel(this._selectedKey,this._$panel,!1),this._togglePanel(t,e,!0)},_mapKeyToIndex:function(t){return this._keys.indexOf(t)},_createPanel:function(t){var e=$(w(A,{block:this.__self.getName(),id:this._uniqId,key:t,attrs:this._getPanelAttrs(t)}));return this._renderPanelInner(t,e,this._data[t]),e},_getPanelAttrs:function(){return{}},_renderPanelInner:function(t,e,n){e.append(this._getPanelHTML(t,n))},_afterPanelChange:function(t,e,n){n||this._onPanelDraw(t,e),this._showedPanels[t]||this._onPanelFirstShow(t,e),this._showedPanels[t]=!0,this._onPanelChange(t,e)},_onPanelDraw:function(t,e){BEM.DOM.init(e)},_onPanelFirstShow:function(t,e){home.stat.logDOMShow(e)},_onPanelChange:function(){},_getPanelHTML:function(t,e){return""},_togglePanel:function(t,e,n){e.attr("aria-hidden",n?"false":"true"),this._toggleMountPanel(t,e,n)},_toggleMountPanel:function(t,e,n){n?e.parent().length?e.css("display",""):this.elem("panels").append(e):e.css("display","none")}}),r(2949),r(6372),r(4536),r(3416),r(9700),r(1994),r(3436),r(9959),r(1425),r(9829),r(1643),BEM.DOM.declMix("mix-tabber-loader",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._dataPromises={}}}},_renderPanelInner:function(t,e,n){n?this.__base.apply(this,arguments):(e.append(this._renderLoader(t)).css("min-height",this._$panel.height()),this._loadAndDrawData(t,e))},_renderLoader:function(){return'<div class="'+this.__self.getName()+'__loader loader"></div>'},_afterPanelChange:function(t,e,n){this._data[t]||this._defaultPanels[t]?this.__base(t,e,n):BEM.DOM.init(e)},_loadAndDrawData:function(t,e){return this._loadDataWrapped(t).then(this._drawData.bind(this,t,e,!0),this._drawData.bind(this,t,e,!1))},_drawData:function(t,e,n){if(t!==this._selectedKey)return delete this._panels[t],void e.remove();var i;try{n&&(i=this._getPanelHTML(t,this._data[t]))}catch(o){home.error.logError({block:this.__self.getName(),message:o,meta:{key:t},sourceType:"render"})}i||(i=this._getPanelRetry(t)),e.html(i),this._onPanelReplace(t,e),n?this._afterPanelChange(t,e,!1):home.stat.logDOMShow(e)},_onPanelReplace:function(t,e){e.css("min-height","")},_loadDataWrapped:function(t,e){return e=e||{},this._dataPromises[t]||this._data[t]&&!e.forceReload?this._dataPromises[t]||Promise.resolve(this._data[t]):(this._dataPromises[t]=this._loadData(t).then(function(e){return e&&(this._data[t]=e),e}.bind(this),function(e){this._dataPromises[t]=null;var n=e.meta||{};throw n.key=t,home.error.logError({block:this.__self.getName(),meta:n,sourceType:"network"},e),e}.bind(this)),this._dataPromises[t])},_loadData:function(){return Promise.reject(new Error("Not implemented"))},_getPanelRetry:function(t){return w(L,{buttonMods:this._getRetryButtonMods(),key:t,block:this.__self.getName(),statRoot:this._statRoot})},_getRetryButtonMods:function(){return{theme:this.params.retryButtonTheme,size:"s"}},_onRetryClick:function(t){var e=this._panels[t];e&&(e.html(this._renderLoader(t)),BEM.DOM.init(e),this._loadAndDrawData(t,e))}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("retry-button","pointerclick",(function(t){return this._onRetryClick(String(t.data.domElem.data("key"))),!1}))}}),r(9435),r(6421),r(8885),r(8582),r(7951),r(8372),r(7298),BEM.DOM.decl("datetime",{onSetMod:{js:{inited:function(){var t=this;this._initDate(),this._prevDay=null,this._settedHour="",this._settedMin="",this._serverDate&&"Invalid Date"!==this._serverDate.toString()&&!isNaN(this._serverDate.getTime())&&(this.afterCurrentEvent(this._iterate),this._interval=setInterval((function(){t._iterate(),t._blink()}),1e3))}}},destruct:function(){clearInterval(this._interval),this.__base.apply(this,arguments)},_initDate:function(){this._serverDate=this.params.timestamp?new Date(this.params.timestamp+" GMT+0000"):null,this._loadDate=new Date},_iterate:function(){var t=new Date,e=new Date(this._serverDate.getTime()+(t.getTime()-this._loadDate.getTime()));this._proceedNewDate(e,t)},_proceedNewDate:function(t){var e,n;0===t.getUTCHours()&&0===t.getUTCMinutes()&&this._proceedNextDay(t),e=this._format(t.getUTCHours()),n=this._format(t.getUTCMinutes()),e===this._settedHour&&n===this._settedMin||(this._settedHour=e,this._settedMin=n,this.elem("hour").text(e),this.elem("min").text(n))},_proceedNextDay:function(t){var e=t.getDay();this._prevDay===e||this.hasMod("time-only","yes")||(this._drawNextDay(t,e),this._prevDay=e)},_drawNextDay:function(t,e){var n=this.findElem("date"),i=this.hasMod("short","yes"),o=t.getMonth()+1;n.replaceWith(w(U,{day:t.getDate()+(i?".":" "),month:i?this._format(o):l("month_accus."+o),wday:l("wday."+e)}))},_format:function(t){return t>9?String(t):"0"+t},_blink:function(){this.toggleMod("time-hidden","yes")}});var vt=M((function(t){return Boolean(a("news.enableExtraExpanded"))}));function bt(){return!1}function yt(){return!1}var wt=M((function(){return{color:"inherit",hover:"red"}}));function Et(t,e,n){var i,o=t.shownMoreNewsCount,s=void 0===o?0:o,r=t.nolinks,a=t.showIcons,c=t.newTabLinks,l=n(Bt,t),u=l.defaultNews,h=l.animatedNews,d=l.moreNews;return i="<div class='news__list-container'>"+j().oneElem(n(Pt,{news:u,nolinks:r,showIcons:a,statid:t.statid,newTabLinks:c}))+"</div>",n(yt)&&s+5===t.news.length&&(i+=n(kt,{name:t.name,collapsed:!0})),null!=d&&d.length&&(i+=n(kt,{name:t.name})),null!=h&&h.length&&(i+=n(H,{mix:"news__list news__animation-list",content:n(mt,{newsList:h,extraStatPath:"animation.",hasAnimation:!0,nolinks:r,showIcons:a,statId:t.statid,newTabLinks:c,startIndex:4})+n(Dt),type:"o"})),i}function kt(t,e){var n=" news__more-button_type_"+(t.collapsed?"collapse":"expand");return"<div class='news__more-news'>"+j().oneElem("<span "+k()({"class":"news__more-button"+n,"data-name":t.name,"aria-label":t.collapsed?"Свернуть":"Показать ещё",tabindex:"0",role:"button",_temp:e.stat.getAttr("news.more."+t.name+".expand")})+">"+j().oneElem("<span class='news__arrow-button-text'>"+j().oneElem(t.collapsed?"Свернуть":"Показать ещё")+"</span>")+"<svg width='20' height='20' viewbox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg' focusable='false' class='news__more-news-arrow'><path fill-rule='evenodd' clip-rule='evenodd' d='M4.7896 7.94735C5.09476 7.555 5.66021 7.48431 6.05256 7.78948L10 10.8597L13.9475 7.78948C14.3398 7.48431 14.9053 7.555 15.2104 7.94735C15.5156 8.3397 15.4449 8.90515 15.0526 9.21031L10.5526 12.7103C10.2276 12.9631 9.77247 12.9631 9.44747 12.7103L4.94747 9.21031C4.55512 8.90515 4.48444 8.3397 4.7896 7.94735Z' fill='currentColor'/></svg></span>")+"</div>"}function Mt(t){var e=t.news,n=t.shownMoreNewsCount,i=void 0===n?0:n;return e.slice(5+i)}function xt(t,e){var n=t.statPath,i=t.text,o=t.tip,s=t.attrs,r=t.mix;return(s=s||{})["class"]=home.getBEMClassname("news__arrow-button",{mix:r}),"<span "+k()(Object.assign({},s,{tabindex:"0",role:"button"},o&&{title:o},n&&{"data-counter":e.stat.logShow(n)}))+">"+j().oneElem(i&&"<span class='news__arrow-button-text'>"+j().oneElem(i)+"</span>")+"<svg focusable='false' class='news__arrow-button-icon' width='20' height='20' viewbox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' clip-rule='evenodd' d='M4.91235 7.78956C5.1497 7.4844 5.58949 7.42942 5.89465 7.66677L9.99998 10.8598L14.1053 7.66677C14.4105 7.42942 14.8503 7.4844 15.0876 7.78956L15.3332 8.1053C15.5705 8.41046 15.5156 8.85026 15.2104 9.08761L10.5525 12.7104C10.2275 12.9632 9.77243 12.9632 9.44743 12.7104L4.78956 9.08761C4.4844 8.85026 4.42942 8.41046 4.66677 8.1053L4.91235 7.78956Z' fill='currentColor'/></svg></span>"}function Bt(t,e,n){var i=t.news,o=t.shownMoreNewsCount,s=void 0===o?0:o,r=n(bt),a=n(yt),c=i.length>5;return c&&a?{defaultNews:i.slice(0,5+s),moreNews:n(Mt,{news:i,shownMoreNewsCount:s})}:c&&!r?{defaultNews:i.slice(0,4),animatedNews:i.slice(4)}:{defaultNews:i.slice(0,5)}}function Ct(t,e,n){return t?Array.isArray(t.news)&&t.news.length?n(Et,t):"covid"===t.name?n(ct,t):(home.error({block:"news",message:"No content for tab "+t.name}),""):""}function Tt(){return"<svg class='b-ico news__hot' focusable='false' aria-hidden='true' width='16' height='16'><path class='news__hot-icon' d='M4 9l6-8-1.7 6H12l-6 8 1.7-6'/></svg>"}function St(){return"<div class='news__loader'><div class='news__loader-line'></div><div class='news__loader-line'></div><div class='news__loader-line'></div><div class='news__loader-line'></div><div class='news__loader-line'></div></div>"}function Dt(){return"<span aria-hidden='true'> </span>"}function Pt(t,e,n){var i=t.active?"getAttr":"getAdaptiveCounter",o=e.Topnews.nolinks;return n(H,{mod:"b-news-list",content:t.tab.news.map((function(s,r){var a=t.tab.statid+".links."+(r+1)+(s.ishot?".main":"");return n(K,{content:n(D,{href:!o&&s.href,target:t.linksTarget,mix:"list__item-content home-link_black_yes",content:s.text+s.hreftext,stat:e.stat[i](a),attrs:{"aria-label":s.text+s.hreftext}})})})).join(""),type:"o"})}function It(){return"<div class='input__ahead'><input class='input__ahead-hint' type='text' disabled='disabled' aria-hidden='true'><span class='input__ahead-filler'></span><div class='input__ahead-hintholder'></div></div>"}function Ot(t,e,n){var i=t.row;return n(Ft,{href:i.uid?t.host+"thread/"+i.uid:"javascript:void(0)",hint:n(Rt,{express:i.express?"Экспресс&#32;":"",name:i.name||i.title}),time:i.stime||i.departure,timeClass:i.express?" etrains__time_express":"",stat:e.stat.getAdaptiveCounter(t.counter)})}function jt(t,e,n){var i,o,s="",r=[],a=(t.from||"").replace(/\s*\(.*$/,""),c=(t.to||"").replace(/\s*\(.*$/,""),l=t.today,u=t.tomorrow,h="rasp."+t.counterType+".track";if(l&&l.length||u&&u.length){if(l&&l.length)for(i=0,o=l.length;i<o;i++)r.push(n(Ot,{row:l[i],host:t.host,counter:h}));if(u&&u.length)for(i=0,o=u.length;i<o;i++)r.push(n(Ot,{row:u[i],host:t.host,counter:h}));s=n(At,{direction:n(Nt,{stfrom:a,stto:c}),times:r.join(""),trackClass:t.direction?"fwd":"rev"})}return s}function At(t){return"<span "+k()({"class":"etrains__track etrains__track-"+t.trackClass})+">"+(j().oneElem(t.direction)+j().oneElem("<ul class='etrains__times-list'>"+j().oneElem(t.times)+"</ul>"))+"</span>"}function Ft(t){return"<li class='etrains__track-time'>"+(j().oneElem("<a "+k()({href:t.href,"class":"home-link home-link_black_yes etrains__time"+F(t.timeClass),_temp:t.stat,_temp1:t.target})+">"+j().oneElem(t.time)+"</a>")+j().oneElem(t.hint))+"</li>"}function Nt(t){return"<span class='etrains__direction home-link home-link_black_yes'>​"+j().oneElem(t.stfrom)+" → "+j().oneElem(t.stto)+"</span>"}function Rt(t){return"<div class='etrains__hint'>"+j().oneElem("<span class='etrains__hint-baloon'><i class='etrains__hint-baloon-tail-bd'></i><i class='etrains__hint-baloon-tail'></i>"+j().oneElem("<span class='inline-stocks__item__baloon_inner'>"+(j().oneElem(t.express)+j().oneElem(t.name))+"</span>")+"</span>")+"</div>"}function Lt(t,e,n){var i=n(qt);return i[t]?i[t]:t.replace(/_/g,"-")}BEM.DOM.decl({block:"news",baseMix:["mix-tabber","mix-tabber-labels","mix-tabber-labels-keyboard","mix-tabber-loader","mix-tabber-loader-keyboard","mix-tabber-labels-preloader","mix-tabber-slide2","mix-tabber-wheel"]},{_loadData:function(t){var e="personalRotate"===t;return"personal"===t||e?$.ajax({url:e?this.params.personalRotateDataUrl:this.params.personalDataUrl,xhrFields:{withCredentials:!0},dataType:"json",timeout:15e3}).asPromise().then(function(e){return Array.isArray(e.items)&&e.items.length>=5?{name:t,nolinks:this.params.nolinks,statid:"news."+t,news:e.items.map((function(t){var e=home.parseUrl(t.obj.url),n={full:t.obj.title,ishot:t.obj.is_hot};return e.query.utm_source="morda_desktop",e.query.utm_medium="topnews_personal",this.params.yandex0&&(e.query.yandex="0"),n.href=home.makeUrl(e),this.params.showIcons&&Array.isArray(t.obj.annot_docs)&&t.obj.annot_docs[0]&&t.obj.annot_docs[0].source_name&&(n.agency_logo=t.obj.annot_docs[0].logo_square?t.obj.annot_docs[0].logo_square+"/logo-square":undefined,n.agency_name=t.obj.annot_docs[0].source_name,this.params.favoriteIcon&&(n.is_favorite=t.obj.is_favorite)),n}),this),showIcons:this.params.showIcons,newTabLinks:this.params.newTabLinks}:Promise.reject("Incorrect data")}.bind(this))["catch"](function(n){if(e)throw new Error(n);return home.error.logError({block:this.__self.getName(),meta:{key:t},sourceType:"network"},n),this.params.personalFallbackData}.bind(this)):this.__base.apply(this,arguments)},_getPanelHTML:function(t,e){var n=w(Mt,{news:e.news}),i=this.findBlockOn("news");return a("news.enableMoreNews")&&i&&i.getMoreCount&&i.setMoreNewsData&&(e.shownMoreNewsCount=i.getMoreCount()||0,i.setMoreNewsData(e.name,{list:n,statid:e.statid,newTabLinks:e.newTabLinks})),w(Ct,e)},_renderLoader:function(){return w(St)}},{live:function(){return this.__base.apply(this,arguments),!1}}),r(2614),r(1437),r(9294),r(5e3),r(9161),r(623),r(7965),r(5027),r(8370),r(4494),BEM.DOM.decl({block:"inline-stocks",modName:"new",modVal:"yes"},{onSetMod:{js:function(){this.__base(),this.bindTo("more","pointerclick",this.toggleMore),this.bindTo("more","keydown",this._keydown),this.getPopup()._owner=this.domElem}},_keydown:function(t){if(!(t.altKey||t.metaKey||t.ctrlKey||t.shiftKey))switch(t.which){case 32:t.preventDefault();case 13:this.toggleMore()}},toggleMore:function(){var t=this.getPopup();t.isShown()||this.onShow(t),t.toggle(this.domElem)},getPopup:function(){return this.__self._popup||(this.__self._popup=this.createPopup())},onShow:function(t){var e=this;if(!this.data||this.data&&this.datats&&Number(new Date-this.datats)>6e4)return e.toggleState("load"),$.ajax({url:this.params.stocksUrl,dataType:"json",success:function(n){n&&n.Stocks?(e.datats=Number(new Date),e.data=n,e.createTable(n,t),e.onShow(t)):e.toggleState("error")},error:function(){e.toggleState("error")}});this.toggleState("tables"),home.stat.logDOMShow(t.domElem,{visibilityCheck:!1}),this.getPopup()._unbindFocusEvents(),this.getPopup()._bindFocusEvents()},createPopup:function(){var t=$(BEMHTML.apply({block:"popup",mods:{theme:"ffffff",autoclosable:"yes","has-close":"yes",animate:"yes",adaptive:"yes"},cls:"inline-stocks__popup-wrap",js:{directions:[{to:"bottom",axis:"left",offset:{left:-25,top:-25}}]},content:[{elem:"close",attrs:{"data-statlog":"news_rates_manual.popup.close"}},{elem:"content",mods:{padded:"old"}}]}));return t=this.findBlockOn(t,"popup"),this.__self.popup=this.elem("popup"),t.elem("content").append(this.__self.popup),t.on("show hide",(function(){this.isShown()?this.elem("more").attr("aria-expanded","true"):this.elem("more").attr("aria-expanded","false")})),t.on("outside-click",(function(t,e){if($(e.target).closest("#widget_pref_form").length)return!1})),t},templates:{val:function(t){return'<td><i class="inline-stocks__cell">'+t.value+"</i></td>"},delta:function(t,e){var n,i=home.getData("inline-stocks.alts");return e&&i&&(n=i.bigdiff.replace(/%d%(%)/,e+"$1")),t.delta?'<td><i class="inline-stocks__cell inline-stocks__cell_type_delta inline-stocks__cell_delta_'+(t.is_hot?"hot":"small")+'"'+(n&&t.is_hot?' title="'+n+'"':"")+' aria-hidden="true">'+t.delta+'</i><span class="a11y-hidden">'+String(t.delta).replace("−","-")+"</span></td>":""},date:function(t){var e=t.datetime||t.time||t.date;return e?'<td><i class="inline-stocks__cell_datetime">'+e+"</i></td>":""}},rowsByType:{cash:function(t){return t.map(this.templates.val).join("")},currency:function(t,e){return t.map((function(t,n){return(n?this.templates.delta(t,e):"")+this.templates.val(t)}),this).join("")},indexes:function(t,e){var n=t[0];return this.templates.date(n)+this.templates.delta(n,e)+this.templates.val(n)}},createTable:function(t){var e=this,n=w(X,t.Stocks),i=this.findElem(this.__self.popup,"tables");i.html(n),this.findElem(i,"table").each((function(){e.toggleTommorrowTitleVisibility($(this))}))},toggleTommorrowTitleVisibility:function(t){var e=this.getMod(t,"type");if("indexes"!==e){var n=t.find("tr:not(.inline-stocks__head)"),i=0;n.each((function(){var t=$(this).find("td").length;i<t&&(i=t)}));var o="hide";(i>3&&"currency"===e||i>2&&"cash"===e)&&(o="show"),t.find(".inline-stocks__head .inline-stocks__cell:last")[o]()}},updateFunc:function(t){this.__base(t)},replaceCaps:function(t){return t.replace(/<(\w)>([^<]+)<\/\1>/g,(function(t,e,n){switch(e){case"c":return'<span class="b-stocks__caps">'+n+"</span>";case"d":return'<span class="b-stocks__numbers">'+n+"</span>";default:return t}}))},toggleState:function(t){this.setMod(this.__self.popup,"state",t)},getId:function(){return"_stocks-1"},getInstance:function(){return window.Widget&&Widget.Framework.get("_stocks-1")},showForm:function(t){var e=this;t.preventDefault(),this.toggleMore(),$(".b-wdgt-preferences").bem("b-wdgt-preferences").show($("#wd-wrapper-"+this.getId()).bem("widget"),(function(){e.data=null,e.toggleMore()}))}}),r(3067),r(2585),r(8986),r(3623),r(2835),r(9864),r(1286),r(5243),r(8174),r(215),r(8589),r(1478),r(8097),r(5601),r(8818),r(8375),r(9517),r(9339),r(7009),r(1632),r(6564),r(7679),r(2057),r(1609),r(1683),r(3879),r(3496),r(8127),r(7472),r(9745),r(574),r(9715),r(500),r(9609),r(82),BEM.DOM.decl({name:"input",modName:"ahead",modVal:"yes"},{onSetMod:{js:function(){var t=$.browser&&$.browser.opera&&$.browser.version<12.1?"keypress":"keydown";this.__base(),this._leftPadding=parseInt(this.elem("input").css("border-left-width"),10),this._intent=!1,this._preventAhead=!1,this._lastBackspace=0,this.on("change",this._onTextChange).on("blur",(function(){this.delMod("ahead-visible")})).bindTo("click",this._onClickOver).bindTo(t,this._onKeyDown)}},_onClickOver:function(t){var e=this;if(!this._preventAhead&&this._ahead&&this.elem("input").is(t.target))if(this.hasMod("ahead-visible")){var n=t.pageX-this.domElem.offset().left-this._leftPadding,i=this.elem("ahead-filler").width(),o=this.elem("ahead-hintholder").width();n>i&&n<o&&(this.trigger("ahead-click"),setTimeout((function(){e._fill({usage:"mouse"})}),0))}else this.setMod("ahead-visible","yes")},_onKeyDown:function(t){if(this.__base.apply(this,arguments),this._ahead)switch(new Date-this._lastBackspace>this.params.backspaceDelay&&(this._preventAhead=!1),t.which){case 8:if(!this.params.hideOnBackspace)break;this._preventAhead=!0,this._lastBackspace=new Date,this._intent=this._clearAhead();break;case 9:this.hasMod("focused","yes")&&this._intent&&!t.ctrlKey&&!t.altKey&&this._fill({usage:"tab"})&&t.preventDefault();break;case 39:this.val().length===this.getSelectionEnd()&&this._fill({usage:"arrow"})&&t.preventDefault()}},setAhead:function(t){var e;return!this._preventAhead&&(e=this.val(),0!==t.indexOf(e)?this._clearAhead():void(this._intent=this._setAhead(e,t.slice(e.length))))},unsetAhead:function(){this._clearAhead(),this._intent=!1},_onTextChange:function(){this._ahead||this._buildAhead();var t=this.val().length;this.shiftAhead(t),this._intent&&0!==this._intent.indexOf(this.val())?this._clearAhead():this.setMod("ahead-visible","yes")},_fill:function(t){var e=this.val(),n=$.extend(t,{chars:this._intent.length-e.length});if("string"==typeof this._intent&&n.chars>0&&0===this._intent.indexOf(e)){try{var i=document.createEvent("TextEvent");i.initTextEvent("textInput",!0,!0,null,this._intent.slice(this.val().length),9),this._input.selectionEnd=this._input.selectionStart=this._intent.length,this._input.dispatchEvent(i)}catch(r){var o=this.elem("control").get(0);if(this.val(this._intent),o.createTextRange){var a=o.createTextRange();a.moveEnd("character",this._intent.length),a.collapse(!1),a.select()}else try{o.selectionEnd=o.selectionStart=this._intent.length}catch(s){}}this.trigger("ahead-fill",n),home.stat.logPath("tech","suggest.ahead."+t.usage)}return n.chars>0},getSelectionEnd:function(){var t=this.elem("control")[0],e=0;if("number"==typeof t.selectionEnd)e=t.selectionEnd;else{var n=document.selection.createRange();if(n&&n.parentElement()===t){var i=t.value.length,o=t.createTextRange();o.moveToBookmark(n.getBookmark());var s=t.createTextRange();s.collapse(!1),e=o.compareEndPoints("EndToEnd",s)>-1?i:-o.moveEnd("character",-i)}}return e},getDefaultParams:function(){return $.extend(this.__base(),{backspaceDelay:100,hideOnBackspace:!0})},_buildAhead:function(){this._ahead||(this._ahead=$(w(It)),BEM.DOM.before(this.elem("control"),this._ahead))},_setAhead:function(t,e){this._ahead||this._buildAhead();var n=this.elem("ahead-filler");return this._preventAhead?(t="",e=""):(t=t||"",e=e||""),n.text(t),this.elem("ahead-hintholder").text(t+e),this.elem("ahead-hint").val(t+e),this.elem("ahead").css("clip","rect(auto auto auto "+(n.width()+this._leftPadding)+"px)"),t+e},_clearAhead:function(){return this._setAhead("",""),!1},shiftAhead:function(t){if(this._intent){var e=this._intent.slice(0,t),n=this._intent.slice(t);this._setAhead(e,n)}}}),r(1299),r(2649),r(528),r(4196),r(792),r(3560),r(2192),r(399),r(5563),r(6008),r(1793),r(5417),r(8952),r(6656),r(7621),r(8448),r(8356),r(4487),r(6548),r(6874),r(9753),r(7106),r(5625),r(5997),r(8540),r(3537),r(8446),r(5814),r(1895),r(874),r(7206),r(634),r(4157),r(155),r(1136),r(6307),r(8568),r(8228),r(6303),r(7282),r(4811),r(2746),r(5947),r(2595),r(7382),r(1315),r(2306),r(1789),r(9424),r(9320),r(1424),r(9542),r(8090),r(4948),r(1720),r(6896),r(619),BEM.DOM.decl({block:"etrains",modName:"client",modVal:"yes"},{init:function(){var t=this.domElem.data("widget"),e=this.params;if(t&&e.host){var n=e.host+"widgets/suburban/next_trains",i={};["rasp_to","rasp_direction","rasp_from","minutes_forward","minutes_backward","n"].forEach((function(e){var n=t.getValue(e);n&&(i[e]=n)})),$.ajax({url:n,data:i,dataType:"jsonp",success:this.changeThis((function(e){this.draw(e),$(window).trigger({type:"widgetLoaded",id:t.id})})),error:this.changeThis((function(){this.clear(),$(window).trigger({type:"widgetLoaded",id:t.id})}))})}},draw:function(t){var e,n;if(t){var i=!0,o=this.params.counterType;t.routes_forward.length||(i=!1),e=w(jt,{from:t.from.name,to:t.to.name,today:t.routes_forward,host:this.params.host,direction:i,counterType:o}),n=w(jt,{from:t.to.name,to:t.from.name,today:t.routes_backward,host:this.params.host,direction:!i,counterType:o}),e||n||(e=n="")}else e=n="";this.elem("tracks").append(e,n),home.stat.logDOMShow(self.domElem)},clear:function(){this.elem("tracks").empty()}},{live:function(){this.__base.apply(this,arguments),this.liveInitOnEvent("init",(function(t,e){this.init(e)}))}}),r(3408),r(8539),r(7169),r(182),r(3221),r(3367),r(4372),r(8731),r(299),r(6947),r(967),r(6729),r(9831),r(1507),r(9989),r(9642),r(3069),r(9170),r(5748),r(2389);var qt=M((function(){return{}}));function Ut(t){return"<img "+k()({"class":"dist-popup__image",alt:"",src:t.image})+">"}BEM.DOM.decl("media-grid",{onSetMod:{js:function(){this._notInitedBlocks=this.params.layout,this._notShowedBlocks=this._notInitedBlocks.slice(),this._sendRealShowDebounced=$.debounce(this._sendRealShow,400,this),this._onScroll(null,BEM.DOM.win.scrollTop()),this.channel("i-reposition-event").on("reposition",this._onScroll,this)}},_getDom:function(t){return this.elem("row").filter('[data-blockname="'+t+'"]').children().eq(0)},_getBlock:function(t,e){this.findBlockOn(t,w(Lt,e))},_requestInit:function(t){this._notInitedBlocks=this._notInitedBlocks.filter((function(e){var n=this._getDom(e);return n.length?t<n.offset().top||(this.setMod("visible","yes"),this._getBlock(n,e),home.stat.logDOMShow(n),void this.setMod(n.closest("[data-blockname]"),"visible","yes")):(home.error.logError({block:"media-grid",method:"_requestInit",message:"Child not found: "+e}),!1)}),this)},_sendRealShow:function(t,e){this._notShowedBlocks=this._notShowedBlocks.filter((function(n){var i=this._getDom(n);if(!i.length)return!1;var o=i.height(),s=i.offset().top,r=s+o;if(!(t<=s&&r<=e||s<=t&&r<=e&&(r-t)/o>.5||t<=s&&e<=r&&(e-s)/o>.5))return!0;var a=this._getBlock(i,n);a&&a.setMod("visible","yes"),home.stat.logPath("show",n+".realshow")}),this),this._notShowedBlocks.length||this.channel("i-reposition-event").un("reposition",this._onScroll,this)},_onScroll:function(t,e){var n=window.innerHeight+e;this._requestInit(n),this._sendRealShowDebounced(e,n),!this._shown&&n>this.domElem.offset().top+this.__self.MIN_VISIBLE_HEIGHT&&(this._shown=!0,home.stat.logPath("show","mediafooter.realshow"))}},{MIN_VISIBLE_HEIGHT:62}),r(9284),r(5440),r(3260),r(2094),r(6596),BEM.DOM.decl("dist-popup",{onSetMod:{js:function(){this.__base(),this._initPopup()}},_initPopup:function(){setTimeout(function(){BEM.blocks["i-message-locker"].acquireLock("dist-popup",this._hide.bind(this)).then(function(){this._onShow()}.bind(this),this.destruct.bind(this))}.bind(this),this.__self.SHOW_TIMEOUT)},_getPopupPosition:function(){return{top:12,left:18}},_bindEvents:function(){this.bindTo("no close","click",this._onNoClick),this.bindKeyTo("close","space enter",this._onNoClick),this.bindTo("yes","click",this._onYesClick)},_onShow:function(){var t=this.params,e=t.counters,n=$("html").hasClass("i-ua_inlinesvg_yes")&&t.icons.icon_svg||t.icons.icon;this.elem("image-wrapper").prepend(w(Ut,{image:n})),this.popup=this.findBlockOn("popup").show(this._getPopupPosition()),this.popup.on({"before-hide":this._onBeforeHide,hide:this._onHide},this),this.popup._unbindFocusEvents(),MBEM.blocks["i-mini-visibilitychange"].waitForVisible(function(){this._sendCounter(e.show)}.bind(this)),this._bindEvents()},_onBeforeHide:function(t,e){e&&["esc-key","close-click"].indexOf(e.source)>-1&&this.afterCurrentEvent(this._countCancel)},_onHide:function(){BEM.blocks["i-message-locker"].releaseLock("dist-popup"),setTimeout(this.destruct.bind(this),this.__self.DESTRUCT_TIMEOUT)},_onYesClick:function(){this._closeFlag(this.params.close_url),this.params.yaCounterId&&(BEM.blocks["i-metrika"].add({id:this.params.yaCounterId,triggerEvent:!0}),this.params.bannerid&&BEM.blocks["i-bannerid"].save(this.params.bannerid))},_onNoClick:function(){return this.popup.hide(),this._countCancel(),!1},_hide:function(){this.popup&&this.popup.hide()},_countCancel:function(){this._closeFlag(this.params.close_url),this.params.quarantineUrl&&this._closeFlag(this.params.quarantineUrl),this._sendCounter(this.params.counters.no),window.home.gaCounter.trackCancelPopup()},_closeFlag:function(t){t&&((new Image).src=t)},_sendCounter:function(t){t&&t.length&&t.forEach((function(t){"path"===t.type?home.stat.logPath("click",t.content):"image"===t.type?(new Image).src=t.content:"show"===t.type&&home.stat.logPath("show",t.content)}))},destruct:function(){return this.popup&&(this.popup.destruct(),this.popup=null),this.__base.apply(this,arguments)}},{SHOW_TIMEOUT:1e3,DESTRUCT_TIMEOUT:1e3}),r(7929),r(6517),BEM.DOM.decl("paas",{},{_load:function(){var t=this;return this._loader=new Promise((function(t,e){!function(t,e,n,i){var o=document.createElement("script");o.charset="utf-8",e&&(o.onload=e),n&&(o.onerror=function(){n(new Error("Failed to load script "+t))}),o.src=t,o.crossOrigin="anonymous",document.getElementsByTagName("head")[0].appendChild(o)}("//yastatic.net/q/ya-paranja/client.js?build=morda",t,e)}))["catch"]((function(e){t._loader=undefined,s({block:"paas",sourceType:"network",method:"_load",message:"Error loading source for paas"},e)})),this._loader},show:function(t){(this._loader||this._load()).then((function(){var e;null!=(e=window.Ya)&&e.Paranja&&(window.Ya.Paranja.init({from:"morda",product:t,mod:"iframe"}),window.Ya.Paranja.show())}))}}),r(808),r(5378),r(2530),r(9137),r(2155),r(5739),r(7134),r(5524),r(4450),r(2845),r(8995),r(8505),r(6419),r(4620),r(8784),r(1827),r(4854),r(4896),BEM.DOM.decl("dist-overlay",{onSetMod:{js:{inited:function(){var t=this;BEM.blocks["i-message-locker"].acquireLock("dist-overlay",this._hide.bind(this)).then((function(){var e;t._modal=t.findBlockInside("modal"),t._bindEvents(),null==(e=t._modal)||e.setMod("visible","yes"),t.elem("link").trigger("focus")}))}}},_bindEvents:function(){var t,e,n;this.bindKeyTo("link","space enter",this._onLinkClick),this.bindTo("link","pointerclick",this._onLinkClick),null==(t=this._modal)||t.on("beforeOpen",this._beforeOpen,this),null==(e=this._modal)||e.on("beforeClose",this._beforeClose,this),null==(n=this._modal)||n.findElem("close").on("keydown",(function(t){return t.preventDefault()}))},_hide:function(){this._modal&&this._modal.delMod("visible")},_beforeOpen:function(){var t,e=null==(t=this.params)?void 0:t.linknext;home.stat.logPath("show","dist_overlay.realshow"),e&&BEM.blocks["i-yabs-sender"].sendShow(e)},_beforeClose:function(){var t,e=null==(t=this.params)?void 0:t.closeUrl;home.stat.logPath("click","dist_overlay.cancel"),e&&((new Image).src=e)},_onLinkClick:function(t){var e,n;t.preventDefault(),null==(e=this._modal)||e.un("beforeClose",this._beforeClose,this),this._download(),null==(n=this._modal)||n.destruct()},_download:function(){var t,e,n;home.stat.logPath("show","dist_overlay.ok");var i,o,s=null==(t=this.params)||null==(e=t.install)?void 0:e.url,r=null==(n=this.params)?void 0:n.bannerid;s&&(i=s,(o=window.open("","_blank"))&&(o.opener=null,o.location=i),r&&BEM.blocks["i-bannerid"].save(r))}}),r(5341),r(6154),r(459),r(9818),r(8035),r(8435),r(5220),r(3285),r(4778),r(5454),r(8020)}()}(),function(t){if("function"==typeof t.I18N&&t.I18N._proto)return t.I18N;"undefined"==typeof i18n&&(i18n={}),BEM=t;var e={},n=[],i=!1,o="undefined"!=typeof console&&"function"==typeof console.log;function s(t,e){if(i&&o){var n="keyset: "+e._keyset+" key: "+e._key+" (lang: "+e._lang+")";console.log(t,n)}}function r(){this._lang="",this._prj="lego",this._keyset="",this._key=""}r.prototype={lang:function(t){return this._lang=t,this},project:function(t){return this._prj=t,this},keyset:function(t,e){var i;return e&&function(t){t&&n.push(t)}(this._keyset),this._keyset="string"==typeof(i=t)?i:i.block+(i.elem?"__"+i.elem:"")+(i.modName?"_"+i.modName+"_"+i.modVal:""),this},key:function(t){return this._key=t,this},decl:function(t){var n=function(t){var e={};return t.split("__").forEach((function(t,n){var i=[n?"elem":"block","mod","val"];t.split("_").forEach((function(t,n){e[i[n]]=t}))})),e}(this._keyset),i="i-tanker"===n.block?"tanker":this._prj,o=n.elem||this._keyset,s=this._key;(o=(i=i18n[i]||(i18n[i]={}))[o]||(i[o]={}))[s]="function"==typeof t?t:function(){return t};var r=e[this._lang]||(e[this._lang]={});(r[this._keyset]||(r[this._keyset]={}))[s]=t},val:function(t,n){var i=e[this._lang]&&e[this._lang][this._keyset];if(!i)return s("[I18N_NO_KEYSET] %s",this),"";var o=typeof(i=i[this._key]);return"undefined"===o?(s("[I18N_NO_VALUE] %s",this),""):"string"===o?i:i.call(n||this,t)},_cache:function(){return e}};var a=function(t,e,n){return a.keyset(t).key(e,n)};a._proto=new r,a.project=function(t){return this._proto.project(t),this},a.keyset=function(t){return this._proto.keyset(t,!0),this},a.key=function(t,e){var i,o,s=this._proto;return s.lang(this._lang).key(t),i=s.val(e,a),(o=n.length&&n.pop())&&s.keyset(o,!1),i},a.decl=function(t,e,n){var i,o=this._proto;for(i in n&&n.lang&&o.lang(n.lang),o.keyset(t),e)e.hasOwnProperty(i)&&o.key(i).decl(e[i]);return this},a.lang=function(t){return void 0!==t&&(this._lang=t),this._lang},a.debug=function(t){i=!!t},a.lang("ru"),t.I18N=a}("undefined"==typeof BEM?{}:BEM),"undefined"!=typeof BEM&&BEM.I18N&&(BEM.I18N.decl("auth",{auth:"Авторизация","fill-input":"Заполните это поле",login:"Логин",logon:"Войти",more:"Ещё",password:"Пароль",register:"Регистрация",remember:"Вспомнить пароль","social-log-in":"Войти при помощи социальной сети",temporary:"Чужой компьютер","wrong-characters":"Недопустимый ввод","wrong-keyboard-layout":"Смените раскладку","wrong-password":"Пароль не может совпадать с логином"},{lang:"ru"}),BEM.I18N.decl("b-keyboard-popup",{close:"закрыть"},{lang:"ru"}),BEM.I18N.decl("popup",{add:"Добавить",cancel:"Отмена",revert:"Вернуть",apply:"Применить"},{lang:"ru"}),BEM.I18N.decl("search2",{"search-button-text":"Найти","search-input-label":"Запрос","search-service-label":"Поиск по сервису","search-web-label":"Поиск в интернете"},{lang:"ru"}),BEM.I18N.decl("suggest2",{fact:"Факты",group:"Группа подсказок",nah:"Вы искали",nav:"Сайт",on_other_devices:"На других устройствах",text:"Поиск",traffic:"Пробки",weather:"Погода"},{lang:"ru"}),BEM.I18N.decl("suggest2-item",{"quick-answer":"Быстрый ответ"},{lang:"ru"}),BEM.I18N.lang("ru")),function(t){function e(e){var n={},i=new(function(e,n){return function(i){if("object"==typeof n&&void 0!==e)e.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).bemhtml=i()}}((function(){return function t(e,n,i){function o(r,a){if(!n[r]){if(!e[r]){var c="function"==typeof require&&require;if(!a&&c)return c(r,!0);if(s)return s(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};e[r][0].call(u.exports,(function(t){var n=e[r][1][t];return o(n||t)}),u,u.exports,t,e,n,i)}return n[r].exports}for(var s="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(t,e,n){var i=t("inherits"),o=t("../bemxjst/match").Match,s=t("../bemxjst/entity").Entity;function r(t){this.bemxjst=t,this.jsClass=null,this.tag=new o(this,"tag"),this.attrs=new o(this,"attrs"),this.mod=new o(this),this.js=new o(this,"js"),this.mix=new o(this,"mix"),this.bem=new o(this,"bem"),this.cls=new o(this,"cls"),s.apply(this,arguments)}i(r,s),n.Entity=r,r.prototype.init=function(t,e){this.block=t,this.elem=e,this.jsClass=this.bemxjst.classBuilder.build(this.block,this.elem)},r.prototype._initRest=function(t){"default"===t?this.rest[t]=this.def:"tag"===t||"attrs"===t||"js"===t||"mix"===t||"bem"===t||"cls"===t||"content"===t?this.rest[t]=this[t]:this.rest.hasOwnProperty(t)||(this.rest[t]=new o(this,t))},r.prototype.defaultBody=function(t){var e,n=this.tag.exec(t);!1!==t.ctx.js&&(e=this.js.exec(t));var i=this.bem.exec(t),o=this.cls.exec(t),s=this.mix.exec(t),r=this.attrs.exec(t),a=this.content.exec(t);return this.bemxjst.render(t,this,n,e,i,o,s,r,a)}},{"../bemxjst/entity":5,"../bemxjst/match":8,inherits:11}],2:[function(t,e,n){var i=t("inherits"),o=t("../bemxjst/utils"),s=t("./entity").Entity,r=t("../bemxjst");function a(t){r.apply(this,arguments);var e="undefined"==typeof t.xhtml||t.xhtml;this._shortTagCloser=e?"/>":">",this._elemJsInstances=t.elemJsInstances}i(a,r),e.exports=a,a.prototype.Entity=s,a.prototype.runMany=function(t){var e="",n=this.context,i=n.position,o=n._notNewList;if(o?n._listLength+=t.length-1:(n.position=0,n._listLength=t.length),n._notNewList=!0,this.canFlush)for(var s=0;s<t.length;s++)e+=n._flush(this._run(t[s]));else for(s=0;s<t.length;s++)e+=this._run(t[s]);return o||(n.position=i),e},a.prototype.render=function(t,e,n,i,s,r,a,c,l){var u=t.ctx;if(n===undefined&&(n="div"),!n)return this.renderNoTag(t,i,s,r,a,c,l);var h,d="<"+n,f=u.js;!1!==f&&(!0===i&&(i={}),i&&i!==u.js?!0!==f&&(i=o.extend(f,i)):!0===f&&(i={})),i&&((h={})[e.jsClass]=i);var p=s;p===undefined&&(p=u.bem===undefined?e.block||e.elem:u.bem),p=!!p,r===undefined&&(r=u.cls);var m=h&&(this._elemJsInstances?e.block||e.elem:e.block&&!e.elem);if(!p&&!r)return this.renderClose(d,t,n,c,p,u,l);if(d+=' class="',p){var _=e.elem?t.elemMods:t.mods;if(d+=e.jsClass,d+=this.buildModsClasses(e.block,e.elem,_),u.mix&&a&&a!==u.mix&&(a=[].concat(a,u.mix)),a){var g=this.renderMix(e,a,h,m);d+=g.out,h=g.jsParams,m=g.addJSInitClass}r&&(d+=" "+("string"==typeof r?o.attrEscape(r).trim():r))}else r&&(d+=r.trim?o.attrEscape(r).trim():r);return d+=m?' i-bem"':'"',p&&h&&(d+=" data-bem='"+o.jsAttrEscape(JSON.stringify(h))+"'"),this.renderClose(d,t,n,c,p,u,l)},a.prototype.renderClose=function(t,e,n,i,s,r,a){var c=t,l=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&null!==t};if(l(i)||l(r.attrs))for(var u in i=o.extend(i,r.attrs)){var h=i[u];h!==undefined&&!1!==h&&null!==h&&(c+=!0===h?" "+u:" "+u+'="'+o.attrEscape(o.isSimple(h)?h:this.context.reapply(h))+'"')}return o.isShortTag(n)?(c+=this._shortTagCloser,this.canFlush&&(c=e._flush(c))):(c+=">",this.canFlush&&(c=e._flush(c)),(a||0===a)&&(c+=this.renderContent(a,s)),c+="</"+n+">"),this.canFlush&&(c=e._flush(c)),c},a.prototype.renderMix=function(t,e,n,i){var s={},r=this.context,a=n,c=i;s[t.jsClass]=!0,o.isArray(e)||(e=[e]);for(var l=this.classBuilder,u="",h=0;h<e.length;h++){var d=e[h];if(d){"string"==typeof d&&(d={block:d,elem:undefined});var f=!1;d.elem?f=d.elem!==t.elem&&d.elem!==r.elem||d.block&&d.block!==t.block:d.block&&(f=!(d.block===t.block&&d.mods)||d.mods&&t.elem);var p=d.block||d._block||r.block,m=d.elem||d._elem||r.elem,_=l.build(p,m),g=d.elem||d._elem||(d.block?undefined:r.elem);if(f&&(u+=" "+l.build(p,g)),u+=this.buildModsClasses(p,g,d.elem||!d.block&&(d._elem||r.elem)?d.elemMods:d.mods),d.js&&(a||(a={}),a[l.build(p,d.elem)]=!0===d.js?{}:d.js,c||(c=p&&!d.elem)),f&&!s[_]){s[_]=!0;var v=this.entities[_];if(v){var b=r.block,y=r.elem,w=v.mix.exec(r);if(r.elem=y,r.block=b,w)for(var E=0;E<w.length;E++){var k=w[E];if(k&&(!k.block&&!k.elem||!s[l.build(k.block,k.elem)])){if(k.block)continue;k._block=p,k._elem=m,e=e.slice(0,h+1).concat(k,e.slice(h+1))}}}}}}return{out:u,jsParams:a,addJSInitClass:c}},a.prototype.buildModsClasses=function(t,e,n){if(!n)return"";var i,o="";for(i in n)if(n.hasOwnProperty(i)&&""!==i){var s=n[i];if(s||0===s){"boolean"!=typeof s&&(s+="");var r=this.classBuilder;o+=" "+(e?r.buildElemClass(t,e,i,s):r.buildBlockClass(t,i,s))}}return o},a.prototype.renderNoTag=function(t,e,n,i,o,s,r){return r||0===r?this._run(r):""}},{"../bemxjst":7,"../bemxjst/utils":10,"./entity":1,inherits:11}],3:[function(t,e,n){function i(t){this.modDelim=t.mod||"_",this.elemDelim=t.elem||"__"}n.ClassBuilder=i,i.prototype.build=function(t,e){return e?t+this.elemDelim+e:t},i.prototype.buildModPostfix=function(t,e){var n=this.modDelim+t;return!0!==e&&(n+=this.modDelim+e),n},i.prototype.buildBlockClass=function(t,e,n){var i=t;return n&&(i+=this.buildModPostfix(e,n)),i},i.prototype.buildElemClass=function(t,e,n,i){var o=this.buildBlockClass(t)+this.elemDelim+e;return i&&(o+=this.buildModPostfix(n,i)),o},i.prototype.split=function(t){return t.split(this.elemDelim,2)}},{}],4:[function(t,e,n){var i=t("./utils");function o(t){this._bemxjst=t,this.ctx=null,this.block="",this._currBlock="",this.elem=null,this.mods={},this.elemMods={},this.position=0,this._listLength=0,this._notNewList=!1,this.escapeContent=!0===t.options.escapeContent,this._onceRef={}}n.Context=o,o.prototype._flush=null,o.prototype.isArray=i.isArray,o.prototype.isSimple=i.isSimple,o.prototype.isShortTag=i.isShortTag,o.prototype.extend=i.extend,o.prototype.identify=i.identify,o.prototype.xmlEscape=i.xmlEscape,o.prototype.attrEscape=i.attrEscape,o.prototype.jsAttrEscape=i.jsAttrEscape,o.prototype.isFirst=function(){return 1===this.position},o.prototype.isLast=function(){return this.position===this._listLength},o.prototype.generateId=function(){return i.identify(this.ctx)},o.prototype.reapply=function(t){return this._bemxjst.run(t)}},{"./utils":10}],5:[function(t,e,n){var i=t("./utils"),o=t("./match").Match,s=t("./tree"),r=s.Template,a=s.PropertyMatch,c=s.CompilerOptions;function l(t,e,n,i){this.bemxjst=t,this.block=null,this.elem=null,this.options={},this.canFlush=!0,this.def=new o(this),this.content=new o(this,"content"),this.rest={},this.init(e,n),this.initModes(i)}function u(){return this.ctx.content}n.Entity=l,l.prototype.init=function(t,e){this.block=t,this.elem=e},l.prototype.initModes=function(t){for(var e=0;e<t.length;e++){for(var n=t[e],o=n.predicates.length-1;o>=0;o--){if((s=n.predicates[o])instanceof a&&"_mode"===s.key){n.predicates.splice(o,1),this._initRest(s.value),this.rest[s.value].push(n);break}}-1===o&&this.def.push(n);for(o=n.predicates.length-1;o>=0;o--){var s;(s=n.predicates[o])instanceof c&&(this.options=i.extend(this.options,s.options))}}},l.prototype.prepend=function(t){for(var e=Object.keys(this.rest),n=0;n<e.length;n++){var i=e[n];t.rest[i]&&this.rest[i].prepend(t.rest[i])}e=Object.keys(t.rest);for(n=0;n<e.length;n++){i=e[n];this.rest[i]||(this._initRest(i),this.rest[i].prepend(t.rest[i]))}},l.prototype.run=function(t){return 0!==this.def.count?this.def.exec(t):this.defaultBody(t)},l.prototype.setDefaults=function(){if(0!==this.content.count&&this.content.push(new r([],u)),0!==this.def.count){this.canFlush=this.options.flush||!1;var t=this;this.def.push(new r([],(function(){return t.defaultBody(this)})))}}},{"./match":8,"./tree":9,"./utils":10}],6:[function(t,e,n){function i(t,e){this.name="BEMXJSTError",this.message=t,Error.captureStackTrace?Error.captureStackTrace(this,e||this.constructor):this.stack=(new Error).stack}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,n.BEMXJSTError=i},{}],7:[function(t,e,n){var i=t("inherits"),o=t("./tree").Tree,s=t("./tree").PropertyMatch,r=t("./context").Context,a=t("./class-builder").ClassBuilder,c=t("./utils");function l(t){this.options=t||{},this.entities=null,this.defaultEnt=null,this.tree=null,this.match=null,this.contextConstructor=function(t){r.call(this,t)},i(this.contextConstructor,r),this.context=null,this.classBuilder=new a(this.options.naming||{}),this.depth=0,this.canFlush=!1,this.oninit=null,this.defaultEnt=new this.Entity(this,"","",[]),this.defaultElemEnt=new this.Entity(this,"","",[])}e.exports=l,l.prototype.locals=o.methods.concat("local","applyCtx","applyNext","apply"),l.prototype.compile=function(t){var e=this;function n(){return e._run(e.context.ctx)}function i(t,i){return i?e.local(i,(function(){return e.local({ctx:t},n)})):e.local({ctx:t},n)}function s(t){return function(n){return e.local(t,n)}}var r=new o({refs:{applyCtx:i,local:s}}),a=this.recompileInput(t),c=r.build(a,[s,i,function u(t){return t?e.local(t,u):e.applyNext()},function(t,n){return e.applyMode(t,n)}]);this.tree&&(c={templates:c.templates.concat(this.tree.templates),oninit:this.tree.oninit.concat(c.oninit)}),this.tree=c;var l=this.groupEntities(c.templates);l=this.transformEntities(l),this.entities=l,this.oninit=c.oninit},l.prototype.recompileInput=function(t){var e=l.prototype.locals;if("function"==typeof t&&t.length===e.length)return t;var n=t.toString();return n=n.replace(/^function[^{]+{|}$/g,""),n=new Function(e.join(", "),n)},l.prototype.groupEntities=function(e){for(var n={},i=0;i<e.length;i++){var o,r=e[i].clone(),a=null;o=undefined;for(var c=0;c<r.predicates.length;c++){if((u=r.predicates[c])instanceof s){if("block"===u.key)a=u.value;else{if("elem"!==u.key)continue;o=u.value}r.predicates.splice(c,1),c--}}if(null===a){var l="block(…) subpredicate is not found.\n    See template with subpredicates:\n     * ";for(c=0;c<r.predicates.length;c++){var u;0!==c&&(l+="\n     * "),"_mode"===(u=r.predicates[c]).key?l+=u.value+"()":Array.isArray(u.key)?l+=u.key[0].replace("mods","mod").replace("elemMods","elemMod")+"('"+u.key[1]+"', '"+u.value+"')":u.value&&u.key?l+=u.key+"('"+u.value+"')":l+="match(…)"}throw l+="\n    And template body: \n    ("+("function"==typeof r.body?r.body:JSON.stringify(r.body))+")","undefined"==typeof BEMXJSTError&&(BEMXJSTError=t("./error").BEMXJSTError),new BEMXJSTError(l)}var h=this.classBuilder.build(a,o);n[h]||(n[h]=[]),n[h].push(r)}return n},l.prototype.transformEntities=function(t){for(var e=[],n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],s=this.classBuilder.split(o),r=s[0],a=s[1];"*"===a&&e.push(r),t[o]=new this.Entity(this,r,a,t[o])}if(t.hasOwnProperty("*")){var c=t["*"];for(i=0;i<n.length;i++){"*"!==(o=n[i])&&t[o].prepend(c)}this.defaultEnt.prepend(c),this.defaultElemEnt.prepend(c)}for(i=0;i<e.length;i++){r=e[i];var l=this.classBuilder.build(r,"*");for(c=t[l],i=0;i<n.length;i++){if((o=n[i])!==l){var u=t[o];u.block===r&&u.elem!==undefined&&t[o].prepend(c)}}this.defaultElemEnt.prepend(c)}for(i=0;i<n.length;i++){t[o=n[i]].setDefaults(),this.defaultEnt.setDefaults(),this.defaultElemEnt.setDefaults()}return t},l.prototype._run=function(t){return t===undefined||""===t||null===t?this.runEmpty():c.isArray(t)?this.runMany(t):"string"!=typeof t.html||t.tag||"undefined"!=typeof t.block||"undefined"!=typeof t.elem||"undefined"!=typeof t.cls||"undefined"!=typeof t.attrs?c.isSimple(t)?this.runSimple(t):this.runOne(t):this.runUnescaped(t.html)},l.prototype.run=function(t){var e=this.match,n=this.context;this.match=null,this.context=new this.contextConstructor(this),this.canFlush=null!==this.context._flush,this.depth=0;var i=this._run(t);return this.canFlush&&(i=this.context._flush(i)),this.match=e,this.context=n,i},l.prototype.runEmpty=function(){return this.context._listLength--,""},l.prototype.runUnescaped=function(t){return this.context._listLength--,""+t},l.prototype.runSimple=function(t){this.context._listLength--;var e="";return(t&&!0!==t||0===t)&&(e+="string"==typeof t&&this.context.escapeContent?c.xmlEscape(t):t),e},l.prototype.runOne=function(t){var e=this.context,n=e.ctx,i=e.block,o=e._currBlock,s=e.elem,r=e.mods,a=e.elemMods;t.block||t.elem?e._currBlock="":e._currBlock=e.block,e.ctx=t,t.block?(e.block=t.block,t.mods?e.mods=t.mods:t.block===i&&t.elem||(e.mods={})):t.elem?o&&(e.block=o):e.block="",e.elem=t.elem,t.elemMods?e.elemMods=t.elemMods:e.elemMods={};var c=e.block||"",l=e.elem;c||l?e.position++:e._listLength--,this.depth++;var u=this.classBuilder.build(c,l),h=!1,d=this.entities[u];d?this.canFlush&&!d.canFlush&&(h=!0,this.canFlush=!1):(d=this.defaultEnt,l!==undefined&&(d=this.defaultElemEnt),d.init(c,l));var f=!0===this.options.production?this.tryRun(e,d):d.run(e);return e.ctx=n,e.block=i,e.elem=s,e.mods=r,e.elemMods=a,e._currBlock=o,this.depth--,h&&(this.canFlush=!0),f},l.prototype.tryRun=function(t,e){try{return e.run(t)}catch(n){return console.error("BEMXJST ERROR: cannot render "+["block "+t.block,"elem "+t.elem,"mods "+JSON.stringify(t.mods),"elemMods "+JSON.stringify(t.elemMods)].join(", "),n),""}},l.prototype.renderContent=function(t,e){var n=this.context,i=n.position,o=n._listLength,s=n._notNewList;n._notNewList=!1,e&&(n.position=0,n._listLength=1);var r=this._run(t);return n.position=i,n._listLength=o,n._notNewList=s,r},l.prototype.local=function(t,e){for(var n=Object.keys(t),i=[],o=0;o<n.length;o++){for(var s=n[o],r=s.split("."),a=this.context,c=0;c<r.length-1;c++)a=a[r[c]];i.push({parts:r,value:a[r[c]]}),a[r[c]]=t[s]}var l=e.call(this.context);for(o=0;o<i.length;o++){for(r=i[o].parts,a=this.context,c=0;c<r.length-1;c++)a=a[r[c]];a[r[c]]=i[o].value}return l},l.prototype.applyNext=function(){return this.match.exec(this.context)},l.prototype.applyMode=function(t,e){var n=this.match.entity.rest[t];if(!n)return this.context.ctx[t];if(!e)return n.exec(this.context);var i=this;return this.local(e,(function(){return n.exec(i.context)}))},l.prototype.exportApply=function(t){var e=this;t.apply=function(t){return e.run(t)},t.compile=function(t){return e.compile(t)};var n={};t.BEMContext=this.contextConstructor,n.BEMContext=t.BEMContext;for(var i=0;i<this.oninit.length;i++){(0,this.oninit[i])(t,n)}}},{"./class-builder":3,"./context":4,"./error":6,"./tree":9,"./utils":10,inherits:11}],8:[function(t,e,n){var i=t("./utils"),o=t("./tree"),s=o.PropertyMatch,r=o.OnceMatch,a=o.WrapMatch,c=o.PropertyAbsent,l=o.CustomMatch;function u(t,e){this.template=t,this.key=e.key,this.value=e.value}function h(t,e){this.template=t,this.keys=e.key,this.value=e.value}function d(t,e){this.template=t,this.key=e.key}function f(t,e){this.template=t,this.body=e.body}function p(t){this.template=t,this.once=null}function m(t){this.template=t,this.wrap=null}function _(t,e){this.mode=t,this.predicates=new Array(e.predicates.length),this.body=e.body;for(var n=[],o=0,_=0;o<this.predicates.length;o++,_++){var g=e.predicates[o];g instanceof s?i.isArray(g.key)?this.predicates[_]=new h(this,g):this.predicates[_]=new u(this,g):g instanceof c?this.predicates[_]=new d(this,g):g instanceof l?this.predicates[_]=new f(this,g):g instanceof r?(_--,n.push(new p(this))):g instanceof a?(_--,n.push(new m(this))):_--}for(o=0;o<n.length;o++,_++)this.predicates[_]=n[o];this.predicates.length!==_&&(this.predicates.length=_)}function g(t,e){this.entity=t,this.modeName=e,this.bemxjst=this.entity.bemxjst,this.templates=[],this.mask=[0],this.maskSize=0,this.maskOffset=0,this.count=0,this.depth=-1,this.thrownError=null}u.prototype.exec=function(t){return t[this.key]===this.value},h.prototype.exec=function(t){for(var e=t,n=0;n<this.keys.length-1;n++)if(!(e=e[this.keys[n]]))return!1;return e[this.keys[n]]===this.value},d.prototype.exec=function(t){return!t[this.key]},f.prototype.exec=function(t){return this.body.call(t,t,t.ctx)},p.prototype.exec=function(t){var e=this.once!==t._onceRef;return this.once=t._onceRef,e},m.prototype.exec=function(t){var e=this.wrap!==t.ctx;return this.wrap=t.ctx,e},n.MatchTemplate=_,n.Match=g,g.prototype.clone=function(t){var e=new g(t,this.modeName);return e.templates=this.templates.slice(),e.mask=this.mask.slice(),e.maskSize=this.maskSize,e.count=this.count,e},g.prototype.prepend=function(t){for(this.templates=t.templates.concat(this.templates),this.count+=t.count;Math.ceil(this.count/31)>this.mask.length;)this.mask.push(0);this.maskSize=this.mask.length},g.prototype.push=function(t){this.templates.push(new _(this,t)),this.count++,Math.ceil(this.count/31)>this.mask.length&&this.mask.push(0),this.maskSize=this.mask.length},g.prototype.tryCatch=function(t,e){try{return t.call(e,e,e.ctx)}catch(n){this.thrownError=n}},g.prototype.exec=function(t){for(var e,n=this.checkDepth(),i=this.maskOffset,o=this.mask[i],s=1,r=0;r<this.count;r++){if(0==(o&s)){e=this.templates[r];for(var a=0;a<e.predicates.length;a++){if(!e.predicates[a].exec(t))break}if(a===e.predicates.length)break}1073741824===s?(i++,o=this.mask[i],s=1):s<<=1}if(r===this.count)return t.ctx[this.modeName];var c,l=o,u=this.bemxjst.match;this.mask[i]|=s,this.bemxjst.match=this,this.thrownError=null,c="function"==typeof e.body?this.tryCatch(e.body,t):e.body,this.mask[i]=l,this.bemxjst.match=u,this.restoreDepth(n);var h=this.thrownError;if(null!==h)throw this.thrownError=null,h;return c},g.prototype.checkDepth=function(){if(-1===this.depth)return this.depth=this.bemxjst.depth,-1;if(this.bemxjst.depth===this.depth)return this.depth;var t=this.depth;for(this.depth=this.bemxjst.depth,this.maskOffset+=this.maskSize;this.mask.length<this.maskOffset+this.maskSize;)this.mask.push(0);return t},g.prototype.restoreDepth=function(t){-1!==t&&t!==this.depth&&(this.maskOffset-=this.maskSize),this.depth=t}},{"./tree":9,"./utils":10}],9:[function(t,e,n){var i=t("minimalistic-assert"),o=t("inherits");function s(t,e){this.predicates=t,this.body=e}function r(){}function a(t,e){this.conditions=[],this.children=[];for(var n=e.length-1;n>=0;n--){var i=e[n];i instanceof r?this.conditions.push(i):i===t.boundBody?this.children[n]=t.queue.pop():this.children[n]=i}}function c(){r.call(this)}function l(t){r.call(this),this.refs=t}function u(t){r.call(this),this.refs=t}function h(t){r.call(this),this.refs=t}function d(t){r.call(this),this.options=t}function f(t,e){r.call(this),this.key=t,this.value=e}function p(t){r.call(this),this.key=t}function m(t){r.call(this),this.body=t}function _(t){this.options=t,this.refs=this.options.refs,this.boundBody=this.body.bind(this);for(var e=this.methods("body"),n=0;n<e.length;n++){var i=e[n];this.boundBody[_.methods[n]]=i}this.queue=[],this.templates=[],this.initializers=[]}function g(t,e,n){var i=t[n],o=t.boundBody;return"body"!==e?"replace"===n||"extend"===n||"wrap"===n?function(){return i.apply(t,arguments)}:function(){return i.apply(t,arguments),o}:function(){var e=i.apply(t,arguments),s=t.queue.pop(),r=t.queue[t.queue.length-1];return r.conditions=r.conditions.concat(s.conditions),r.children=r.children.concat(s.children),"replace"===n||"extend"===n||"wrap"===n?e:o}}n.Template=s,s.prototype.wrap=function(){for(var t=this.body,e=0;e<this.predicates.length;e++){t=this.predicates[e].wrapBody(t)}this.body=t},s.prototype.clone=function(){return new s(this.predicates.slice(),this.body)},n.MatchBase=r,r.prototype.wrapBody=function(t){return t},o(c,r),n.OnceMatch=c,o(l,r),n.WrapMatch=l,l.prototype.wrapBody=function(t){var e=this.refs.applyCtx;return"function"!=typeof t?function(){return e(t)}:function(){return e(t.call(this,this,this.ctx))}},o(u,r),n.ReplaceMatch=u,u.prototype.wrapBody=function(t){var e=this.refs.applyCtx;return"function"!=typeof t?function(){return e(t)}:function(){return e(t.call(this,this,this.ctx))}},o(h,r),n.ExtendMatch=h,h.prototype.wrapBody=function(t){var e=this.refs.applyCtx,n=this.refs.local;return"function"!=typeof t?function(){for(var i={},o=Object.keys(t),s=0;s<o.length;s++)i["ctx."+o[s]]=t[o[s]];return n(i)((function(){return e(this.ctx)}))}:function(){for(var i={},o=t.call(this),s=Object.keys(o),r=0;r<s.length;r++)i["ctx."+s[r]]=o[s[r]];return n(i)((function(){return e(this.ctx)}))}},o(d,r),n.CompilerOptions=d,o(f,r),n.PropertyMatch=f,o(p,r),n.PropertyAbsent=p,o(m,r),n.CustomMatch=m,n.Tree=_,_.methods=["match","once","wrap","block","elem","mode","mod","elemMod","def","tag","attrs","cls","js","bem","mix","content","replace","extend","oninit","xjstOptions"],_.prototype.build=function(t,e){var n=this.methods("global").concat(e);return n[0]=this.match.bind(this),t.apply({},n),{templates:this.templates.slice().reverse(),oninit:this.initializers}},_.prototype.methods=function(t){for(var e=new Array(_.methods.length),n=0;n<e.length;n++){var i=_.methods[n];e[n]=g(this,t,i)}return e},_.prototype.flush=function(t,e){var n;n=e.conditions?t.concat(e.conditions):e.conditions;for(var i=0;i<e.children.length;i++){var o=e.children[i];if(o instanceof a)this.flush(n,e.children[i]);else{var r=new s(t,o);r.wrap(),this.templates.push(r)}}},_.prototype.body=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;e++)t[e]=arguments[e];var n=new a(this,t);return this.queue[this.queue.length-1].children.push(n),1===this.queue.length&&this.flush([],this.queue.shift()),this.boundBody},_.prototype.match=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;e++){var n=arguments[e];"function"==typeof n&&(n=new m(n)),i(n instanceof r,"Wrong .match() argument"),t[e]=n}return this.queue.push(new a(this,t)),this.boundBody},_.prototype.once=function(){if(arguments.length)throw new Error("Predicate once() should not have arguments");return this.match(new c)},_.prototype.applyMode=function(t,e){if(t.length)throw new Error("Predicate should not have arguments but "+JSON.stringify(t)+" passed");return this.mode(e)},_.prototype.wrap=function(){return this.def.apply(this,arguments).match(new l(this.refs))},_.prototype.xjstOptions=function(t){return this.queue.push(new a(this,[new d(t)])),this.boundBody},_.prototype.block=function(t){return this.match(new f("block",t))},_.prototype.elem=function(t){return this.match(new f("elem",t))},_.prototype.mode=function(t){return this.match(new f("_mode",t))},_.prototype.mod=function(t,e){return this.match(new f(["mods",t],e))},_.prototype.elemMod=function(t,e){return this.match(new f(["elemMods",t],e))},_.prototype.def=function(){return this.applyMode(arguments,"default")},_.prototype.tag=function(){return this.applyMode(arguments,"tag")},_.prototype.attrs=function(){return this.applyMode(arguments,"attrs")},_.prototype.cls=function(){return this.applyMode(arguments,"cls")},_.prototype.js=function(){return this.applyMode(arguments,"js")},_.prototype.bem=function(){return this.applyMode(arguments,"bem")},_.prototype.mix=function(){return this.applyMode(arguments,"mix")},_.prototype.content=function(){return this.applyMode(arguments,"content")},_.prototype.replace=function(){return this.def.apply(this,arguments).match(new u(this.refs))},_.prototype.extend=function(){return this.def.apply(this,arguments).match(new h(this.refs))},_.prototype.oninit=function(t){this.initializers.push(t)}},{inherits:11,"minimalistic-assert":12}],10:[function(t,e,n){var i=Object.prototype.toString;n.isArray=Array.isArray,n.isArray||(n.isArray=function(t){return"[object Array]"===i.call(t)}),n.xmlEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},n.attrEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;")},n.jsAttrEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/'/g,"&#39;")},n.extend=function(t,e){if(!t||!e)return t||e;var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i};var o={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1};n.isShortTag=function(t){return o.hasOwnProperty(t)},n.isSimple=function u(t){return!t||!0===t||(!(t.block||t.elem||t.tag||t.cls||t.attrs||!t.hasOwnProperty("html")||!u(t.html))||("string"==typeof t||"number"==typeof t))};var s=0,r=+new Date,a="__"+r,c="uniq"+r;function l(){return c+ ++s}n.getUniq=l,n.identify=function(t,e){if(!t)return l();if(e||t[a])return t[a];var n=l();return t[a]=n,n}},{}],11:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],12:[function(t,e,n){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}e.exports=i,i.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},{}]},{},[2])(2)})),e.exports||n.BEMHTML}({},{}))({});return i.compile((function(t,n,i,o,s,r,a,c,l,u,h,d,f,p,m,_,g,v,b,y,w,E,k,M){b((function(t){var e=t.BEMContext.prototype,n=t["i-global"]=e["i-global"]=e.extend({lang:"ru",tld:"ru","content-region":"ru","click-host":"//clck.yandex.ru","passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","social-host":"https://social.yandex.ru","export-host":"https://export.yandex.ru",login:"","lego-static-host":"https://yastatic.net/lego/2.10-142"},e["i-global"]);n._public={id:!0,lang:!0,tld:!0,"content-region":!0,"user-region":!0,login:!0,displayName:!0,index:!0,yandexuid:!0,"passport-host":!0,"pass-host":!0,"passport-msg":!0,"static-host":!0,"lego-static-host":!0,"social-host":!0,clck:!0,"click-host":!0,"export-host":!0,"i-host":!0,"social-retpath":!0,"lego-path":!0,sid:!0,retpath:!0,uid:!0},n.makePublic=function(t,i){"object"!=typeof t?(void 0===i&&(i=!0),n._public[t]=i):n._public=e.extend(n._public,t)},n.isPublic=function(t){return Boolean(n._public[t])},n.setTld=function(t){var e="tr"===t?"yandex.com.tr":"yandex."+t,i=-1!==["ua","by","kz"].indexOf(t)?"yandex.ru":e;n.tld=t,n["content-region"]=t,n["click-host"]="//clck."+i,n["passport-host"]="https://passport."+i,n["pass-host"]="https://pass."+e,n["social-host"]="https://social."+e,n["export-host"]="https://export."+e},e._iGlobalBackup={_backup:null,exists:function(){return Boolean(this._backup)},save:function(){this._backup=e.extend({},n)},restore:function(){var t;for(t in n)delete n[t];for(t in this._backup)n[t]=this._backup[t]}}})),o("i-global")(u()(""),l()((function(){var t=this.ctx.params||{},e=this["i-global"];for(var n in this._iGlobalBackup.exists()?!1!==this.ctx.reset&&this._iGlobalBackup.restore():this._iGlobalBackup.save(),t.tld&&t.tld!==e.tld&&e.setTld(t.tld),t)e[n]=t[n];return""}))),b((function(t){t.BEMContext.prototype.cleverSubstring=function(t,e,n){return t.length>e+n?t.substring(0,e-1)+"…":t}})),o("input")(u()("span"),r("live")(!1),r("getLive")((function(){var t=M("live"),e=this.ctx.js,n=this.mods,i={autofocus:"yes",width:"content","tap-ahead":"yes"};return e?(e.live!==undefined?Boolean(e.live):t)&&!e.autoFocus&&!Object.keys(i).some((function(t){return n[t]===i[t]})):t})),f()((function(){return{live:this._live}})),l()((function(){var t,e=M("value",{ctx:this.ctx.value}),n=this.ctx.id||this.generateId(),i=this.mods,o=M("getLive",{}),s=this.ctx.placeholder;return i.theme=i.theme||"normal",this.ctx.hasOwnProperty("placeholder")&&(t=this.isSimple(s)?s:this.reapply(s)),k({_inputId:n,_labelId:"label"+n,_hintId:"hint"+n,_name:this.ctx.name||"",_value:e,_inputLink:!0,_iconLeft:this.ctx.icon||this.ctx.iconLeft,_iconRight:this.ctx.iconRight,_disabled:i.disabled,_live:o,_placeholder:t,_hasClear:"no"!==i.clear})})),r("value")("",t((function(){return this.ctx}))((function(){return this.reapply(this.ctx)})),t((function(){return this.isSimple(this.ctx)}))((function(){return this.ctx})))),o("input").elem("box")(u()("span"),_()((function(){return[this._iconLeft&&{elem:"icon",icon:this._iconLeft,elemMods:{side:"left"}},this._iconRight&&{elem:"icon",icon:this._iconRight,elemMods:{side:"right"}},this._hasClear&&{elem:"clear",elemMods:this._value||0===this._value?{visibility:"visible"}:undefined,content:" "},this.ctx.content].filter(Boolean)}))),o("input").elem("control")(u()("input"),h()((function(){var t=this.extend({id:this._inputId,name:this._name,placeholder:this._placeholder},this.ctx.controlAttrs);return(this._value||0===this._value||""===this._value)&&(t.value=this._value),this.mods.disabled&&(t.disabled=!0),this._live&&(t.autocomplete="off"),t["aria-labelledby"]=this._labelId+" "+this._hintId,t})),i()((function(){return{elem:"box",content:this.ctx}}))),o("input").elem("clear")(u()("span"),h()((function(){return{unselectable:"on"}})),_().match((function(){return!this.ctx.content}))("")),o("i-ua")(p()(!1),u()("script"),h()((function(){return{nonce:this.ctx.nonce||this["i-global"].nonce}})),_()((function(){return[{html:[";(function(d,e,c,r){","e=d.documentElement;",'c="className";','r="replace";','e[c]=e[c][r]("i-ua_js_no","i-ua_js_yes");','if(d.compatMode!="CSS1Compat")','e[c]=e[c][r]("i-ua_css_standart","i-ua_css_quirks")',"})(document);"].join("")}]}))),o("i-ua").content()((function(){var t=[";(function(d,e,c,n,w,v,f){","e=d.documentElement;",'c="className";','n="createElementNS";','f="firstChild";','w="http://www.w3.org/2000/svg";','e[c]+=" i-ua_svg_"+(!!d[n]&&!!d[n](w,"svg").createSVGRect?"yes":"no");','v=d.createElement("div");','v.innerHTML="<svg/>";','e[c]+=" i-ua_inlinesvg_"+((v[f]&&v[f].namespaceURI)==w?"yes":"no");',"})(document);"].join("");return[].concat(k(),{html:t})})),o("i-ua").content()((function(){var t=[";(function(d,e,p){","e=d.documentElement;",'p="placeholder";','e.className+=" i-ua_"+p+(p in d.createElement("input")?"_yes":"_no")',"})(document);"].join("");return[].concat(k()||[],{html:t})})),o("input").elem("hint")(u()("label"),h()((function(){return{id:this._hintId,"for":this._inputId,"aria-hidden":"true"}})),l()((function(){return this._iconLeft&&(this.elemMods.lpad="yes"),this._iconRight&&(this.elemMods.rpad="yes"),this._value||0===this._value||(this.elemMods.visibility="visible"),k()}))),o("input").elem("control").match((function(){return this._placeholder})).wrap()((function(){return[{elem:"hint",content:this._placeholder},this.ctx]})),o("popup")(l().match((function(){return!this._popupDefaults}))((function(){var t=this.ctx,e=this.mods;if(e.hasOwnProperty("theme")||(e.theme="ffffff"),e.hasOwnProperty("autoclosable")||(e.autoclosable="yes"),e.hasOwnProperty("adaptive")||(e.adaptive="yes"),e.hasOwnProperty("animate")||(e.animate="yes"),t.zIndex){var n=t.attrs||(t.attrs={});n.style=(n.style||"")+";z-index:"+t.zIndex+";"}return M("default",{_popupDefaults:!0})})),_()((function(){return delete this._popupDefaults,[{elem:"under",elemMods:this.ctx.underMods},this.ctx.content]}))),o("suggest2").elem("items").tag()("ul"),o("suggest2")(s("content").tag()("ul")),o("suggest2-item")(u()("li"),f()(!0),s("text")(u()((function(){return this.ctx.tag||"span"})),_()((function(){return this.ctx.text?Array.isArray(this.ctx.text)?this.ctx.text.map((function(t){return"string"==typeof t?t?{html:this.xmlEscape(t)}:"":t}),this):this.ctx.text?{html:this.xmlEscape(this.ctx.text)}:"":Array.isArray(this.ctx.content)?this.ctx.content.map((function(t){return"string"==typeof t?t?{html:this.xmlEscape(t)}:"":t}),this):this.ctx.content?{html:this.xmlEscape(this.ctx.content)}:""}))),s("fact").tag()("span")),o("i-bem").elem("i18n").def()((function(){if(!this.ctx)return"";var t=this.ctx,e=t.keyset,n=t.key,i=t.params||{};return e||n?(t.content&&(i.content=this.reapply(t.content)),BEM.I18N(e,n,i)):""})),b((function(){!function(t,e){if(!e.I18N){t.BEM=e;var n=e.I18N=function(t,e){return e};n.keyset=function(){return n},n.key=function(t){return t},n.lang=function(){}}}(this,"undefined"==typeof BEM?{}:BEM)})),o("button2")(l()((function(){return this.mods.view===undefined&&(this.mods.view="classic"),this.mods.progress&&(this.mods.disabled="yes"),this.ctx.tabindex===undefined&&(this.ctx.tabindex="0"),k()})),t((function(){return this.ctx.tag===undefined})).tag()("button"),f()((function(){return{_tabindex:this.mods.disabled?this.ctx.tabindex:undefined}})),h()((function(){var t=this.ctx,e=Boolean(this.mods.disabled);return{type:"button",autocomplete:"off",id:t.id,title:t.title,name:t.name,value:t.val,tabindex:e?undefined:t.tabindex,disabled:e,"aria-disabled":e&&"true"}})),t((function(){return!this.ctx.content})).content()((function(){var t=this.ctx;return[t.icon&&{elem:"icon",icon:t.icon},t.iconLeft&&{elem:"icon",elemMods:{side:"left"},icon:t.iconLeft},t.iconRight&&{elem:"icon",elemMods:{side:"right"},icon:t.iconRight},t.text!==undefined&&(this.isSimple(t.text)?{elem:"text",content:{html:this.xmlEscape(t.text)}}:this.extend(t.text,{elem:"text"}))].filter(Boolean)}))),o("button2").elem("text").tag()("span"),o("suggest2").mod("theme","normal").elem("content").tag()("ul"),o("suggest2-item").elem("highlight")(u()("b"),p()(!1),_()((function(){return this.xmlEscape(this.ctx.content)}))),o("suggest2-item").elem("icon")(l()((function(){var t=BEM.blocks&&BEM.blocks["suggest2-detect"]&&BEM.blocks["suggest2-detect"],e=t&&t.isSupportInlineSVG()?"svg":"png";this.ctx.autoType&&(this.ctx[e]="//yastatic.net/suggest-flag-icons/icon."+this.ctx.autoType+e);var n=this.ctx.png&&this.ctx.svg?this.ctx[e]:this.ctx.svg||this.ctx.png;return n&&(this.ctx.attrs=this.extend(Object(this.ctx.attrs),{style:'background-image:url("'+n+'");'+(Object(this.ctx.attrs).style||"")})),k()})),u()("span")),o("suggest2-item").elem("icon").match((function(){return this.elemMods.traffic})).def()((function(){return k({"ctx.autoType":"traffic."+this.elemMods.traffic+"."})})),o("suggest2-item").elem("icon").match((function(){return this.elemMods.weather})).def()((function(){var t=this.elemMods.weather.replace("-","minus-").replace("+","plus-").replace(/_/g,"-");return k({"ctx.autoType":"weather."+t+".","elemMods.weather":t})})),o("suggest2-item").elem("link")(u()("a"),h()((function(){return{href:this.ctx.url,target:this.ctx.target}}))),o("suggest2-item").elem("link")(u()("a"),h()((function(){var t={href:this.ctx.url,target:this.ctx.target};return t.target&&(t.rel="noopener"),t}))),o("suggest2-item").elem("fact")(t((function(){return this.ctx.color})).def()((function(){return this.ctx.attrs=this.extend(Object(this.ctx.attrs),{style:";color:"+this.ctx.color+";"+(Object(this.ctx.attrs).style||"")}),k()})),_()((function(){return[{block:"suggest2",elem:"a11y",content:BEM.I18N("suggest2-item","quick-answer")+": "},this.ctx.content?{html:this.xmlEscape(this.ctx.content)}:""]}))),o("suggest2").elem("a11y").tag()("span"),o("suggest2-item").elem("bullet")(u()("span"),h()({"aria-hidden":!0})),o("suggest2-item").mod("interact","link")(_()((function(){return{elem:"link",url:this.ctx.url,target:this.ctx.target||"_blank",content:this.ctx.content}})),t((function(){return"nav"===this.mods.type||"icon"===this.mods.type})).elem("text").mix()({elemMods:{type:"url"}})),o("suggest2-item").mod("type","nav").elem("fact").content()((function(){return this.xmlEscape(this.ctx.content)})),o("user")(l()((function(){var t=(this.ctx.js||{}).uid||this.ctx.uid||this["i-global"].uid,e=this.ctx.login,n=e||this["i-global"].login||(this["i-global"].displayName||{}).name;return k({_uid:t,_login:e,_hasDisplayName:n})})),u()("a"),f()((function(){return this.extend({uid:this._uid,login:this._login||this["i-global"].login},k())})),h()((function(){var t=this["i-global"],e=this._login||t.login,n={href:e&&/^uid-/.test(e)?t["social-host"]:t["passport-host"]+"/passport?mode=passport"},i=this.ctx.counter||(this.ctx.counters||{}).user;return i&&(n.onmousedown=i),n})),_()((function(){return this._hasDisplayName?[this.ctx.content]:{elem:"enter"}}))),o("user").elem("name")(u()("span"),l()((function(){var t=this.ctx,e=this["i-global"],n=t.content||t.login||this._login||(e.displayName||{}).name,i=!1;return n||(/^uid-/.test(e.login)?(n="",i=!0):n=e.login),k({_maxLength:t.maxLength!==undefined?t.maxLength:16,_maxLengthRelative:t.maxLengthRelative!==undefined?t.maxLengthRelative:3,_userName:n,_isUglyUserName:t.isUglyUserName||i})})),r("pre-content")((function(){var t=this.ctx;return[{elem:"first-letter",tag:"span",content:{html:this.xmlEscape(t.charAt(0))}},{html:this.xmlEscape(t.slice(1))}]})),_()((function(){return M("pre-content",{ctx:this.cleverSubstring(this._userName,this._maxLength,this._maxLengthRelative)})})),f()((function(){return{maxLength:this._maxLength,maxLengthRelative:this._maxLengthRelative,isUglyUserName:this._isUglyUserName}}))),o("button")(l()((function(){this.mods;return k()})),u()("button"),t((function(){return this.ctx.url})).tag()("a"),f()(!0),h()(t((function(){return!0}))((function(){var t=this.ctx,e={};return e.tabindex=t.tabindex,e})),t((function(){return this.ctx.url}))((function(){var t=this.ctx,e=t.attrs,n=k(),i={href:t.url,target:t.target},o=Object(e).rel!==undefined?String(e.rel):"";return"_blank"===i.target&&(i.rel="noopener",o&&-1===o.indexOf("noopener")&&(e.rel=o+" noopener")),this.extend(n,i)})),t((function(){return!this.ctx.url}))((function(){var t=this.ctx,e=k(),n={type:t.type||"button",autocomplete:"off",name:t.name,value:t.value};return this.extend(e,n)}))),_()((function(){return{elem:"text",tag:"span",content:this.ctx.content}}))),o("button").mod("disabled","yes").attrs()((function(){var t={};return this.ctx.url?t["aria-disabled"]="true":t.disabled=!0,this.extend(k(),t)})),o("spin2")(l()((function(){return this.mods.view===undefined&&(this.mods.view="default"),this.mods.tone===undefined&&(this.mods.tone="default"),k()}))),o("popup").mod("has-close","yes").content()((function(){return[k(),{elem:"close"}]})),o("popup").elem("close").tag()("i"),o("popup").mod("wrapped","yes").content()((function(){return[k(),{elem:"wrapper",elemMods:this.ctx.wrapperMods}]})),o("popup").mod("behaviour","scrollable").def()((function(){return this.mods.wrapped="yes",this.mods["body-scroll"]="no",this.ctx.wrapperMods={behaviour:"scrollable"},k()})),b((function(t,n){(t.BEMContext||n.BEMContext).prototype.require=function(t){return e[t]}}))})),i.exportApply(n),n}var n=!0;"object"==typeof module&&"object"==typeof module.exports&&(exports.BEMHTML=e({}),n=!1),"object"==typeof modules&&(modules.define("BEMHTML",[],(function(t){t(e({}))})),n=!1),n&&(BEMHTML=e({}),t.BEMHTML=BEMHTML)}("undefined"!=typeof window?window:"undefined"!=typeof global?global:this);if(window.Ya&&Ya.Rum&&Ya.Rum.timeEnd){Ya.Rum.timeEnd("2095");}