"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7311],{37311:function(e,t,n){n.d(t,{c:function(){return ee}});var r=n(52322),i=n(30382),a=n.n(i),o=n(2784),c=n(45103),l=n(21849),u=n(56459),s=n(72779),f=n.n(s),d=n(91842),g=n(3411),m={id:"common_ariaLabels_gotoTitle",defaultMessage:"View title page for {titleName}"},p={id:"common_ariaLabels_ratingButtonRated",defaultMessage:"Your rating: {rating}"},v={id:"common_ariaLabels_ratingButtonUnrated",defaultMessage:"Rate {titleName}"},x={id:"common_ratingPrompt_header",defaultMessage:"Rate this"},b={id:"common_ratingPrompt_rate",defaultMessage:"Rate"},h={id:"common_ratingPrompt_removeRating",defaultMessage:"Remove rating"},y={id:"common_ratingPrompt_ariaLabelPrefix",defaultMessage:"Rating"},T={id:"common_buttons_trailer",defaultMessage:"Trailer"};function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){j(e,t,n[t])}))}return e}function w(){var e,t,n=(e=["\n    display: flex;\n    width: 100%;\n    align-items: center;\n    padding: "," 0;\n    margin-bottom: -1rem;\n\n    &.justify--space-between {\n        justify-content: space-between;\n    }\n\n    &.justify--space-around {\n        justify-content: space-around;\n    }\n\n    &.justify--left {\n        justify-content: flex-start;\n    }\n\n    &.justify--right {\n        justify-content: flex-end;\n    }\n\n    &.both-card-actions {\n        > .card-action-button {\n            margin-left: -0.25rem;\n            padding-right: 0.5rem;\n            padding-left: 0.5rem;\n        }\n        > .card-action-icon {\n            margin-right: -0.25rem;\n        }\n    }\n\n    > .card-action-button {\n        text-overflow: ellipsis;\n        overflow: hidden;\n    }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return w=function(){return n},n}var R;!function(e){e.SPACE_BETWEEN="space-between",e.SPACE_AROUND="space-around",e.RIGHT="right",e.LEFT="left"}(R||(R={}));var C=function(e){var t=e.title.latestTrailerId,n=e.refPrefix,i=e.refSuffix,a=e.iconButtons,o=(0,l.N)(T),u=(0,l.N)(T),s=[];if(t){var d="/video/".concat(t,"/?ref_=").concat(n,"tr_vp").concat(i);s.push({preIcon:"play-arrow",onColor:"textPrimary",href:d,ariaLabel:o,children:(0,r.jsx)("div",{className:"trailers-button-text","data-testid":"trailer-button",children:u})})}var g=R.SPACE_AROUND;if(1===(null===a||void 0===a?void 0:a.length)&&s.length<1&&(g=R.RIGHT),!(null===a||void 0===a?void 0:a.length)&&!s.length)return null;var m=f()(["justify--".concat(g)],j({},"both-card-actions",(null===a||void 0===a?void 0:a.length)&&s.length));return(0,r.jsxs)(_,{className:m,children:[s.map((function(e,t){return(0,r.jsx)(c.TextButton,P({className:f()("card-action-button",e.className)},e),t)})),null===a||void 0===a?void 0:a.map((function(e,t){return(0,r.jsx)(c.IconButton,P({className:f()("card-action-icon",e.className)},e),t)}))]})},_=g.default.div.withConfig({componentId:"sc-166f62b7-0"})(w(),d.spacing.xs),O=n(65818),N=n(82982);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}function B(){var e=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    max-height: ",";\n    max-width: ",";\n    vertical-align: middle;\n"]);return B=function(){return e},e}var I=function(e){var t=e.title.id,n=e.alternateButton,i=e.refPrefix,a=e.refSuffix,o=(0,O.Vu)(),l=o.type,u=o.subType;if(n){var s=k({},n.props,{width:"full-width"});return(0,r.jsx)(c.SecondaryButton,k({},s,{children:n.fetching?(0,r.jsx)(L,{className:"alternate-button-loader",type:"circle"}):n.text}))}return(0,r.jsx)(N.Z,{titleId:t,watchlistMetricsContext:{pageType:l,subPageType:u,refTag:"".concat(i,"wl_btn").concat(a)}},t)},L=(0,g.default)(c.Loader).withConfig({componentId:"sc-4c809ea-0"})(B(),d.spacing.xl,d.spacing.xl),E=n(96139),M=function(e){var t=e.title,n=t.id,i=t.titleText,a=t.titleTypeId,o=t.image,u=o.url,s=o.height,f=o.width,d=e.onClick,g=e.refPrefix,p=e.refSuffix,v="/title/".concat(n,"/?ref_=").concat(g,"tt_i").concat(p),x=(0,O.Vu)(),b=x.type,h=x.subType,y=(0,l.N)(m,{titleName:i});return(0,r.jsxs)(c.PosterCard.Poster,{href:v,ariaLabel:y,onClick:d,children:[(0,r.jsx)(E.Z,{titleId:n,watchlistMetricsContext:{pageType:b,subPageType:h,refTag:"".concat(g,"wl_rbn").concat(p)},onPoster:!0,className:"poster-card-watchlist-ribbon"},n),(0,r.jsx)(c.Poster.Image,{imageModel:u&&s&&f?{url:u,maxHeight:s,maxWidth:f,caption:i}:void 0,imageType:a,className:"poster-card-image"})]})},U=n(94776),z=n.n(U),A=n(9659),D=n(53768),G=n(97432),H=n(78698),V=n(27018),Y=n(88221);function F(e,t,n,r,i,a,o){try{var c=e[a](o),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,i)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){F(a,r,i,o,c,"next",e)}function c(e){F(a,r,i,o,c,"throw",e)}o(void 0)}))}}function Z(){var e,t,n=(e=["\n    min-height: 36px;\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return Z=function(){return n},n}var q=function(e){var t=e.title,n=t.id,i=t.titleText,a=t.ratingsSummary,u=t.userRating,s=t.canRate,f=e.refPrefix,d=e.refSuffix,g=(0,o.useState)(!1),m=g[0],T=g[1],j=(0,G.n)(),P=(0,c.useRatingsContext)(n),w=P.rating,R=P.updateRating,C=P.deleteRating;(0,H.h)(n,u);var _="".concat(f,"rt").concat(d),N="".concat(f.replace(/_/g,"-")).concat("urate"),S=(0,O.Vu)(),k=s?function(){(0,V.ar)(S,N,V.qB.POP_UP),T(!0)}:void 0,B=(0,D.vY)({titleId:n,refTag:_,currentRating:w}),I=B.updateTitleRating,L=B.deleteTitleRating,E=B.tempRateUpdateLogRef,M=(0,l.N)(p,{rating:w}),U=(0,l.N)(v,{titleName:i}),F=(0,l.N)(x),Z=(0,l.N)(b),q=(0,l.N)(h),J=(0,l.N)(y);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)($,{imdbRating:a,userRating:w,onUserRatingClick:k,ariaLabelRated:M,ariaLabelUnrated:U}),k&&(0,r.jsx)(c.RatingPrompt,{isOpen:m,tconst:n,title:i,headerLabel:F,rateLabel:Z,ariaLabelPrefix:J,shouldUseNewRatingFlow:!0,secondaryButtonText:q,secondaryButtonType:A.SecondaryButtonType.RemoveRating,onPrimaryButtonClicked:function(){var e=W(z().mark((function e(t,n){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return T(!1),e.abrupt("return");case 3:if(!j){e.next=7;break}T(!1),R(t,_,(function(){return I(t,n)})),e.next=10;break;case 7:return e.next=9,E(t,n);case 9:(0,Y.O)(t,n,_,S);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onSecondaryButtonClicked:function(){var e=W(z().mark((function e(t,n){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(!1),C(_,(function(){return L(n)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onCloseClicked:function(e){T(!1)}})]})},$=(0,g.default)(c.PosterCard.RatingStarGroup).withConfig({componentId:"sc-73d0305e-0"})(Z());function J(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function K(){var e=J(["\n        fragment BaseTitleCard on Title {\n            id\n            titleText {\n                text\n            }\n            titleType {\n                id\n                text\n            }\n            originalTitleText {\n                text\n            }\n            primaryImage {\n                id\n                width\n                height\n                url\n            }\n            releaseYear {\n                year\n                endYear\n            }\n            ratingsSummary {\n                aggregateRating\n                voteCount\n            }\n            runtime {\n                seconds\n            }\n            certificate {\n                rating\n            }\n            canRate {\n                isRatable\n            }\n            titleCardGenres: genres {\n                genres(limit: 3) {\n                    text\n                }\n            }\n            canHaveEpisodes\n        }\n    "]);return K=function(){return e},e}function Q(){var e=J(["\n        fragment TitleCardTrailer on Title {\n            latestTrailer {\n                id\n            }\n        }\n    "]);return Q=function(){return e},e}function X(){var e=J(["\n        fragment PersonalizedTitleCardUserRating on Title {\n            userRating @include(if: $includeUserRating) {\n                value\n            }\n        }\n    "]);return X=function(){return e},e}var ee=function(e){var t=e.data,n=t.id,i=t.titleText,a=t.originalTitleText,o=t.titleType,s=t.primaryImage,f=t.ratingsSummary,d=t.userRating,g=t.canRate,p=t.latestTrailer,v=e.refMarker,x=void 0===v?{}:v,b=x.prefix,h=void 0===b?"":b,y=x.suffix,T=void 0===y?"":y,j=h?"".concat(h,"_"):"",P=h?"_".concat(T):"",w=(0,u.b)({originalTitleText:a,titleText:i}),R=(0,l.N)(m,{titleName:w}),_="/title/".concat(n,"/?ref_=").concat(j,"tt_t").concat(P);return w&&o?(0,r.jsxs)(c.PosterCard,{dynamicWidth:!0,className:e.className,children:[(0,r.jsx)(M,{title:{id:n,titleText:w,titleTypeId:o.id,image:{url:null===s||void 0===s?void 0:s.url,height:null===s||void 0===s?void 0:s.height,width:null===s||void 0===s?void 0:s.width}},onClick:e.onClick,refPrefix:j,refSuffix:P}),(0,r.jsx)(q,{title:{id:n,titleText:w,ratingsSummary:null===f||void 0===f?void 0:f.aggregateRating,userRating:null===d||void 0===d?void 0:d.value,canRate:null===g||void 0===g?void 0:g.isRatable},refPrefix:j,refSuffix:P}),(0,r.jsx)(c.PosterCard.Title,{href:_,onClick:e.onClick,ariaLabel:R,children:(0,r.jsx)("span",{"data-testid":"title",children:w})}),(0,r.jsxs)(c.PosterCard.Actions,{children:[(0,r.jsx)(I,{title:{id:n},alternateButton:e.alternateButton,refPrefix:j,refSuffix:P}),(0,r.jsx)(C,{title:{latestTrailerId:null===p||void 0===p?void 0:p.id},refPrefix:j,refSuffix:P,iconButtons:e.iconButtons})]})]}):null};ee.fragments={baseTitleCard:a()(K()),titleCardTrailer:a()(Q()),personalizedTitleCardUserRating:a()(X())}}}]);