void 0===window.Mzp&&(window.Mzp={}),function(){"use strict";var e,t,n,o={},r=!1,c=document.body,a=document.documentElement,i={};o.createModal=function(s,u,m){i=m;var p=window.innerWidth<760;r&&o.closeModal();var f=i&&i.title?i.title:"",y=i&&i.className?i.className:"",v=i&&i.closeText?i.closeText:"",w='<div class="mzp-c-modal '+y+'" role="dialog" aria-labelledby="'+s.getAttribute("id")+'" tabindex="-1">  <div class="mzp-c-modal-window">    <div class="mzp-c-modal-inner">      <header><h2>'+f+'</h2></header>      <div class="mzp-c-modal-close">        <button type="button" class="mzp-c-modal-button-close">'+v+"</button>      </div>    </div>  </div></div>";i&&!i.allowScroll||p?a.classList.add("mzp-is-noscroll"):a.classList.remove("mzp-is-noscroll"),c.insertAdjacentHTML("beforeend",w),n=document.querySelector(".mzp-c-modal"),t=u,e=u.parentNode,document.querySelector(".mzp-c-modal-inner").appendChild(u),u.classList.add("mzp-c-modal-overlay-contents");var g=document.querySelector(".mzp-c-modal-button-close");g.addEventListener("click",o.closeModal,!1),g.setAttribute("title",v),document.querySelector(".mzp-c-modal .mzp-c-modal-window").addEventListener("click",(function(e){e.target===this&&o.closeModal()}),!1),n.focus(),document.addEventListener("keyup",l,!1),document.addEventListener("focus",d,!1),s.classList.add("mzp-c-modal-origin"),r=!0,i&&"function"==typeof i.onCreate&&i.onCreate()};var l=function(e){27===e.keyCode&&r&&o.closeModal()},d=function(e){r&&!n.contains(e.target)&&(e.stopPropagation(),n.focus())};o.closeModal=function(o){o&&o.preventDefault(),e.appendChild(t),n.parentNode.removeChild(n),a.classList.remove("mzp-is-noscroll");var c=document.querySelector(".mzp-c-modal-origin");c.focus(),c.classList.remove("mzp-c-modal-origin"),r=!1,document.removeEventListener("focus",d,!1),i&&"function"==typeof i.onDestroy&&i.onDestroy(),i={}},window.Mzp.Modal=o}(),function(){"use strict";!function(){var e,t,n,o,r=document.getElementById("newsletter-form");function c(){o||(t.style.display="block",o=!0)}r&&(e=document.getElementById("newsletter-submit"),t=document.getElementById("newsletter-details"),n=document.querySelector(".mzp-js-email-field"),o="none"!==window.getComputedStyle(t).display,n.addEventListener("focus",(function(){c()})),e.addEventListener("click",(function(e){o||(e.preventDefault(),c())})),r.addEventListener("submit",(function(e){o||(e.preventDefault(),c())})))}()}(),function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}!function(){var t=document.getElementById("newsletter-form");if(t){var n=[],o=document.getElementById("newsletter-errors"),r=document.querySelector(".mzp-c-newsletter-content");t.addEventListener("submit",(function(r){if(t.getAttribute("data-skip-xhr"))return!0;if(r.preventDefault(),r.stopPropagation(),n=[],o)for(o.style.display="none";o.firstChild;)o.removeChild(o.firstChild);var i=document.getElementById("format-html"),l=document.getElementById("format-text"),d=l.checked?l.value:i.value,s=document.getElementById("id_email").value,u=Array.from(document.querySelectorAll("input[name='newsletters']:checked")).map((function(e){return e.value}));if(0===u.length){var m=document.getElementById("newsletter-error-strings").getAttribute("data-form-checkboxes-error");return n.push(m),a()}var p=u,f=document.querySelector('input[name="privacy"]:checked')?"&privacy=true":"",y=document.getElementById("id_country").value,v=document.getElementById("id_lang").value,w="email="+encodeURIComponent(s)+"&"+p.map((function(e){return"newsletters="+e})).join("&")+f+"&fmt="+d+"&country="+y+"&lang="+v+"&source_url="+encodeURIComponent(document.location.href),g=new XMLHttpRequest;g.onload=function(o){if(o.target.status>=200&&o.target.status<300){var r=o.target.response||o.target.responseText;if("object"!==e(r)&&(r=JSON.parse(r)),r.success){t.style.display="none",document.getElementById("newsletter-thanks").style.display="block",c(),function(){if("function"==typeof document.CustomEvent)document.dispatchEvent(new CustomEvent("newsletterSuccess",{bubbles:!0,cancelable:!0}));else if("function"==typeof document.createEvent){var e=document.createEvent("Event");e.initEvent("newsletterSuccess",!0,!0),document.dispatchEvent(e)}}(),window.dataLayer&&window.dataLayer.push({event:"newsletter-signup-success",newsletter:p});var i=p.map((function(e){return e})).join(", ");void 0!==window.Mozilla.Glean&&window.Mozilla.Glean.pageEventPing({label:"Newsletters: ".concat(i),type:"Newsletter Signup Success"})}else{if(r.errors)for(var l=0;l<r.errors.length;l++)n.push(r.errors[l]);a()}}else a()},g.onerror=function(e){a()};var h=t.getAttribute("action");return g.open("POST",h,!0),g.setRequestHeader("Content-type","application/x-www-form-urlencoded"),g.setRequestHeader("X-Requested-With","XMLHttpRequest"),g.timeout=5e3,g.ontimeout=a,g.responseType="json",g.send(w),function(){for(var e=t.querySelectorAll("input, select"),n=0;n<e.length;n++)e[n].disabled=!0}(),!1}),!1)}function c(){for(var e=t.querySelectorAll("input, select"),n=0;n<e.length;n++)e[n].disabled=!1}function a(){if(c(),n.length){o||((o=document.createElement("div")).id="newsletter-errors",o.className="mzp-c-form-errors",r.insertBefore(o,r.firstChild));for(var e=document.createElement("ul"),a=0;a<n.length;a++){var i=document.createElement("li");i.appendChild(document.createTextNode(n[a])),e.appendChild(i)}o.appendChild(e),o.style.display="block"}else t.setAttribute("data-skip-xhr",!0),t.submit()}}()}(),window.onYouTubeIframeAPIReady=function(){"use strict";Mozilla.homePageVideoPlay()},function(){"use strict";var e,t="https://www.youtube.com/iframe_api";function n(){var t=document.querySelector(".mzp-c-modal-inner > header > h2").innerText,n=document.querySelector(".mzp-c-modal-inner .video-play"),o=n.getAttribute("data-id");void 0===window.YT&&(window.location.href="https://www.youtube.com/watch?v="+o),e=new window.YT.Player(n,{width:640,height:360,videoId:o,playerVars:{modestbranding:1,rel:0},events:{onReady:function(e){e.target.playVideo()},onStateChange:function(e){var n;switch(e.data){case window.YT.PlayerState.PLAYING:n="video play";break;case window.YT.PlayerState.PAUSED:n="video paused";break;case window.YT.PlayerState.ENDED:n="video complete"}n&&window.dataLayer.push({event:"video-interaction",videoTitle:t,interaction:n})}}})}function o(){document.querySelector('script[src="'+t+'"]')?n():function(){var e=document.createElement("script");e.src=t;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}()}function r(){e&&e.destroy()}function c(e){e.preventDefault();var t=e.currentTarget,n=t.querySelector(".mzp-c-card-title").innerText,c=function(e){for(e=e.nextSibling;e;){if(1===e.nodeType)return e;e=e.nextSibling}return null}(t).querySelector(".mzp-c-card-video-content");Mzp.Modal.createModal(t,c,{title:n,className:"mzp-has-media",onCreate:o,onDestroy:r})}Mozilla.homePageVideoPlay=n,function(){for(var e=document.querySelectorAll(".mzp-c-card.has-video-embed .mzp-c-card-block-link"),t=0;t<e.length;t++)e[t].addEventListener("click",c,!1)}()}();