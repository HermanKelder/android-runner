"use strict";(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[4848],{6930:(e,t,s)=>{s.d(t,{Z:()=>U});var o=s(34501),n=s(54138),a=s.n(n),r=s(25190),i=s(32468),l=s(32089),c=s(64633),d=s(59215),h=s(80328),u=s(28396),p=s(78756),g=s(2629);const m=(0,d.X9)((e=>{var t,s,o=e.activePage,n=e.headerTheme,d=e.appContext.configRef,m=e.pollerContext,k=m.legacyInboxUnreadStatus,x=m.unseenPosts,v=m.notificationCount,b=m.privateGroupBlogUnreadPostCounts,C=e.messagingContext.unreadMessages,f=null==C?void 0:C.unreadMessagesCount,D=Object.values(null!=b?b:{}).reduce(((e,t)=>e+Number(t)),0),j=null!==(t=null==d?void 0:d.takeoverLogoUrl)&&void 0!==t?t:"",w=(0,h.Z)(c.yy.LoginRegisterHeader+(o?"_".concat(o.name):"")),M={blogName:(0,i.Sr)(o)&&(null===(s=o.extraAttributes)||void 0===s?void 0:s.blogName)||void 0,unreadMessagesCount:f,registrationSource:w,privateGroupBlogUnreadPostCount:D,inboxStatus:k,logoUrl:j,notificationCount:v,headerTheme:n||l.Ov.Light};return(0,g.jsx)(r.ZP,{children:e=>e.isMobile?(0,g.jsx)(p.Z,a()({},M)):(0,g.jsx)(u.Z,a()(a()({},M),{},{activePage:o,unseenPostCount:x}))})}),{appContext:!0,pollerContext:!0,messagingContext:!0});var k=s(6790),x=s(33118),v=s(57622),b=s(50209),C=s.n(b),f=s(95004),D=s(79615),j=s(77095),w=s(54382),M=s(58388),T=s(43523),P=s(78667);const I="s0qqG",Z="WGFYZ",_="_h_yT";var N="https://www.google.com/chrome",O="https://www.mozilla.org/firefox",A="unsupported-browser-message-dismiss";class E extends f.Component{constructor(){super(...arguments),C()(this,"state",{isVisible:this.shouldShowMessage()}),C()(this,"onDismissClick",(()=>{var e=this.props.appContext.setCookie,t=new Date(Date.now()+6048e5);this.setState({isVisible:!1}),e(A,"1",{expires:t}),this.logViewEvent(T.J.UnsupportedBrowserMessageDismiss)}))}render(){if(!this.state.isVisible)return null;var e=this.props.appContext._t,t=this.getMessage();return(0,g.jsxs)("div",{className:I,children:[t,(0,g.jsx)(D.Z,{label:e("Dismiss"),className:Z,onClick:this.onDismissClick,children:(0,g.jsx)(j.Z,{size:{width:12,height:12}})})]})}componentDidMount(){this.state.isVisible&&this.logViewEvent(T.J.UnsupportedBrowserMessageView)}logViewEvent(e){var t=this.props.appContext;(0,t.logEvent)({eventName:e,eventDetails:{ua:(0,t.getBrowserInfo)().userAgent.ua}})}shouldShowMessage(){if("1"===(0,this.props.appContext.getCookie)(A))return!1;var e=this.props.appContext.getBrowserInfo(),t=e.isSupported,s=e.isCrawler;return!t&&!s}getMessage(){return(0,this.props.appContext.getBrowserInfo)().deviceType===M.ZP.Desktop?this.getDesktopMessage():this.getDefaultMessage()}getDesktopMessage(){return(0,g.jsx)("div",{className:_,children:(0,g.jsx)(w.ZP,{comment:"Placeholders here are link tags - links are to each browser's page",components:{chrome:(0,g.jsx)("a",{href:N,target:"_blank",rel:"noopener",children:"Chrome"}),firefox:(0,g.jsx)("a",{href:O,target:"_blank",rel:"noopener",children:"Firefox"}),safari:(0,g.jsx)("a",{href:"https://support.apple.com/downloads/safari",target:"_blank",rel:"noopener",children:"Safari"}),edge:(0,g.jsx)("a",{href:"https://www.microsoft.com/windows/microsoft-edge",target:"_blank",rel:"noopener",children:"Edge"})},children:"You are using an unsupported browser and things might not work as intended. Please make sure you're using the latest version of [chrome/], [firefox/], [safari/], or [edge/]."})})}getDefaultMessage(){return(0,g.jsx)("div",{className:_,children:(0,g.jsx)(w.ZP,{comment:"Placeholders here are link tags - links are to each browser's page",components:{chrome:(0,g.jsx)("a",{href:N,target:"_blank",rel:"noopener",children:"Chrome"}),firefox:(0,g.jsx)("a",{href:O,target:"_blank",rel:"noopener",children:"Firefox"})},children:"You are using an unsupported browser and things might not work as intended. Please make sure you're using the latest version of [chrome/] or [firefox/]."})})}}const S=(0,P.HJ)(E);var V=s(66498);const y="D5eCV";const U=function(e){var t=e.activePage,s=e.children,n=e.headerTheme,a=e.headerWrapperClassName,r=e.headerUseDefaultPalette,i=void 0!==r&&r,l=(0,P.bp)().isLoggedIn,c=(0,g.jsx)(m,{activePage:t,headerTheme:n}),d=a?(0,g.jsxs)("div",{className:a,children:[i&&(0,g.jsx)(x.Z,{chosenPalette:V.Z.trueBlue,scope:a.split(" ").map((e=>".".concat(e))).join("")}),c]}):c;return(0,g.jsx)("div",{className:y,children:(0,g.jsx)(o.Z,{children:(0,g.jsxs)(v.Z,{children:[!l&&(0,g.jsx)(k.ZP,{disable:k._b}),d,s,(0,g.jsx)(S,{})]})})})}},34501:(e,t,s)=>{s.d(t,{Z:()=>k});var o=s(54138),n=s.n(o),a=s(50209),r=s.n(a),i=s(29774),l=s(95004),c=s(43523),d=s(59215),h=s(36696),u=s(55855),p=s(44856),g=s(2629);class m extends l.Component{constructor(){super(...arguments),r()(this,"getTimelineContext",(()=>this.timelineContext)),r()(this,"setTimelineContext",(e=>{this.timelineContext=e})),r()(this,"state",{isMediaDocked:!1,dockedTimelineObject:null,reparentableMediaManager:null,canAutoDock:!1,getTimelineContext:this.getTimelineContext}),r()(this,"idGen",new h.Z),r()(this,"getDockableContextValue",(0,i.Z)((e=>({isMediaDocked:e.isMediaDocked,dockedTimelineObject:e.dockedTimelineObject,reparentableMediaManager:e.reparentableMediaManager,canAutoDock:e.canAutoDock,getTimelineContext:this.getTimelineContext,dock:this.dock,undock:this.undock,clearDockedInfo:this.clearDockedInfo,setDockedTimelineObject:this.setDockedTimelineObject,setTimelineContext:this.setTimelineContext,getId:this.getId})))),r()(this,"dock",(e=>{var t=e.dockedTimelineObject,s=e.reparentableMediaManager,o=e.isAutoDock,n=e.canAutoDock;return this.setState((e=>{var a=e.isMediaDocked,r=e.dockedTimelineObject,i=e.canAutoDock;return this.logDockEvent(c.J.DockElement,t,o,n),a&&r&&this.logDockEvent(c.J.UndockElement,r,!0,i),{isMediaDocked:!0,dockedTimelineObject:t,reparentableMediaManager:s,canAutoDock:n}}))})),r()(this,"undock",(()=>this.setState((e=>{var t=e.isMediaDocked,s=e.dockedTimelineObject,o=e.canAutoDock;return t&&s&&this.logDockEvent(c.J.UndockElement,s,!1,o),{isMediaDocked:!1}})))),r()(this,"clearDockedInfo",(()=>this.setState({dockedTimelineObject:null,reparentableMediaManager:null,canAutoDock:!1}))),r()(this,"setDockedTimelineObject",(e=>this.setState({dockedTimelineObject:e}))),r()(this,"getId",(()=>this.idGen.next())),r()(this,"logDockEvent",((e,t,s,o)=>{var a=this.props,r=a.appContext.logEvent,i=a.adContext,l=i.adPlacementConfiguration,c=i.hydraConfigInstanceId;r({eventName:e,eventDetails:n()(n()({is_auto_dock_event:s,can_auto_dock:o},t.placementId&&{placement_id:t.placementId}),(0,u.U)({adPlacementConfiguration:l,hydraConfigInstanceId:c,timelineObject:t}))})}))}render(){return(0,g.jsx)(p.Z.Provider,{value:this.getDockableContextValue(this.state),children:this.props.children})}}const k=(0,d.X9)(m,{appContext:!0,adContext:!0})},57622:(e,t,s)=>{s.d(t,{Z:()=>v});var o=s(50209),n=s.n(o),a=s(5754),r=s.n(a),i=s(95004),l=s(79153);const c=s.p+"src/assets/icons/tumblr-bot-de298e05.png";var d=s(98181),h=s(11476),u=s(93613),p=s(36696),g=s(78093);const m={toastHolder:"CkEXb",toast:"a0A37",in:"P8JEa",out:"aNHK7",error:"hAkP2",success:"LNdFd",tumblrbot:"tm7hO"};var k=s(2629);class x extends i.Component{constructor(){super(...arguments),n()(this,"state",{toasts:[]}),n()(this,"toastIdGen",new p.Z),n()(this,"toggleToast",((e,t,s,o)=>{var n=t||"notice",a=null!=s?s:this.toastIdGen.next();this.setState((t=>{var r=t.toasts;return s&&r.find((e=>e.id===a))?t:{toasts:r.concat({text:e,id:a,type:n,className:o})}}),(()=>this.removeLastAddedToast(n)))})),n()(this,"removeLastAddedToast",(e=>{setTimeout((()=>{this.setState((e=>{var t=[...e.toasts];return t.shift(),{toasts:t}}))}),"error"===e?g.errorToastVisibleDurationInMs:g.toastVisibleDurationInMs)}))}renderIcon(e){if(this.props.renderIcon){var t={width:20,height:20};switch(e){case"error":return(0,k.jsx)(h.Z,{size:t});case"success":return(0,k.jsx)(d.Z,{size:t});case"tumblrbot":return(0,k.jsx)("img",{src:c,alt:"",width:50});default:return null}}}render(){var e=this.props,t=e.toastWrapperClass,s=e.toastClass;return(0,k.jsxs)(u.g.Provider,{value:{toggleToast:this.toggleToast},children:[this.state.toasts.length>0?(0,l.createPortal)((0,k.jsx)("div",{className:r()(m.toastHolder,t),children:this.state.toasts.map((e=>{var t=e.text,o=e.id,n=e.type,a=e.className;return(0,k.jsxs)("div",{className:r()(m.toast,m[n],s,a),children:[this.renderIcon(n),t]},o)}))}),document.body):null,this.props.children]})}}n()(x,"defaultProps",{renderIcon:!0});const v=x}}]);